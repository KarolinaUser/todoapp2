(self.webpackChunktodoapp2=self.webpackChunktodoapp2||[]).push([[179],{2011:(mt,xe,L)=>{"use strict";L.d(xe,{Dh:()=>pe,GT:()=>Ee,cc:()=>Fe,hO:()=>We,on:()=>K,pX:()=>oe,xv:()=>ve});var p=L(5e3),j=L(127),P=L(5813);mt=L.hmd(mt);const ae=["ngOnDestroy"],oe=(Ae,st,qe,Oe={})=>new Proxy(Ae,{get:(Pe,Ce)=>qe.runOutsideAngular(()=>{var Xe;if(Ae[Ce])return(null===(Xe=null==Oe?void 0:Oe.spy)||void 0===Xe?void 0:Xe.get)&&Oe.spy.get(Ce,Ae[Ce]),Ae[Ce];if(ae.indexOf(Ce)>-1)return()=>{};const re=st.toPromise().then(Y=>{const Qe=Y&&Y[Ce];return"function"==typeof Qe?Qe.bind(Y):Qe&&Qe.then?Qe.then(ne=>qe.run(()=>ne)):qe.run(()=>Qe)});return new Proxy(()=>{},{get:(Y,Qe)=>re[Qe],apply:(Y,Qe,ne)=>re.then(ue=>{var de;const he=ue&&ue(...ne);return(null===(de=null==Oe?void 0:Oe.spy)||void 0===de?void 0:de.apply)&&Oe.spy.apply(Ce,ne,he),he})})})}),Ee=(Ae,st)=>{st.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(Oe=>{Object.defineProperty(Ae.prototype,Oe,Object.getOwnPropertyDescriptor(qe.prototype||qe,Oe))})})};class ge{constructor(st){return st}}const pe=new p.OlP("angularfire2.app.options"),ve=new p.OlP("angularfire2.app.name");function K(Ae,st,qe){const Pe="object"==typeof qe&&qe||{};Pe.name=Pe.name||"string"==typeof qe&&qe||"[DEFAULT]";const Xe=j.Z.apps.filter(re=>re&&re.name===Pe.name)[0]||st.runOutsideAngular(()=>j.Z.initializeApp(Ae,Pe));try{JSON.stringify(Ae)!==JSON.stringify(Xe.options)&&W("error",`${Xe.name} Firebase App already initialized with different options${mt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(re){}return new ge(Xe)}const W=(Ae,...st)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[Ae](...st)},se={provide:ge,useFactory:K,deps:[pe,p.R0b,[new p.FiY,ve]]};let We=(()=>{class Ae{constructor(qe){j.Z.registerVersion("angularfire",P.q4.full,"core"),j.Z.registerVersion("angularfire",P.q4.full,"app-compat"),j.Z.registerVersion("angular",p.q4F.full,qe.toString())}static initializeApp(qe,Oe){return{ngModule:Ae,providers:[{provide:pe,useValue:qe},{provide:ve,useValue:Oe}]}}}return Ae.\u0275fac=function(qe){return new(qe||Ae)(p.LFG(p.Lbi))},Ae.\u0275mod=p.oAB({type:Ae}),Ae.\u0275inj=p.cJS({providers:[se]}),Ae})();function Fe(Ae,st,qe,Oe,Pe){const[,Ce,Xe]=globalThis.\u0275AngularfireInstanceCache.find(re=>re[0]===Ae)||[];if(Ce)return function Ve(Ae,st){try{return Ae.toString()===st.toString()}catch(qe){return Ae===st}}(Pe,Xe)||(we("error",`${st} was already initialized on the ${qe} Firebase App with different settings.${Ue?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:Pe,was:Xe})),Ce;{const re=Oe();return globalThis.\u0275AngularfireInstanceCache.push([Ae,re,Pe]),re}}const Ue=!!mt.hot,we=(Ae,...st)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[Ae](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(mt,xe,L)=>{"use strict";L.d(xe,{q4:()=>iu,iC:()=>bo,HU:()=>Zc,vb:()=>Lu,JM:()=>cp,u3:()=>Yc});var p=L(5e3),j=L(5867),P=L(5861),ae=L(9681),oe=L(2090),Ee=L(4859),ge=L(1877);const pe="@firebase/installations",W="w:0.5.8",se="FIS_v2",Ae=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function st(C){return C instanceof oe.ZR&&C.code.includes("request-failed")}function qe({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Oe(C){return{token:C.token,requestStatus:2,expiresIn:ne(C.expiresIn),creationTime:Date.now()}}function Pe(C,T){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,P.Z)(function*(C,T){const G=(yield T.json()).error;return Ae.create("request-failed",{requestName:C,serverCode:G.code,serverMessage:G.message,serverStatus:G.status})})).apply(this,arguments)}function Xe({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function re(C,{refreshToken:T}){const R=Xe(C);return R.append("Authorization",function ue(C){return`${se} ${C}`}(T)),R}function Y(C){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,P.Z)(function*(C){const T=yield C();return T.status>=500&&T.status<600?C():T})).apply(this,arguments)}function ne(C){return Number(C.replace("s","000"))}function de(C,T){return he.apply(this,arguments)}function he(){return(he=(0,P.Z)(function*({appConfig:C,heartbeatServiceProvider:T},{fid:R}){const G=qe(C),X=Xe(C),ce=T.getImmediate({optional:!0});if(ce){const Tt=yield ce.getHeartbeatsHeader();Tt&&X.append("x-firebase-client",Tt)}const ze={method:"POST",headers:X,body:JSON.stringify({fid:R,authVersion:se,appId:C.appId,sdkVersion:W})},Pt=yield Y(()=>fetch(G,ze));if(Pt.ok){const Tt=yield Pt.json();return{fid:Tt.fid||R,registrationStatus:2,refreshToken:Tt.refreshToken,authToken:Oe(Tt.authToken)}}throw yield Pe("Create Installation",Pt)})).apply(this,arguments)}function me(C){return new Promise(T=>{setTimeout(T,C)})}const St=/^[cdef][\w-]{21}$/;function sn(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const R=function Ge(C){return function Be(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return St.test(R)?R:""}catch(C){return""}}function Ot(C){return`${C.appName}!${C.appId}`}const bn=new Map;function Rn(C,T){const R=Ot(C);Yt(R,T),function An(C,T){const R=function ur(){return!Wn&&"BroadcastChannel"in self&&(Wn=new BroadcastChannel("[Firebase] FID Change"),Wn.onmessage=C=>{Yt(C.data.key,C.data.fid)}),Wn}();R&&R.postMessage({key:C,fid:T}),function hr(){0===bn.size&&Wn&&(Wn.close(),Wn=null)}()}(R,T)}function Yt(C,T){const R=bn.get(C);if(R)for(const G of R)G(T)}let Wn=null;const qn="firebase-installations-store";let fr=null;function Mr(){return fr||(fr=(0,oe.X3)("firebase-installations-database",1,(C,T)=>{0===T&&C.createObjectStore(qn)})),fr}function rt(C,T){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,P.Z)(function*(C,T){const R=Ot(C),X=(yield Mr()).transaction(qn,"readwrite"),ce=X.objectStore(qn),De=yield ce.get(R);return yield ce.put(T,R),yield X.complete,(!De||De.fid!==T.fid)&&Rn(C,T.fid),T})).apply(this,arguments)}function Un(C){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,P.Z)(function*(C){const T=Ot(C),G=(yield Mr()).transaction(qn,"readwrite");yield G.objectStore(qn).delete(T),yield G.complete})).apply(this,arguments)}function Pn(C,T){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,P.Z)(function*(C,T){const R=Ot(C),X=(yield Mr()).transaction(qn,"readwrite"),ce=X.objectStore(qn),De=yield ce.get(R),ze=T(De);return void 0===ze?yield ce.delete(R):yield ce.put(ze,R),yield X.complete,ze&&(!De||De.fid!==ze.fid)&&Rn(C,ze.fid),ze})).apply(this,arguments)}function On(C){return _t.apply(this,arguments)}function _t(){return(_t=(0,P.Z)(function*(C){let T;const R=yield Pn(C.appConfig,G=>{const X=xn(G),ce=kr(C,X);return T=ce.registrationPromise,ce.installationEntry});return""===R.fid?{installationEntry:yield T}:{installationEntry:R,registrationPromise:T}})).apply(this,arguments)}function xn(C){return Ct(C||{fid:sn(),registrationStatus:0})}function kr(C,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Ae.create("app-offline"))};const R={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},G=function Lt(C,T){return it.apply(this,arguments)}(C,R);return{installationEntry:R,registrationPromise:G}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Ze(C)}:{installationEntry:T}}function it(){return(it=(0,P.Z)(function*(C,T){try{const R=yield de(C,T);return rt(C.appConfig,R)}catch(R){throw st(R)&&409===R.customData.serverCode?yield Un(C.appConfig):yield rt(C.appConfig,{fid:T.fid,registrationStatus:0}),R}})).apply(this,arguments)}function Ze(C){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,P.Z)(function*(C){let T=yield Gr(C.appConfig);for(;1===T.registrationStatus;)yield me(100),T=yield Gr(C.appConfig);if(0===T.registrationStatus){const{installationEntry:R,registrationPromise:G}=yield On(C);return G||R}return T})).apply(this,arguments)}function Gr(C){return Pn(C,T=>{if(!T)throw Ae.create("installation-not-found");return Ct(T)})}function Ct(C){return function Ti(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Nn(C,T){return on.apply(this,arguments)}function on(){return(on=(0,P.Z)(function*({appConfig:C,heartbeatServiceProvider:T},R){const G=yt(C,R),X=re(C,R),ce=T.getImmediate({optional:!0});if(ce){const Tt=yield ce.getHeartbeatsHeader();Tt&&X.append("x-firebase-client",Tt)}const ze={method:"POST",headers:X,body:JSON.stringify({installation:{sdkVersion:W,appId:C.appId}})},Pt=yield Y(()=>fetch(G,ze));if(Pt.ok)return Oe(yield Pt.json());throw yield Pe("Generate Auth Token",Pt)})).apply(this,arguments)}function yt(C,{fid:T}){return`${qe(C)}/${T}/authTokens:generate`}function jn(C){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,P.Z)(function*(C,T=!1){let R;const G=yield Pn(C.appConfig,ce=>{if(!Ut(ce))throw Ae.create("not-registered");const De=ce.authToken;if(!T&&q(De))return ce;if(1===De.requestStatus)return R=Ye(C,T),ce;{if(!navigator.onLine)throw Ae.create("app-offline");const ze=Q(ce);return R=gt(C,ze),ze}});return R?yield R:G.authToken})).apply(this,arguments)}function Ye(C,T){return le.apply(this,arguments)}function le(){return(le=(0,P.Z)(function*(C,T){let R=yield ot(C.appConfig);for(;1===R.authToken.requestStatus;)yield me(100),R=yield ot(C.appConfig);const G=R.authToken;return 0===G.requestStatus?jn(C,T):G})).apply(this,arguments)}function ot(C){return Pn(C,T=>{if(!Ut(T))throw Ae.create("not-registered");return function ye(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function gt(C,T){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,P.Z)(function*(C,T){try{const R=yield Nn(C,T),G=Object.assign(Object.assign({},T),{authToken:R});return yield rt(C.appConfig,G),R}catch(R){if(!st(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const G=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield rt(C.appConfig,G)}else yield Un(C.appConfig);throw R}})).apply(this,arguments)}function Ut(C){return void 0!==C&&2===C.registrationStatus}function q(C){return 2===C.requestStatus&&!function $(C){const T=Date.now();return T<C.creationTime||C.creationTime+C.expiresIn<T+36e5}(C)}function Q(C){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:T})}function U(){return(U=(0,P.Z)(function*(C){const T=C,{installationEntry:R,registrationPromise:G}=yield On(T);return G?G.catch(console.error):jn(T).catch(console.error),R.fid})).apply(this,arguments)}function fe(){return(fe=(0,P.Z)(function*(C,T=!1){const R=C;return yield je(R),(yield jn(R,T)).token})).apply(this,arguments)}function je(C){return Je.apply(this,arguments)}function Je(){return(Je=(0,P.Z)(function*(C){const{registrationPromise:T}=yield On(C);T&&(yield T)})).apply(this,arguments)}function Jn(C){return Ae.create("missing-app-config-values",{valueName:C})}const na="installations",et=C=>{const T=C.getProvider("app").getImmediate(),R=function fi(C){if(!C||!C.options)throw Jn("App Configuration");if(!C.name)throw Jn("App Name");const T=["projectId","apiKey","appId"];for(const R of T)if(!C.options[R])throw Jn(R);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(T);return{app:T,appConfig:R,heartbeatServiceProvider:(0,ae._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Zt=C=>{const T=C.getProvider("app").getImmediate(),R=(0,ae._getProvider)(T,na).getImmediate();return{getId:()=>function F(C){return U.apply(this,arguments)}(R),getToken:X=>function H(C){return fe.apply(this,arguments)}(R,X)}};(function gn(){(0,ae._registerComponent)(new Ee.wA(na,et,"PUBLIC")),(0,ae._registerComponent)(new Ee.wA("installations-internal",Zt,"PRIVATE"))})(),(0,ae.registerVersion)(pe,"0.5.8"),(0,ae.registerVersion)(pe,"0.5.8","esm2017");const Er="@firebase/remote-config",Fn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ba{constructor(T,R,G,X){this.client=T,this.storage=R,this.storageCache=G,this.logger=X}isCachedDataFresh(T,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const G=Date.now()-R,X=G<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${G}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${X}.`),X}fetch(T){var R=this;return(0,P.Z)(function*(){const[G,X]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(X&&R.isCachedDataFresh(T.cacheMaxAgeMillis,G))return X;T.eTag=X&&X.eTag;const ce=yield R.client.fetch(T),De=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ce.status&&De.push(R.storage.setLastSuccessfulFetchResponse(ce)),yield Promise.all(De),ce})()}}function So(C=navigator){return C.languages&&C.languages[0]||C.language}class qr{constructor(T,R,G,X,ce,De){this.firebaseInstallations=T,this.sdkVersion=R,this.namespace=G,this.projectId=X,this.apiKey=ce,this.appId=De}fetch(T){var R=this;return(0,P.Z)(function*(){const[G,X]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),De=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Pt={sdk_version:R.sdkVersion,app_instance_id:G,app_instance_id_token:X,app_id:R.appId,language_code:So()},Tt={method:"POST",headers:ze,body:JSON.stringify(Pt)},tn=fetch(De,Tt),Mt=new Promise((Oi,os)=>{T.signal.addEventListener(()=>{const Uu=new Error("The operation was aborted.");Uu.name="AbortError",os(Uu)})});let Yr;try{yield Promise.race([tn,Mt]),Yr=yield tn}catch(Oi){let os="fetch-client-network";throw"AbortError"===Oi.name&&(os="fetch-timeout"),Fn.create(os,{originalErrorMessage:Oi.message})}let yr=Yr.status;const js=Yr.headers.get("ETag")||void 0;let bs,ss;if(200===Yr.status){let Oi;try{Oi=yield Yr.json()}catch(os){throw Fn.create("fetch-client-parse",{originalErrorMessage:os.message})}bs=Oi.entries,ss=Oi.state}if("INSTANCE_STATE_UNSPECIFIED"===ss?yr=500:"NO_CHANGE"===ss?yr=304:("NO_TEMPLATE"===ss||"EMPTY_CONFIG"===ss)&&(bs={}),304!==yr&&200!==yr)throw Fn.create("fetch-status",{httpStatus:yr});return{status:yr,eTag:js,config:bs}})()}}class xi{constructor(T,R){this.client=T,this.storage=R}fetch(T){var R=this;return(0,P.Z)(function*(){const G=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(T,G)})()}attemptFetch(T,{throttleEndTimeMillis:R,backoffCount:G}){var X=this;return(0,P.Z)(function*(){yield function Kr(C,T){return new Promise((R,G)=>{const X=Math.max(T-Date.now(),0),ce=setTimeout(R,X);C.addEventListener(()=>{clearTimeout(ce),G(Fn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,R);try{const ce=yield X.client.fetch(T);return yield X.storage.deleteThrottleMetadata(),ce}catch(ce){if(!function Tl(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ce))throw ce;const De={throttleEndTimeMillis:Date.now()+(0,oe.$s)(G),backoffCount:G+1};return yield X.storage.setThrottleMetadata(De),X.attemptFetch(T,De)}})()}}class Al{constructor(T,R,G,X,ce){this.app=T,this._client=R,this._storageCache=G,this._storage=X,this._logger=ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function xo(C,T){const R=C.target.error||void 0;return Fn.create(T,{originalErrorMessage:R&&R.message})}const io="app_namespace_store";class Wi{constructor(T,R,G,X=function Hc(){return new Promise((C,T)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=G=>{T(xo(G,"storage-open"))},R.onsuccess=G=>{C(G.target.result)},R.onupgradeneeded=G=>{0===G.oldVersion&&G.target.result.createObjectStore(io,{keyPath:"compositeKey"})}}catch(R){T(Fn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=T,this.appName=R,this.namespace=G,this.openDbPromise=X}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var R=this;return(0,P.Z)(function*(){const G=yield R.openDbPromise;return new Promise((X,ce)=>{const ze=G.transaction([io],"readonly").objectStore(io),Pt=R.createCompositeKey(T);try{const Tt=ze.get(Pt);Tt.onerror=tn=>{ce(xo(tn,"storage-get"))},Tt.onsuccess=tn=>{const Mt=tn.target.result;X(Mt?Mt.value:void 0)}}catch(Tt){ce(Fn.create("storage-get",{originalErrorMessage:Tt&&Tt.message}))}})})()}set(T,R){var G=this;return(0,P.Z)(function*(){const X=yield G.openDbPromise;return new Promise((ce,De)=>{const Pt=X.transaction([io],"readwrite").objectStore(io),Tt=G.createCompositeKey(T);try{const tn=Pt.put({compositeKey:Tt,value:R});tn.onerror=Mt=>{De(xo(Mt,"storage-set"))},tn.onsuccess=()=>{ce()}}catch(tn){De(Fn.create("storage-set",{originalErrorMessage:tn&&tn.message}))}})})()}delete(T){var R=this;return(0,P.Z)(function*(){const G=yield R.openDbPromise;return new Promise((X,ce)=>{const ze=G.transaction([io],"readwrite").objectStore(io),Pt=R.createCompositeKey(T);try{const Tt=ze.delete(Pt);Tt.onerror=tn=>{ce(xo(tn,"storage-delete"))},Tt.onsuccess=()=>{X()}}catch(Tt){ce(Fn.create("storage-delete",{originalErrorMessage:Tt&&Tt.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class xs{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,P.Z)(function*(){const R=T.storage.getLastFetchStatus(),G=T.storage.getLastSuccessfulFetchTimestampMillis(),X=T.storage.getActiveConfig(),ce=yield R;ce&&(T.lastFetchStatus=ce);const De=yield G;De&&(T.lastSuccessfulFetchTimestampMillis=De);const ze=yield X;ze&&(T.activeConfig=ze)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Su(){return sa.apply(this,arguments)}function sa(){return(sa=(0,P.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(C){return!1}})).apply(this,arguments)}!function Gc(){(0,ae._registerComponent)(new Ee.wA("remote-config",function C(T,{instanceIdentifier:R}){const G=T.getProvider("app").getImmediate(),X=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Fn.create("registration-window");if(!(0,oe.hl)())throw Fn.create("indexed-db-unavailable");const{projectId:ce,apiKey:De,appId:ze}=G.options;if(!ce)throw Fn.create("registration-project-id");if(!De)throw Fn.create("registration-api-key");if(!ze)throw Fn.create("registration-app-id");const Pt=new Wi(ze,G.name,R=R||"firebase"),Tt=new xs(Pt),tn=new ge.Yd(Er);tn.logLevel=ge.in.ERROR;const Mt=new qr(X,ae.SDK_VERSION,R,ce,De,ze),Yr=new xi(Mt,Pt),yr=new Ba(Yr,Pt,Tt,tn),js=new Al(G,yr,Tt,Pt,tn);return function zr(C){const T=(0,oe.m9)(C);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(js),js},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Er,"0.3.7"),(0,ae.registerVersion)(Er,"0.3.7","esm2017")}();const qi="/firebase-messaging-sw.js",Mo="/firebase-cloud-messaging-push-scope",Jr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",so="google.c.a.c_id",oa="google.c.a.c_l",xl="google.c.a.ts",ko="google.c.a.e";var gi=(()=>{return(C=gi||(gi={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",gi;var C})();function Mi(C){const T=new Uint8Array(C);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function aa(C){const R=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),G=atob(R),X=new Uint8Array(G.length);for(let ce=0;ce<G.length;++ce)X[ce]=G.charCodeAt(ce);return X}const Ro="fcm_token_details_db",mi="fcm_token_object_Store";function zc(C){return ao.apply(this,arguments)}function ao(){return ao=(0,P.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ce=>ce.name).includes(Ro))return null;let T=null;return(yield(0,oe.X3)(Ro,5,function(){var G=(0,P.Z)(function*(X,ce,De,ze){var Pt;if(ce<2||!X.objectStoreNames.contains(mi))return;const Tt=ze.objectStore(mi),tn=yield Tt.index("fcmSenderId").get(C);if(yield Tt.clear(),tn)if(2===ce){const Mt=tn;if(!Mt.auth||!Mt.p256dh||!Mt.endpoint)return;T={token:Mt.fcmToken,createTime:null!==(Pt=Mt.createTime)&&void 0!==Pt?Pt:Date.now(),subscriptionOptions:{auth:Mt.auth,p256dh:Mt.p256dh,endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:"string"==typeof Mt.vapidKey?Mt.vapidKey:Mi(Mt.vapidKey)}}}else if(3===ce){const Mt=tn;T={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:Mi(Mt.auth),p256dh:Mi(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:Mi(Mt.vapidKey)}}}else if(4===ce){const Mt=tn;T={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:Mi(Mt.auth),p256dh:Mi(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:Mi(Mt.vapidKey)}}}});return function(X,ce,De,ze){return G.apply(this,arguments)}}())).close(),yield(0,oe.Lj)(Ro),yield(0,oe.Lj)("fcm_vapid_details_db"),yield(0,oe.Lj)("undefined"),Ua(T)?T:null}),ao.apply(this,arguments)}function Ua(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:T}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const fs="firebase-messaging-store";let Ms=null;function ja(){return Ms||(Ms=(0,oe.X3)("firebase-messaging-database",1,(C,T)=>{0===T&&C.createObjectStore(fs)})),Ms}function En(C){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,P.Z)(function*(C){const T=Xr(C),G=yield(yield ja()).transaction(fs).objectStore(fs).get(T);if(G)return G;{const X=yield zc(C.appConfig.senderId);if(X)return yield ps(C,X),X}})).apply(this,arguments)}function ps(C,T){return fn.apply(this,arguments)}function fn(){return(fn=(0,P.Z)(function*(C,T){const R=Xr(C),X=(yield ja()).transaction(fs,"readwrite");return yield X.objectStore(fs).put(T,R),yield X.complete,T})).apply(this,arguments)}function $a(C){return uo.apply(this,arguments)}function uo(){return(uo=(0,P.Z)(function*(C){const T=Xr(C),G=(yield ja()).transaction(fs,"readwrite");yield G.objectStore(fs).delete(T),yield G.complete})).apply(this,arguments)}function Xr({appConfig:C}){return C.appId}const Zn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function la(C,T){return ei.apply(this,arguments)}function ei(){return(ei=(0,P.Z)(function*(C,T){const R=yield ki(C),G=It(T),X={method:"POST",headers:R,body:JSON.stringify(G)};let ce;try{ce=yield(yield fetch(yi(C.appConfig),X)).json()}catch(De){throw Zn.create("token-subscribe-failed",{errorInfo:De})}if(ce.error)throw Zn.create("token-subscribe-failed",{errorInfo:ce.error.message});if(!ce.token)throw Zn.create("token-subscribe-no-token");return ce.token})).apply(this,arguments)}function Ir(C,T){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,P.Z)(function*(C,T){const R=yield ki(C),G=It(T.subscriptionOptions),X={method:"PATCH",headers:R,body:JSON.stringify(G)};let ce;try{ce=yield(yield fetch(`${yi(C.appConfig)}/${T.token}`,X)).json()}catch(De){throw Zn.create("token-update-failed",{errorInfo:De})}if(ce.error)throw Zn.create("token-update-failed",{errorInfo:ce.error.message});if(!ce.token)throw Zn.create("token-update-no-token");return ce.token})).apply(this,arguments)}function Yi(C,T){return ks.apply(this,arguments)}function ks(){return(ks=(0,P.Z)(function*(C,T){const G={method:"DELETE",headers:yield ki(C)};try{const ce=yield(yield fetch(`${yi(C.appConfig)}/${T}`,G)).json();if(ce.error)throw Zn.create("token-unsubscribe-failed",{errorInfo:ce.error.message})}catch(X){throw Zn.create("token-unsubscribe-failed",{errorInfo:X})}})).apply(this,arguments)}function yi({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function ki(C){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,P.Z)(function*({appConfig:C,installations:T}){const R=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function It({p256dh:C,auth:T,endpoint:R,vapidKey:G}){const X={web:{endpoint:R,auth:T,p256dh:C}};return G!==Jr&&(X.web.applicationPubKey=G),X}const Po=6048e5;function Mu(C){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,P.Z)(function*(C){const T=yield kl(C.swRegistration,C.vapidKey),R={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:T.endpoint,auth:Mi(T.getKey("auth")),p256dh:Mi(T.getKey("p256dh"))},G=yield En(C.firebaseDependencies);if(G){if(ca(G.subscriptionOptions,R))return Date.now()>=G.createTime+Po?Ml(C,{token:G.token,createTime:Date.now(),subscriptionOptions:R}):G.token;try{yield Yi(C.firebaseDependencies,G.token)}catch(X){console.warn(X)}return ke(C.firebaseDependencies,R)}return ke(C.firebaseDependencies,R)})).apply(this,arguments)}function ku(C){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,P.Z)(function*(C){const T=yield En(C.firebaseDependencies);T&&(yield Yi(C.firebaseDependencies,T.token),yield $a(C.firebaseDependencies));const R=yield C.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Ml(C,T){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,P.Z)(function*(C,T){try{const R=yield Ir(C.firebaseDependencies,T),G=Object.assign(Object.assign({},T),{token:R,createTime:Date.now()});return yield ps(C.firebaseDependencies,G),R}catch(R){throw yield ku(C),R}})).apply(this,arguments)}function ke(C,T){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,P.Z)(function*(C,T){const G={token:yield la(C,T),createTime:Date.now(),subscriptionOptions:T};return yield ps(C,G),G.token})).apply(this,arguments)}function kl(C,T){return In.apply(this,arguments)}function In(){return(In=(0,P.Z)(function*(C,T){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:aa(T)})})).apply(this,arguments)}function ca(C,T){return T.vapidKey===C.vapidKey&&T.endpoint===C.endpoint&&T.auth===C.auth&&T.p256dh===C.p256dh}function Xi(C){const T={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function ti(C,T){if(!T.notification)return;C.notification={};const R=T.notification.title;R&&(C.notification.title=R);const G=T.notification.body;G&&(C.notification.body=G);const X=T.notification.image;X&&(C.notification.image=X)}(T,C),function da(C,T){!T.data||(C.data=T.data)}(T,C),function No(C,T){if(!T.fcmOptions)return;C.fcmOptions={};const R=T.fcmOptions.link;R&&(C.fcmOptions.link=R);const G=T.fcmOptions.analytics_label;G&&(C.fcmOptions.analyticsLabel=G)}(T,C),T}function Wc(C){return"object"==typeof C&&!!C&&so in C}function Ha(C,T){const R=[];for(let G=0;G<C.length;G++)R.push(C.charAt(G)),G<T.length&&R.push(T.charAt(G));return R.join("")}function co(C){return Zn.create("missing-app-config-values",{valueName:C})}Ha("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ha("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ir{constructor(T,R,G){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const X=function lo(C){if(!C||!C.options)throw co("App Configuration Object");if(!C.name)throw co("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:R}=C;for(const G of T)if(!R[G])throw co(G);return{appName:C.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:X,installations:R,analyticsProvider:G}}_delete(){return Promise.resolve()}}function Ri(C){return ho.apply(this,arguments)}function ho(){return(ho=(0,P.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(qi,{scope:Mo}),C.swRegistration.update().catch(()=>{})}catch(T){throw Zn.create("failed-service-worker-registration",{browserErrorMessage:T.message})}})).apply(this,arguments)}function fo(C,T){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,P.Z)(function*(C,T){if(!T&&!C.swRegistration&&(yield Ri(C)),T||!C.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Zn.create("invalid-sw-registration");C.swRegistration=T}})).apply(this,arguments)}function Rl(C,T){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,P.Z)(function*(C,T){T?C.vapidKey=T:C.vapidKey||(C.vapidKey=Jr)})).apply(this,arguments)}function po(){return(po=(0,P.Z)(function*(C,T){if(!navigator)throw Zn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Zn.create("permission-blocked");return yield Rl(C,null==T?void 0:T.vapidKey),yield fo(C,null==T?void 0:T.serviceWorkerRegistration),Mu(C)})).apply(this,arguments)}function Ga(C,T,R){return Os.apply(this,arguments)}function Os(){return(Os=(0,P.Z)(function*(C,T,R){const G=Pl(T);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(G,{message_id:R[so],message_name:R[oa],message_time:R[xl],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Pl(C){switch(C){case gi.NOTIFICATION_CLICKED:return"notification_open";case gi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function za(){return(za=(0,P.Z)(function*(C,T){const R=T.data;if(!R.isFirebaseMessaging)return;C.onMessageHandler&&R.messageType===gi.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Xi(R)):C.onMessageHandler.next(Xi(R)));const G=R.data;Wc(G)&&"1"===G[ko]&&(yield Ga(C,R.messageType,G))})).apply(this,arguments)}const go="@firebase/messaging",gs=C=>{const T=new ir(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function fa(C,T){return za.apply(this,arguments)}(T,R)),T},Fo=C=>{const T=C.getProvider("messaging").getImmediate();return{getToken:G=>function ha(C,T){return po.apply(this,arguments)}(T,G)}};function Ru(){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,P.Z)(function*(){try{yield(0,oe.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ol(){(0,ae._registerComponent)(new Ee.wA("messaging",gs,"PUBLIC")),(0,ae._registerComponent)(new Ee.wA("messaging-internal",Fo,"PRIVATE")),(0,ae.registerVersion)(go,"0.9.12"),(0,ae.registerVersion)(go,"0.9.12","esm2017")}();const qa="analytics",Ou="firebase_id",Ka="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pa="https://www.googletagmanager.com/gtag/js",Xn=new ge.Yd("@firebase/analytics");function Za(C){return Promise.all(C.map(T=>T.catch(R=>R)))}function ga(C,T){const R=document.createElement("script");R.src=`${pa}?l=${C}&id=${T}`,R.async=!0,document.head.appendChild(R)}function ma(C,T,R,G,X,ce){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,P.Z)(function*(C,T,R,G,X,ce){const De=G[X];try{if(De)yield T[De];else{const Pt=(yield Za(R)).find(Tt=>Tt.measurementId===X);Pt&&(yield T[Pt.appId])}}catch(ze){Xn.error(ze)}C("config",X,ce)})).apply(this,arguments)}function Ya(C,T,R,G,X){return _i.apply(this,arguments)}function _i(){return(_i=(0,P.Z)(function*(C,T,R,G,X){try{let ce=[];if(X&&X.send_to){let De=X.send_to;Array.isArray(De)||(De=[De]);const ze=yield Za(R);for(const Pt of De){const Tt=ze.find(Mt=>Mt.measurementId===Pt),tn=Tt&&T[Tt.appId];if(!tn){ce=[];break}ce.push(tn)}}0===ce.length&&(ce=Object.values(T)),yield Promise.all(ce),C("event",G,X||{})}catch(ce){Xn.error(ce)}})).apply(this,arguments)}function mh(){const C=window.document.getElementsByTagName("script");for(const T of Object.values(C))if(T.src&&T.src.includes(pa))return T;return null}const gr=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),w=new class mr{constructor(T={},R=1e3){this.throttleMetadata=T,this.intervalMillis=R}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,R){this.throttleMetadata[T]=R}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function I(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function x(C){return z.apply(this,arguments)}function z(){return(z=(0,P.Z)(function*(C){var T;const{appId:R,apiKey:G}=C,X={method:"GET",headers:I(G)},ce=Ka.replace("{app-id}",R),De=yield fetch(ce,X);if(200!==De.status&&304!==De.status){let ze="";try{const Pt=yield De.json();(null===(T=Pt.error)||void 0===T?void 0:T.message)&&(ze=Pt.error.message)}catch(Pt){}throw gr.create("config-fetch-failed",{httpStatus:De.status,responseMessage:ze})}return De.json()})).apply(this,arguments)}function Me(C){return lt.apply(this,arguments)}function lt(){return(lt=(0,P.Z)(function*(C,T=w,R){const{appId:G,apiKey:X,measurementId:ce}=C.options;if(!G)throw gr.create("no-app-id");if(!X){if(ce)return{measurementId:ce,appId:G};throw gr.create("no-api-key")}const De=T.getThrottleMetadata(G)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new ya;return setTimeout((0,P.Z)(function*(){ze.abort()}),void 0!==R?R:6e4),vn({appId:G,apiKey:X,measurementId:ce},De,ze,T)})).apply(this,arguments)}function vn(C,T,R){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,P.Z)(function*(C,{throttleEndTimeMillis:T,backoffCount:R},G,X=w){const{appId:ce,measurementId:De}=C;try{yield bt(G,T)}catch(ze){if(De)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${De} provided in the "measurementId" field in the local Firebase config. [${ze.message}]`),{appId:ce,measurementId:De};throw ze}try{const ze=yield x(C);return X.deleteThrottleMetadata(ce),ze}catch(ze){if(!vs(ze)){if(X.deleteThrottleMetadata(ce),De)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${De} provided in the "measurementId" field in the local Firebase config. [${ze.message}]`),{appId:ce,measurementId:De};throw ze}const Pt=503===Number(ze.customData.httpStatus)?(0,oe.$s)(R,X.intervalMillis,30):(0,oe.$s)(R,X.intervalMillis),Tt={throttleEndTimeMillis:Date.now()+Pt,backoffCount:R+1};return X.setThrottleMetadata(ce,Tt),Xn.debug(`Calling attemptFetch again in ${Pt} millis`),vn(C,Tt,G,X)}})).apply(this,arguments)}function bt(C,T){return new Promise((R,G)=>{const X=Math.max(T-Date.now(),0),ce=setTimeout(R,X);C.addEventListener(()=>{clearTimeout(ce),G(gr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function vs(C){if(!(C instanceof oe.ZR&&C.customData))return!1;const T=Number(C.customData.httpStatus);return 429===T||500===T||503===T||504===T}class ya{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}function Qa(){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,P.Z)(function*(){if(!(0,oe.hl)())return Xn.warn(gr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(C){return Xn.warn(gr.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function vo(){return(vo=(0,P.Z)(function*(C,T,R,G,X,ce,De){var ze;const Pt=Me(C);Pt.then(yr=>{R[yr.measurementId]=yr.appId,C.options.measurementId&&yr.measurementId!==C.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${yr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(yr=>Xn.error(yr)),T.push(Pt);const Tt=Qa().then(yr=>{if(yr)return G.getId()}),[tn,Mt]=yield Promise.all([Pt,Tt]);mh()||ga(ce,tn.measurementId),X("js",new Date);const Yr=null!==(ze=null==De?void 0:De.config)&&void 0!==ze?ze:{};return Yr.origin="firebase",Yr.update=!0,null!=Mt&&(Yr[Ou]=Mt),X("config",tn.measurementId,Yr),tn.measurementId})).apply(this,arguments)}class Fl{constructor(T){this.app=T}_delete(){return delete ni[this.app.options.appId],Promise.resolve()}}let ni={},Vo=[];const va={};let Bo,Fs,_o="dataLayer",Ll=!1;function _a(C,T,R){!function wo(){const C=[];if((0,oe.ru)()&&C.push("This is a browser extension environment."),(0,oe.zI)()||C.push("Cookies are not available."),C.length>0){const T=C.map((G,X)=>`(${X+1}) ${G}`).join(" "),R=gr.create("invalid-analytics-context",{errorInfo:T});Xn.warn(R.message)}}();const G=C.options.appId;if(!G)throw gr.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw gr.create("no-api-key");Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ni[G])throw gr.create("already-exists",{id:G});if(!Ll){!function es(C){let T=[];Array.isArray(window[C])?T=window[C]:window[C]=T}(_o);const{wrappedGtag:ce,gtagCore:De}=function Nl(C,T,R,G,X){let ce=function(...De){window[G].push(arguments)};return window[X]&&"function"==typeof window[X]&&(ce=window[X]),window[X]=function Nu(C,T,R,G){function ce(){return(ce=(0,P.Z)(function*(De,ze,Pt){try{"event"===De?yield Ya(C,T,R,ze,Pt):"config"===De?yield ma(C,T,R,G,ze,Pt):C("set",ze)}catch(Tt){Xn.error(Tt)}})).apply(this,arguments)}return function X(De,ze,Pt){return ce.apply(this,arguments)}}(ce,C,T,R),{gtagCore:ce,wrappedGtag:window[X]}}(ni,Vo,va,_o,"gtag");Fs=ce,Bo=De,Ll=!0}return ni[G]=function Yn(C,T,R,G,X,ce,De){return vo.apply(this,arguments)}(C,Vo,va,T,Bo,_o,R),new Fl(C)}function eu(){return(eu=(0,P.Z)(function*(C,T,R,G,X){if(X&&X.global)C("event",R,G);else{const ce=yield T;C("event",R,Object.assign(Object.assign({},G),{send_to:ce}))}})).apply(this,arguments)}function Hn(){return ba.apply(this,arguments)}function ba(){return(ba=(0,P.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(C){return!1}})).apply(this,arguments)}const Uo="@firebase/analytics";!function lp(){(0,ae._registerComponent)(new Ee.wA(qa,(T,{options:R})=>_a(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ae._registerComponent)(new Ee.wA("analytics-internal",function C(T){try{const R=T.getProvider(qa).getImmediate();return{logEvent:(G,X,ce)=>function vh(C,T,R,G){C=(0,oe.m9)(C),function wa(C,T,R,G,X){return eu.apply(this,arguments)}(Fs,ni[C.app.options.appId],T,R,G).catch(X=>Xn.error(X))}(R,G,X,ce)}}catch(R){throw gr.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ae.registerVersion)(Uo,"0.7.8"),(0,ae.registerVersion)(Uo,"0.7.8","esm2017")}();var ws=L(4408),Ea=L(7565);const nu=new class or extends Ea.v{}(class jo extends ws.o{constructor(T,R){super(T,R),this.scheduler=T,this.work=R}schedule(T,R=0){return R>0?super.schedule(T,R):(this.delay=R,this.state=T,this.scheduler.flush(this),this)}execute(T,R){return R>0||this.closed?super.execute(T,R):this._execute(T,R)}requestAsyncId(T,R,G=0){return null!=G&&G>0||null==G&&this.delay>0?super.requestAsyncId(T,R,G):T.flush(this)}});var Kc=L(4986),ru=L(8306),ii=L(8505),rs=L(9468),Ia=L(5363);const iu=new p.GfV("7.3.0"),wi="__angularfire_symbol__analyticsIsSupportedValue",Da="__angularfire_symbol__analyticsIsSupported",Bl="__angularfire_symbol__remoteConfigIsSupportedValue",Ul="__angularfire_symbol__remoteConfigIsSupported",jl="__angularfire_symbol__messagingIsSupportedValue",Ht="__angularfire_symbol__messagingIsSupported";function cp(C,T,R){if(T){if(1===T.length)return T[0];const ce=T.filter(De=>De.app===R);if(1===ce.length)return ce[0]}return R.container.getProvider(C).getImmediate({optional:!0})}globalThis[Da]||(globalThis[Da]=Hn().then(C=>globalThis[wi]=C).catch(()=>globalThis[wi]=!1)),globalThis[Ht]||(globalThis[Ht]=Ru().then(C=>globalThis[jl]=C).catch(()=>globalThis[jl]=!1)),globalThis[Ul]||(globalThis[Ul]=Su().then(C=>globalThis[Bl]=C).catch(()=>globalThis[Bl]=!1));const Lu=(C,T)=>{const R=T?[T]:(0,j.C6)(),G=[];return R.forEach(X=>{X.container.getProvider(C).instances.forEach(De=>{G.includes(De)||G.push(De)})}),G};function Ca(){}class bi{constructor(T,R=nu){this.zone=T,this.delegate=R}now(){return this.delegate.now()}schedule(T,R,G){const X=this.zone;return this.delegate.schedule(function(De){X.runGuarded(()=>{T.apply(this,[De])})},R,G)}}class Vu{constructor(T){this.zone=T,this.task=null}call(T,R){const G=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ca,{},Ca,Ca)),R.pipe((0,ii.b)({next:G,complete:G,error:G})).subscribe(T).add(G)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zc=(()=>{class C{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new bi(Zone.current)),this.insideAngular=R.run(()=>new bi(Zone.current,Kc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(R){return new(R||C)(p.LFG(p.R0b))},C.\u0275prov=p.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function is(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function _h(C){return is().ngZone.runOutsideAngular(()=>C())}function Mn(C){return is().ngZone.run(()=>C())}function bo(C){return is(),function Bu(C){return function(R){return(R=R.lift(new Vu(C.ngZone))).pipe((0,rs.R)(C.outsideAngular),(0,Ia.Q)(C.insideAngular))}}(is())(C)}const Ta=(C,T)=>function(){const G=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),Mn(()=>C.apply(void 0,G))},Yc=(C,T)=>function(){let R;const G=arguments;for(let ce=0;ce<arguments.length;ce++)"function"==typeof G[ce]&&(T&&(R||(R=Mn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ca,{},Ca,Ca)))),G[ce]=Ta(G[ce],R));const X=_h(()=>C.apply(this,G));if(!T){if(X instanceof ru.y){const ce=is();return X.pipe((0,rs.R)(ce.outsideAngular),(0,Ia.Q)(ce.insideAngular))}return Mn(()=>X)}return X instanceof ru.y?X.pipe(bo):X instanceof Promise?Mn(()=>new Promise((ce,De)=>X.then(ze=>Mn(()=>ce(ze)),ze=>Mn(()=>De(ze))))):"function"==typeof X&&R?function(){return setTimeout(()=>{R&&"scheduled"===R.state&&R.invoke()},10),X.apply(this,arguments)}:Mn(()=>X)}},573:(mt,xe,L)=>{"use strict";L.d(xe,{$:()=>Mu,A:()=>W,E:()=>Zt,G:()=>lr,I:()=>xi,K:()=>$,L:()=>sa,M:()=>Sl,N:()=>so,P:()=>iu,Q:()=>oa,R:()=>ri,T:()=>Jr,U:()=>gi,V:()=>Mi,W:()=>zc,X:()=>pr,Y:()=>la,Z:()=>Ir,_:()=>yi,a:()=>Et,a0:()=>ku,a1:()=>Ml,a2:()=>ke,a3:()=>kl,a4:()=>ca,a5:()=>ti,a6:()=>da,a7:()=>Wc,a8:()=>Ha,a9:()=>Ri,aA:()=>Mt,aB:()=>Bu,aC:()=>ct,aG:()=>w,aJ:()=>ko,aa:()=>fo,ab:()=>Rl,ae:()=>Ga,af:()=>Pl,ag:()=>fa,aj:()=>fs,ak:()=>Wa,am:()=>Ka,an:()=>ma,ao:()=>Cn,ap:()=>Qe,aq:()=>Rt,ar:()=>Je,as:()=>qe,at:()=>au,au:()=>ju,av:()=>Oe,aw:()=>re,ax:()=>ue,ay:()=>Q,az:()=>ss,b:()=>Vn,c:()=>$l,d:()=>Ca,e:()=>cp,f:()=>C,g:()=>De,h:()=>G,i:()=>wo,j:()=>Tt,k:()=>zo,l:()=>or,m:()=>fm,o:()=>pe,r:()=>Fu,s:()=>jo,u:()=>rs,z:()=>Fe});var p=L(5861),j=L(2090),P=L(9681),ae=L(655),oe=L(1877),Ee=L(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Fe=function se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ve=function We(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ue=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new oe.Yd("@firebase/auth");function st(v,...f){Ae.logLevel<=oe.in.ERROR&&Ae.error(`Auth (${P.SDK_VERSION}): ${v}`,...f)}function qe(v,...f){throw Xe(v,...f)}function Oe(v,...f){return Xe(v,...f)}function Pe(v,f,g){const E=Object.assign(Object.assign({},Ve()),{[f]:g});return new j.LL("auth","Firebase",E).create(f,{appName:v.name})}function Ce(v,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&qe(v,"argument-error"),Pe(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xe(v,...f){if("string"!=typeof v){const g=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(g,...E)}return Ue.create(v,...f)}function re(v,f,...g){if(!v)throw Xe(f,...g)}function Y(v){const f="INTERNAL ASSERTION FAILED: "+v;throw st(f),new Error(f)}function Qe(v,f){v||Y(f)}const ne=new Map;function ue(v){Qe(v instanceof Function,"Expected a class definition");let f=ne.get(v);return f?(Qe(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,ne.set(v,f),f)}function me(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Be(){return"http:"===St()||"https:"===St()}function St(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ge{constructor(f,g){this.shortDelay=f,this.longDelay=g,Qe(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function Xt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Be()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ot(v,f){Qe(v.emulator,"Emulator should always be set here");const{url:g}=v.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class bn{static initialize(f,g,E){this.fetchImpl=f,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Y("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Y("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Y("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},qt=new Ge(3e4,6e4);function $t(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function Yt(v,f,g,E){return An.apply(this,arguments)}function An(){return(An=(0,p.Z)(function*(v,f,g,E,M={}){return Wn(v,M,(0,p.Z)(function*(){let B={},te={};E&&("GET"===f?te=E:B={body:JSON.stringify(E)});const Ne=(0,j.xO)(Object.assign({key:v.config.apiKey},te)).slice(1),ft=yield v._getAdditionalHeaders();return ft["Content-Type"]="application/json",v.languageCode&&(ft["X-Firebase-Locale"]=v.languageCode),bn.fetch()(xr(v,v.config.apiHost,g,Ne),Object.assign({method:f,headers:ft,referrerPolicy:"no-referrer"},B))}))})).apply(this,arguments)}function Wn(v,f,g){return ur.apply(this,arguments)}function ur(){return(ur=(0,p.Z)(function*(v,f,g){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},Rn),f);try{const M=new qn(v),B=yield Promise.race([g(),M.promise]);M.clearNetworkTimeout();const te=yield B.json();if("needConfirmation"in te)throw fr(v,"account-exists-with-different-credential",te);if(B.ok&&!("errorMessage"in te))return te;{const Ne=B.ok?te.errorMessage:te.error.message,[ft,xt]=Ne.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ft)throw fr(v,"credential-already-in-use",te);if("EMAIL_EXISTS"===ft)throw fr(v,"email-already-in-use",te);const Gt=E[ft]||ft.toLowerCase().replace(/[_\s]+/g,"-");if(xt)throw Pe(v,Gt,xt);qe(v,Gt)}}catch(M){if(M instanceof j.ZR)throw M;qe(v,"network-request-failed")}})).apply(this,arguments)}function hr(v,f,g,E){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,p.Z)(function*(v,f,g,E,M={}){const B=yield Yt(v,f,g,E,M);return"mfaPendingCredential"in B&&qe(v,"multi-factor-auth-required",{_serverResponse:B}),B})).apply(this,arguments)}function xr(v,f,g,E){const M=`${f}${g}?${E}`;return v.config.emulator?Ot(v.config,M):`${v.config.apiScheme}://${M}`}class qn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(Oe(this.auth,"network-request-failed")),qt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fr(v,f,g){const E={appName:v.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const M=Oe(v,f,E);return M.customData._tokenResponse=g,M}function rt(){return(rt=(0,p.Z)(function*(v,f){return Yt(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Sn(v,f){return Un.apply(this,arguments)}function Un(){return(Un=(0,p.Z)(function*(v,f){return Yt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Vt(v,f){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,p.Z)(function*(v,f){return Yt(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Hr(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function xn(){return(xn=(0,p.Z)(function*(v,f=!1){const g=(0,j.m9)(v),E=yield g.getIdToken(f),M=Lt(E);re(M&&M.exp&&M.auth_time&&M.iat,g.auth,"internal-error");const B="object"==typeof M.firebase?M.firebase:void 0,te=null==B?void 0:B.sign_in_provider;return{claims:M,token:E,authTime:Hr(kr(M.auth_time)),issuedAtTime:Hr(kr(M.iat)),expirationTime:Hr(kr(M.exp)),signInProvider:te||null,signInSecondFactor:(null==B?void 0:B.sign_in_second_factor)||null}})).apply(this,arguments)}function kr(v){return 1e3*Number(v)}function Lt(v){const[f,g,E]=v.split(".");if(void 0===f||void 0===g||void 0===E)return st("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,j.tV)(g);return M?JSON.parse(M):(st("Failed to decode base64 JWT payload"),null)}catch(M){return st("Caught error parsing JWT payload as JSON",M),null}}function Ze(v,f){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,p.Z)(function*(v,f,g=!1){if(g)return f;try{return yield f}catch(E){throw E instanceof j.ZR&&Gr(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}function Gr({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Ct{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const M=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,p.Z)(function*(){yield g.iteration()}),E)}iteration(){var f=this;return(0,p.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class Ti{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hr(this.lastLoginAt),this.creationTime=Hr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Nn(v){return on.apply(this,arguments)}function on(){return(on=(0,p.Z)(function*(v){var f;const g=v.auth,E=yield v.getIdToken(),M=yield Ze(v,Vt(g,{idToken:E}));re(null==M?void 0:M.users.length,g,"internal-error");const B=M.users[0];v._notifyReloadListener(B);const te=(null===(f=B.providerUserInfo)||void 0===f?void 0:f.length)?Ye(B.providerUserInfo):[],Ne=Kt(v.providerData,te),Gt=!!v.isAnonymous&&!(v.email&&B.passwordHash||(null==Ne?void 0:Ne.length)),_n={uid:B.localId,displayName:B.displayName||null,photoURL:B.photoUrl||null,email:B.email||null,emailVerified:B.emailVerified||!1,phoneNumber:B.phoneNumber||null,tenantId:B.tenantId||null,providerData:Ne,metadata:new Ti(B.createdAt,B.lastLoginAt),isAnonymous:Gt};Object.assign(v,_n)})).apply(this,arguments)}function jn(){return(jn=(0,p.Z)(function*(v){const f=(0,j.m9)(v);yield Nn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Kt(v,f){return[...v.filter(E=>!f.some(M=>M.providerId===E.providerId)),...f]}function Ye(v){return v.map(f=>{var{providerId:g}=f,E=(0,ae._T)(f,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function ot(){return(ot=(0,p.Z)(function*(v,f){const g=yield Wn(v,{},(0,p.Z)(function*(){const E=(0,j.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:M,apiKey:B}=v.config,te=xr(v,M,"/v1/token",`key=${B}`),Ne=yield v._getAdditionalHeaders();return Ne["Content-Type"]="application/x-www-form-urlencoded",bn.fetch()(te,{method:"POST",headers:Ne,body:E})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class gt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){re(f.idToken,"internal-error"),re(void 0!==f.idToken,"internal-error"),re(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function it(v){const f=Lt(v);return re(f,"internal-error"),re(void 0!==f.exp,"internal-error"),re(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var E=this;return(0,p.Z)(function*(){return re(!E.accessToken||E.refreshToken,f,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var E=this;return(0,p.Z)(function*(){const{accessToken:M,refreshToken:B,expiresIn:te}=yield function le(v,f){return ot.apply(this,arguments)}(f,g);E.updateTokensAndExpiration(M,B,Number(te))})()}updateTokensAndExpiration(f,g,E){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,g){const{refreshToken:E,accessToken:M,expirationTime:B}=g,te=new gt;return E&&(re("string"==typeof E,"internal-error",{appName:f}),te.refreshToken=E),M&&(re("string"==typeof M,"internal-error",{appName:f}),te.accessToken=M),B&&(re("number"==typeof B,"internal-error",{appName:f}),te.expirationTime=B),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new gt,this.toJSON())}_performRefresh(){return Y("not implemented")}}function Bt(v,f){re("string"==typeof v||void 0===v,"internal-error",{appName:f})}class Ut{constructor(f){var{uid:g,auth:E,stsTokenManager:M}=f,B=(0,ae._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ct(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=B.displayName||null,this.email=B.email||null,this.emailVerified=B.emailVerified||!1,this.phoneNumber=B.phoneNumber||null,this.photoURL=B.photoURL||null,this.isAnonymous=B.isAnonymous||!1,this.tenantId=B.tenantId||null,this.providerData=B.providerData?[...B.providerData]:[],this.metadata=new Ti(B.createdAt||void 0,B.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,p.Z)(function*(){const E=yield Ze(g,g.stsTokenManager.getToken(g.auth,f));return re(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(f){return function _t(v){return xn.apply(this,arguments)}(this,f)}reload(){return function yt(v){return jn.apply(this,arguments)}(this)}_assign(f){this!==f&&(re(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Ut(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var E=this;return(0,p.Z)(function*(){let M=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),M=!0),g&&(yield Nn(E)),yield E.auth._persistUserIfCurrent(E),M&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,p.Z)(function*(){const g=yield f.getIdToken();return yield Ze(f,function Mr(v,f){return rt.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var E,M,B,te,Ne,ft,xt,Gt;const _n=null!==(E=g.displayName)&&void 0!==E?E:void 0,Wo=null!==(M=g.email)&&void 0!==M?M:void 0,as=null!==(B=g.phoneNumber)&&void 0!==B?B:void 0,zu=null!==(te=g.photoURL)&&void 0!==te?te:void 0,td=null!==(Ne=g.tenantId)&&void 0!==Ne?Ne:void 0,Kl=null!==(ft=g._redirectEventId)&&void 0!==ft?ft:void 0,mm=null!==(xt=g.createdAt)&&void 0!==xt?xt:void 0,Zl=null!==(Gt=g.lastLoginAt)&&void 0!==Gt?Gt:void 0,{uid:Sa,emailVerified:mp,isAnonymous:Wu,providerData:Yl,stsTokenManager:yp}=g;re(Sa&&yp,f,"internal-error");const xh=gt.fromJSON(this.name,yp);re("string"==typeof Sa,f,"internal-error"),Bt(_n,f.name),Bt(Wo,f.name),re("boolean"==typeof mp,f,"internal-error"),re("boolean"==typeof Wu,f,"internal-error"),Bt(as,f.name),Bt(zu,f.name),Bt(td,f.name),Bt(Kl,f.name),Bt(mm,f.name),Bt(Zl,f.name);const uu=new Ut({uid:Sa,auth:f,email:Wo,emailVerified:mp,displayName:_n,isAnonymous:Wu,photoURL:zu,phoneNumber:as,tenantId:td,stsTokenManager:xh,createdAt:mm,lastLoginAt:Zl});return Yl&&Array.isArray(Yl)&&(uu.providerData=Yl.map(ym=>Object.assign({},ym))),Kl&&(uu._redirectEventId=Kl),uu}static _fromIdTokenResponse(f,g,E=!1){return(0,p.Z)(function*(){const M=new gt;M.updateFromServerResponse(g);const B=new Ut({uid:g.localId,auth:f,stsTokenManager:M,isAnonymous:E});return yield Nn(B),B})()}}const $=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(g,E){var M=this;return(0,p.Z)(function*(){M.storage[g]=E})()}_get(g){var E=this;return(0,p.Z)(function*(){const M=E.storage[g];return void 0===M?null:M})()}_remove(g){var E=this;return(0,p.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return v.type="NONE",v})();function Q(v,f,g){return`firebase:${v}:${f}:${g}`}class ye{constructor(f,g,E){this.persistence=f,this.auth=g,this.userKey=E;const{config:M,name:B}=this.auth;this.fullUserKey=Q(this.userKey,M.apiKey,B),this.fullPersistenceKey=Q("persistence",M.apiKey,B),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,p.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?Ut._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,p.Z)(function*(){if(g.persistence===f)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,E="authUser"){return(0,p.Z)(function*(){if(!g.length)return new ye(ue($),f,E);const M=(yield Promise.all(g.map(function(){var xt=(0,p.Z)(function*(Gt){if(yield Gt._isAvailable())return Gt});return function(Gt){return xt.apply(this,arguments)}}()))).filter(xt=>xt);let B=M[0]||ue($);const te=Q(E,f.config.apiKey,f.name);let Ne=null;for(const xt of g)try{const Gt=yield xt._get(te);if(Gt){const _n=Ut._fromJSON(f,Gt);xt!==B&&(Ne=_n),B=xt;break}}catch(Gt){}const ft=M.filter(xt=>xt._shouldAllowMigration);return B._shouldAllowMigration&&ft.length?(B=ft[0],Ne&&(yield B._set(te,Ne.toJSON())),yield Promise.all(g.map(function(){var xt=(0,p.Z)(function*(Gt){if(Gt!==B)try{yield Gt._remove(te)}catch(_n){}});return function(Gt){return xt.apply(this,arguments)}}())),new ye(B,f,E)):new ye(B,f,E)})()}}function F(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(je(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(U(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(wt(f))return"Blackberry";if(ut(f))return"Webos";if(H(f))return"Safari";if((f.includes("chrome/")||fe(f))&&!f.includes("edge/"))return"Chrome";if(Je(f))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function U(v=(0,j.z$)()){return/firefox\//i.test(v)}function H(v=(0,j.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function fe(v=(0,j.z$)()){return/crios\//i.test(v)}function je(v=(0,j.z$)()){return/iemobile/i.test(v)}function Je(v=(0,j.z$)()){return/android/i.test(v)}function wt(v=(0,j.z$)()){return/blackberry/i.test(v)}function ut(v=(0,j.z$)()){return/webos/i.test(v)}function Rt(v=(0,j.z$)()){return/iphone|ipad|ipod/i.test(v)}function Cn(v=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function br(v=(0,j.z$)()){return Rt(v)||Je(v)||ut(v)||wt(v)||/windows phone/i.test(v)||je(v)}function Jn(v,f=[]){let g;switch(v){case"Browser":g=F((0,j.z$)());break;case"Worker":g=`${F((0,j.z$)())}-${v}`;break;default:g=v}const E=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${P.SDK_VERSION}/${E}`}class na{constructor(f,g,E){this.app=f,this.heartbeatServiceProvider=g,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new et(this),this.idTokenSubscription=new et(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ue,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(f,g){var E=this;return g&&(this._popupRedirectResolver=ue(g)),this._initializationPromise=this.queue((0,p.Z)(function*(){var M,B;if(!E._deleted&&(E.persistenceManager=yield ye.create(E,f),!E._deleted)){if(null===(M=E._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(te){}yield E.initializeCurrentUser(g),E.lastNotifiedUid=(null===(B=E.currentUser)||void 0===B?void 0:B.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,p.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,p.Z)(function*(){var E;let M=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const B=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,te=null==M?void 0:M._redirectEventId,Ne=yield g.tryRedirectSignIn(f);(!B||B===te)&&(null==Ne?void 0:Ne.user)&&(M=Ne.user)}return M?M._redirectEventId?(re(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===M._redirectEventId?g.directlySetCurrentUser(M):g.reloadAndSetCurrentUserOrClear(M)):g.reloadAndSetCurrentUserOrClear(M):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,p.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(M){yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,p.Z)(function*(){try{yield Nn(f)}catch(E){if("auth/network-request-failed"!==E.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function sn(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,p.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,p.Z)(function*(){const E=f?(0,j.m9)(f):null;return E&&re(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,p.Z)(function*(){if(!g._deleted)return f&&re(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,p.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,p.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,p.Z)(function*(){yield g.assertedPersistence.setPersistence(ue(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new j.LL("auth","Firebase",f())}onAuthStateChanged(f,g,E){return this.registerStateListener(this.authStateSubscription,f,g,E)}onIdTokenChanged(f,g,E){return this.registerStateListener(this.idTokenSubscription,f,g,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var E=this;return(0,p.Z)(function*(){const M=yield E.getOrInitRedirectPersistenceManager(g);return null===f?M.removeCurrentUser():M.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,p.Z)(function*(){if(!g.redirectPersistenceManager){const E=f&&ue(f)||g._popupRedirectResolver;re(E,g,"argument-error"),g.redirectPersistenceManager=yield ye.create(g,[ue(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,p.Z)(function*(){var E,M;return g._isInitialized&&(yield g.queue((0,p.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===f?g._currentUser:(null===(M=g.redirectUser)||void 0===M?void 0:M._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,p.Z)(function*(){if(f===g.currentUser)return g.queue((0,p.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,E,M){if(this._deleted)return()=>{};const B="function"==typeof g?g:g.next.bind(g),te=this._isInitialized?Promise.resolve():this._initializationPromise;return re(te,this,"internal-error"),te.then(()=>B(this.currentUser)),"function"==typeof g?f.addObserver(g,E,M):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,p.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Jn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,p.Z)(function*(){var g;const E={"X-Client-Version":f.clientVersion};f.app.options.appId&&(E["X-Firebase-gmpid"]=f.app.options.appId);const M=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return M&&(E["X-Firebase-Client"]=M),E})()}}function ct(v){return(0,j.m9)(v)}class et{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,j.ne)(g=>this.observer=g)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Zt(v,f,g){const E=ct(v);re(E._canInitEmulator,E,"emulator-config-failed"),re(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const M=!!(null==g?void 0:g.disableWarnings),B=gn(f),{host:te,port:Ne}=function Er(v){const f=gn(v),g=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(E);if(M){const B=M[1];return{host:B,port:Gi(E.substr(B.length+1))}}{const[B,te]=E.split(":");return{host:B,port:Gi(te)}}}(f);E.config.emulator={url:`${B}//${te}${null===Ne?"":`:${Ne}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:te,port:Ne,protocol:B.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function nr(){function v(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function gn(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function Gi(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class lr{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return Y("not implemented")}_getIdTokenResponse(f){return Y("not implemented")}_linkToIdToken(f,g){return Y("not implemented")}_getReauthenticationResolver(f){return Y("not implemented")}}function hn(v,f){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,p.Z)(function*(v,f){return Yt(v,"POST","/v1/accounts:resetPassword",$t(v,f))})).apply(this,arguments)}function Kn(v,f){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,p.Z)(function*(v,f){return Yt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ra(v,f){return zi.apply(this,arguments)}function zi(){return(zi=(0,p.Z)(function*(v,f){return Yt(v,"POST","/v1/accounts:update",$t(v,f))})).apply(this,arguments)}function Ai(){return(Ai=(0,p.Z)(function*(v,f){return hr(v,"POST","/v1/accounts:signInWithPassword",$t(v,f))})).apply(this,arguments)}function rr(v,f){return ds.apply(this,arguments)}function ds(){return(ds=(0,p.Z)(function*(v,f){return Yt(v,"POST","/v1/accounts:sendOobCode",$t(v,f))})).apply(this,arguments)}function Ss(v,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,p.Z)(function*(v,f){return rr(v,f)})).apply(this,arguments)}function mn(v,f){return to.apply(this,arguments)}function to(){return(to=(0,p.Z)(function*(v,f){return rr(v,f)})).apply(this,arguments)}function Va(v,f){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,p.Z)(function*(v,f){return rr(v,f)})).apply(this,arguments)}function Si(v,f){return ia.apply(this,arguments)}function ia(){return(ia=(0,p.Z)(function*(v,f){return rr(v,f)})).apply(this,arguments)}function ro(){return(ro=(0,p.Z)(function*(v,f){return hr(v,"POST","/v1/accounts:signInWithEmailLink",$t(v,f))})).apply(this,arguments)}function Ba(){return(Ba=(0,p.Z)(function*(v,f){return hr(v,"POST","/v1/accounts:signInWithEmailLink",$t(v,f))})).apply(this,arguments)}class So extends lr{constructor(f,g,E,M=null){super("password",E),this._email=f,this._password=g,this._tenantId=M}static _fromEmailAndPassword(f,g){return new So(f,g,"password")}static _fromEmailAndCode(f,g,E=null){return new So(f,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,p.Z)(function*(){switch(g.signInMethod){case"password":return function La(v,f){return Ai.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function no(v,f){return ro.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:qe(f,"internal-error")}})()}_linkToIdToken(f,g){var E=this;return(0,p.Z)(function*(){switch(E.signInMethod){case"password":return Kn(f,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function pi(v,f){return Ba.apply(this,arguments)}(f,{idToken:g,email:E._email,oobCode:E._password});default:qe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function qr(v,f){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,p.Z)(function*(v,f){return hr(v,"POST","/v1/accounts:signInWithIdp",$t(v,f))})).apply(this,arguments)}class xi extends lr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new xi(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):qe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:M}=g,B=(0,ae._T)(g,["providerId","signInMethod"]);if(!E||!M)return null;const te=new xi(E,M);return te.idToken=B.idToken||void 0,te.accessToken=B.accessToken||void 0,te.secret=B.secret,te.nonce=B.nonce,te.pendingToken=B.pendingToken||null,te}_getIdTokenResponse(f){return qr(f,this.buildRequest())}_linkToIdToken(f,g){const E=this.buildRequest();return E.idToken=g,qr(f,E)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,qr(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,j.xO)(g)}return f}}function jc(v,f){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,p.Z)(function*(v,f){return Yt(v,"POST","/v1/accounts:sendVerificationCode",$t(v,f))})).apply(this,arguments)}function xo(){return(xo=(0,p.Z)(function*(v,f){return hr(v,"POST","/v1/accounts:signInWithPhoneNumber",$t(v,f))})).apply(this,arguments)}function Au(){return(Au=(0,p.Z)(function*(v,f){const g=yield hr(v,"POST","/v1/accounts:signInWithPhoneNumber",$t(v,f));if(g.temporaryProof)throw fr(v,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const $c={USER_NOT_FOUND:"user-not-found"};function Wi(){return(Wi=(0,p.Z)(function*(v,f){return hr(v,"POST","/v1/accounts:signInWithPhoneNumber",$t(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),$c)})).apply(this,arguments)}class xs extends lr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new xs({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new xs({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function Al(v,f){return xo.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function io(v,f){return Au.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Hc(v,f){return Wi.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:E,verificationCode:M}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:E,code:M}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:E,phoneNumber:M,temporaryProof:B}=f;return E||g||M||B?new xs({verificationId:g,verificationCode:E,phoneNumber:M,temporaryProof:B}):null}}class hs{constructor(f){var g,E,M,B,te,Ne;const ft=(0,j.zd)((0,j.pd)(f)),xt=null!==(g=ft.apiKey)&&void 0!==g?g:null,Gt=null!==(E=ft.oobCode)&&void 0!==E?E:null,_n=function Gc(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=ft.mode)&&void 0!==M?M:null);re(xt&&Gt&&_n,"argument-error"),this.apiKey=xt,this.operation=_n,this.code=Gt,this.continueUrl=null!==(B=ft.continueUrl)&&void 0!==B?B:null,this.languageCode=null!==(te=ft.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(Ne=ft.tenantId)&&void 0!==Ne?Ne:null}static parseLink(f){const g=function gh(v){const f=(0,j.zd)((0,j.pd)(v)).link,g=f?(0,j.zd)((0,j.pd)(f)).deep_link_id:null,E=(0,j.zd)((0,j.pd)(v)).deep_link_id;return(E?(0,j.zd)((0,j.pd)(E)).link:null)||E||g||f||v}(f);try{return new hs(g)}catch(E){return null}}}let sa=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(g,E){return So._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const M=hs.parseLink(E);return re(M,"argument-error"),So._fromEmailAndCode(g,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class qi{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Mo extends qi{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Jr extends Mo{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return re("providerId"in g&&"signInMethod"in g,"argument-error"),xi._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return re(f.idToken||f.accessToken,"argument-error"),xi._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Jr.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Jr.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:M,pendingToken:B,nonce:te,providerId:Ne}=f;if(!E&&!M&&!g&&!B||!Ne)return null;try{return new Jr(Ne)._credential({idToken:g,accessToken:E,nonce:te,pendingToken:B})}catch(ft){return null}}}let Sl=(()=>{class v extends Mo{constructor(){super("facebook.com")}static credential(g){return xi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(E){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),so=(()=>{class v extends Mo{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return xi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:M}=g;if(!E&&!M)return null;try{return v.credential(E,M)}catch(B){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),oa=(()=>{class v extends Mo{constructor(){super("github.com")}static credential(g){return xi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return v.credential(g.oauthAccessToken)}catch(E){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class ko extends lr{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return qr(f,this.buildRequest())}_linkToIdToken(f,g){const E=this.buildRequest();return E.idToken=g,qr(f,E)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,qr(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:M,pendingToken:B}=g;return E&&M&&B&&E===M?new ko(E,B):null}static _create(f,g){return new ko(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class gi extends qi{constructor(f){re(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return gi.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return gi.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=ko.fromJSON(f);return re(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:E}=f;if(!g||!E)return null;try{return ko._create(E,g)}catch(M){return null}}}let Mi=(()=>{class v extends Mo{constructor(){super("twitter.com")}static credential(g,E){return xi._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:M}=g;if(!E||!M)return null;try{return v.credential(E,M)}catch(B){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function aa(v,f){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,p.Z)(function*(v,f){return hr(v,"POST","/v1/accounts:signUp",$t(v,f))})).apply(this,arguments)}class Ln{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,E,M=!1){return(0,p.Z)(function*(){const B=yield Ut._fromIdTokenResponse(f,E,M),te=mi(E);return new Ln({user:B,providerId:te,_tokenResponse:E,operationType:g})})()}static _forOperation(f,g,E){return(0,p.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const M=mi(E);return new Ln({user:f,providerId:M,_tokenResponse:E,operationType:g})})()}}function mi(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function zc(v){return ao.apply(this,arguments)}function ao(){return(ao=(0,p.Z)(function*(v){var f;const g=ct(v);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new Ln({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield aa(g,{returnSecureToken:!0}),M=yield Ln._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ua extends j.ZR{constructor(f,g,E,M){var B;super(g.code,g.message),this.operationType=E,this.user=M,Object.setPrototypeOf(this,Ua.prototype),this.customData={appName:f.name,tenantId:null!==(B=f.tenantId)&&void 0!==B?B:void 0,_serverResponse:g.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(f,g,E,M){return new Ua(f,g,E,M)}}function xu(v,f,g,E){return("reauthenticate"===f?g._getReauthenticationResolver(v):g._getIdTokenResponse(v)).catch(B=>{throw"auth/multi-factor-auth-required"===B.code?Ua._fromErrorAndOperation(v,B,f,E):B})}function ua(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function fs(v,f){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,p.Z)(function*(v,f){const g=(0,j.m9)(v);yield Ki(!0,g,f);const{providerUserInfo:E}=yield Sn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),M=ua(E||[]);return g.providerData=g.providerData.filter(B=>M.has(B.providerId)),M.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function ja(v,f){return En.apply(this,arguments)}function En(){return(En=(0,p.Z)(function*(v,f,g=!1){const E=yield Ze(v,f._linkToIdToken(v.auth,yield v.getIdToken()),g);return Ln._forOperation(v,"link",E)})).apply(this,arguments)}function Ki(v,f,g){return ps.apply(this,arguments)}function ps(){return(ps=(0,p.Z)(function*(v,f,g){yield Nn(f);const M=!1===v?"provider-already-linked":"no-such-provider";re(ua(f.providerData).has(g)===v,f.auth,M)})).apply(this,arguments)}function fn(v,f){return $a.apply(this,arguments)}function $a(){return($a=(0,p.Z)(function*(v,f,g=!1){const{auth:E}=v,M="reauthenticate";try{const B=yield Ze(v,xu(E,M,f,v),g);re(B.idToken,E,"internal-error");const te=Lt(B.idToken);re(te,E,"internal-error");const{sub:Ne}=te;return re(v.uid===Ne,E,"user-mismatch"),Ln._forOperation(v,M,B)}catch(B){throw"auth/user-not-found"===(null==B?void 0:B.code)&&qe(E,"user-mismatch"),B}})).apply(this,arguments)}function uo(v,f){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,p.Z)(function*(v,f,g=!1){const E="signIn",M=yield xu(v,E,f),B=yield Ln._fromIdTokenResponse(v,E,M);return g||(yield v._updateCurrentUser(B.user)),B})).apply(this,arguments)}function pr(v,f){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,p.Z)(function*(v,f){return uo(ct(v),f)})).apply(this,arguments)}function la(v,f){return ei.apply(this,arguments)}function ei(){return(ei=(0,p.Z)(function*(v,f){const g=(0,j.m9)(v);return yield Ki(!1,g,f.providerId),ja(g,f)})).apply(this,arguments)}function Ir(v,f){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,p.Z)(function*(v,f){return fn((0,j.m9)(v),f)})).apply(this,arguments)}function Yi(v,f){return ks.apply(this,arguments)}function ks(){return(ks=(0,p.Z)(function*(v,f){return hr(v,"POST","/v1/accounts:signInWithCustomToken",$t(v,f))})).apply(this,arguments)}function yi(v,f){return ki.apply(this,arguments)}function ki(){return(ki=(0,p.Z)(function*(v,f){const g=ct(v),E=yield Yi(g,{token:f,returnSecureToken:!0}),M=yield Ln._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(M.user),M})).apply(this,arguments)}class Qi{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?It._fromServerResponse(f,g):qe(f,"internal-error")}}class It extends Qi{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new It(g)}}function Po(v,f,g){var E;re((null===(E=g.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),re(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(re(g.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(re(g.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Mu(v,f,g){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,p.Z)(function*(v,f,g){const E=(0,j.m9)(v),M={requestType:"PASSWORD_RESET",email:f};g&&Po(E,M,g),yield mn(E,M)})).apply(this,arguments)}function ku(v,f,g){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,p.Z)(function*(v,f,g){yield hn((0,j.m9)(v),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Ml(v,f){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,p.Z)(function*(v,f){yield ra((0,j.m9)(v),{oobCode:f})})).apply(this,arguments)}function ke(v,f){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,p.Z)(function*(v,f){const g=(0,j.m9)(v),E=yield hn(g,{oobCode:f}),M=E.requestType;switch(re(M,g,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(E.mfaInfo,g,"internal-error");default:re(E.email,g,"internal-error")}let B=null;return E.mfaInfo&&(B=Qi._fromServerResponse(ct(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:B},operation:M}})).apply(this,arguments)}function kl(v,f){return In.apply(this,arguments)}function In(){return(In=(0,p.Z)(function*(v,f){const{data:g}=yield ke((0,j.m9)(v),f);return g.email})).apply(this,arguments)}function ca(v,f,g){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,p.Z)(function*(v,f,g){const E=ct(v),M=yield aa(E,{returnSecureToken:!0,email:f,password:g}),B=yield Ln._fromIdTokenResponse(E,"signIn",M);return yield E._updateCurrentUser(B.user),B})).apply(this,arguments)}function ti(v,f,g){return pr((0,j.m9)(v),sa.credential(f,g))}function da(v,f,g){return No.apply(this,arguments)}function No(){return(No=(0,p.Z)(function*(v,f,g){const E=(0,j.m9)(v),M={requestType:"EMAIL_SIGNIN",email:f};re(g.handleCodeInApp,E,"argument-error"),g&&Po(E,M,g),yield Va(E,M)})).apply(this,arguments)}function Wc(v,f){const g=hs.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}function Ha(v,f,g){return lo.apply(this,arguments)}function lo(){return(lo=(0,p.Z)(function*(v,f,g){const E=(0,j.m9)(v),M=sa.credentialWithLink(f,g||me());return re(M._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),pr(E,M)})).apply(this,arguments)}function co(v,f){return ir.apply(this,arguments)}function ir(){return(ir=(0,p.Z)(function*(v,f){return Yt(v,"POST","/v1/accounts:createAuthUri",$t(v,f))})).apply(this,arguments)}function Ri(v,f){return ho.apply(this,arguments)}function ho(){return(ho=(0,p.Z)(function*(v,f){const E={identifier:f,continueUri:Be()?me():"http://localhost"},{signinMethods:M}=yield co((0,j.m9)(v),E);return M||[]})).apply(this,arguments)}function fo(v,f){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,p.Z)(function*(v,f){const g=(0,j.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&Po(g.auth,M,f);const{email:B}=yield Ss(g.auth,M);B!==v.email&&(yield v.reload())})).apply(this,arguments)}function Rl(v,f,g){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,p.Z)(function*(v,f,g){const E=(0,j.m9)(v),B={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};g&&Po(E.auth,B,g);const{email:te}=yield Si(E.auth,B);te!==v.email&&(yield v.reload())})).apply(this,arguments)}function ha(v,f){return po.apply(this,arguments)}function po(){return(po=(0,p.Z)(function*(v,f){return Yt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ga(v,f){return Os.apply(this,arguments)}function Os(){return(Os=(0,p.Z)(function*(v,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const E=(0,j.m9)(v),B={idToken:yield E.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},te=yield Ze(E,ha(E.auth,B));E.displayName=te.displayName||null,E.photoURL=te.photoUrl||null;const Ne=E.providerData.find(({providerId:ft})=>"password"===ft);Ne&&(Ne.displayName=E.displayName,Ne.photoURL=E.photoURL),yield E._updateTokensIfNecessary(te)})).apply(this,arguments)}function Pl(v,f){return za((0,j.m9)(v),f,null)}function fa(v,f){return za((0,j.m9)(v),null,f)}function za(v,f,g){return go.apply(this,arguments)}function go(){return(go=(0,p.Z)(function*(v,f,g){const{auth:E}=v,B={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(B.email=f),g&&(B.password=g);const te=yield Ze(v,Kn(E,B));yield v._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class gs{constructor(f,g,E={}){this.isNewUser=f,this.providerId=g,this.profile=E}}class Fo extends gs{constructor(f,g,E,M){super(f,g,E),this.username=M}}class Ol extends gs{constructor(f,g){super(f,"facebook.com",g)}}class Ru extends Fo{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Ns extends gs{constructor(f,g){super(f,"google.com",g)}}class vi extends Fo{constructor(f,g,E){super(f,"twitter.com",g,E)}}function Wa(v){const{user:f,_tokenResponse:g}=v;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function mo(v){var f,g;if(!v)return null;const{providerId:E}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},B=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&(null==v?void 0:v.idToken)){const te=null===(g=null===(f=Lt(v.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(te)return new gs(B,"anonymous"!==te&&"custom"!==te?te:null)}if(!E)return null;switch(E){case"facebook.com":return new Ol(B,M);case"github.com":return new Ru(B,M);case"google.com":return new Ns(B,M);case"twitter.com":return new vi(B,M,v.screenName||null);case"custom":case"anonymous":return new gs(B,null);default:return new gs(B,E,M)}}(g)}class ys{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new ys("enroll",f)}static _fromMfaPendingCredential(f){return new ys("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,E;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return ys._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(E=f.multiFactorSession)||void 0===E?void 0:E.idToken)return ys._fromIdtoken(f.multiFactorSession.idToken)}return null}}class yo{constructor(f,g,E){this.session=f,this.hints=g,this.signInResolver=E}static _fromError(f,g){const E=ct(f),M=g.customData._serverResponse,B=(M.mfaInfo||[]).map(Ne=>Qi._fromServerResponse(E,Ne));re(M.mfaPendingCredential,E,"internal-error");const te=ys._fromMfaPendingCredential(M.mfaPendingCredential);return new yo(te,B,function(){var Ne=(0,p.Z)(function*(ft){const xt=yield ft._process(E,te);delete M.mfaInfo,delete M.mfaPendingCredential;const Gt=Object.assign(Object.assign({},M),{idToken:xt.idToken,refreshToken:xt.refreshToken});switch(g.operationType){case"signIn":const _n=yield Ln._fromIdTokenResponse(E,g.operationType,Gt);return yield E._updateCurrentUser(_n.user),_n;case"reauthenticate":return re(g.user,E,"internal-error"),Ln._forOperation(g.user,g.operationType,Gt);default:qe(E,"internal-error")}});return function(ft){return Ne.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,p.Z)(function*(){return g.signInResolver(f)})()}}function Ka(v,f){var g;const E=(0,j.m9)(v),M=f;return re(f.customData.operationType,E,"argument-error"),re(null===(g=M.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),yo._fromError(E,M)}function pa(v,f){return Yt(v,"POST","/v2/accounts/mfaEnrollment:start",$t(v,f))}class ga{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>Qi._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new ga(f)}getSession(){var f=this;return(0,p.Z)(function*(){return ys._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var E=this;return(0,p.Z)(function*(){const M=f,B=yield E.getSession(),te=yield Ze(E.user,M._process(E.user.auth,B,g));return yield E.user._updateTokensIfNecessary(te),E.user.reload()})()}unenroll(f){var g=this;return(0,p.Z)(function*(){const E="string"==typeof f?f:f.uid,M=yield g.user.getIdToken(),B=yield Ze(g.user,function Za(v,f){return Yt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",$t(v,f))}(g.user.auth,{idToken:M,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:te})=>te!==E),yield g.user._updateTokensIfNecessary(B);try{yield g.user.reload()}catch(te){if("auth/user-token-expired"!==te.code)throw te}})()}}const es=new WeakMap;function ma(v){const f=(0,j.m9)(v);return es.has(f)||es.set(f,ga._fromUser(f)),es.get(f)}const Lo="__sak";class Ya{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Lo,"1"),this.storage.removeItem(Lo),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vn=(()=>{class v extends Ya{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function _i(){const v=(0,j.z$)();return H(v)||Rt(v)}()&&function fi(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=br(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const M=this.storage.getItem(E),B=this.localCache[E];M!==B&&g(E,B,M)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((Ne,ft,xt)=>{this.notifyListeners(Ne,xt)});const M=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ne=this.storage.getItem(M);if(g.newValue!==Ne)null!==g.newValue?this.storage.setItem(M,g.newValue):this.storage.removeItem(M);else if(this.localCache[M]===g.newValue&&!E)return}const B=()=>{const Ne=this.storage.getItem(M);!E&&this.localCache[M]===Ne||this.notifyListeners(M,Ne)},te=this.storage.getItem(M);!function Qt(){return(0,j.w1)()&&10===document.documentMode}()||te===g.newValue||g.newValue===g.oldValue?B():setTimeout(B,10)}notifyListeners(g,E){this.localCache[g]=E;const M=this.listeners[g];if(M)for(const B of Array.from(M))B(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var M=()=>super._set,B=this;return(0,p.Z)(function*(){yield M().call(B,g,E),B.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,M=this;return(0,p.Z)(function*(){const B=yield E().call(M,g);return M.localCache[g]=JSON.stringify(B),B})()}_remove(g){var E=()=>super._remove,M=this;return(0,p.Z)(function*(){yield E().call(M,g),delete M.localCache[g]})()}}return v.type="LOCAL",v})(),Et=(()=>{class v extends Ya{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return v.type="SESSION",v})();let mr=(()=>{class v{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(B=>B.isListeningto(g));if(E)return E;const M=new v(g);return this.receivers.push(M),M}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,p.Z)(function*(){const M=g,{eventId:B,eventType:te,data:Ne}=M.data,ft=E.handlersMap[te];if(!(null==ft?void 0:ft.size))return;M.ports[0].postMessage({status:"ack",eventId:B,eventType:te});const xt=Array.from(ft).map(function(){var _n=(0,p.Z)(function*(Wo){return Wo(M.origin,Ne)});return function(Wo){return _n.apply(this,arguments)}}()),Gt=yield function ts(v){return Promise.all(v.map(function(){var f=(0,p.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return f.apply(this,arguments)}}()))}(xt);M.ports[0].postMessage({status:"done",eventId:B,eventType:te,response:Gt})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function w(v="",f=10){let g="";for(let E=0;E<f;E++)g+=Math.floor(10*Math.random());return v+g}class I{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,E=50){var M=this;return(0,p.Z)(function*(){const B="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!B)throw new Error("connection_unavailable");let te,Ne;return new Promise((ft,xt)=>{const Gt=w("",20);B.port1.start();const _n=setTimeout(()=>{xt(new Error("unsupported_event"))},E);Ne={messageChannel:B,onMessage(Wo){const as=Wo;if(as.data.eventId===Gt)switch(as.data.status){case"ack":clearTimeout(_n),te=setTimeout(()=>{xt(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),ft(as.data.response);break;default:clearTimeout(_n),clearTimeout(te),xt(new Error("invalid_response"))}}},M.handlers.add(Ne),B.port1.addEventListener("message",Ne.onMessage),M.target.postMessage({eventType:f,eventId:Gt,data:g},[B.port2])}).finally(()=>{Ne&&M.removeMessageHandler(Ne)})})()}}function x(){return window}function Me(){return void 0!==x().WorkerGlobalScope&&"function"==typeof x().importScripts}function vn(){return(vn=(0,p.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const vs="firebaseLocalStorageDb",Qa="firebaseLocalStorage",Ja="fbase_key";class Yn{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function vo(v,f){return v.transaction([Qa],f?"readwrite":"readonly").objectStore(Qa)}function ni(){const v=indexedDB.open(vs,1);return new Promise((f,g)=>{v.addEventListener("error",()=>{g(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(Qa,{keyPath:Ja})}catch(M){g(M)}}),v.addEventListener("success",(0,p.Z)(function*(){const E=v.result;E.objectStoreNames.contains(Qa)?f(E):(E.close(),yield function Fl(){const v=indexedDB.deleteDatabase(vs);return new Yn(v).toPromise()}(),f(yield ni()))}))})}function Vo(v,f,g){return va.apply(this,arguments)}function va(){return(va=(0,p.Z)(function*(v,f,g){const E=vo(v,!0).put({[Ja]:f,value:g});return new Yn(E).toPromise()})).apply(this,arguments)}function Xa(){return(Xa=(0,p.Z)(function*(v,f){const g=vo(v,!1).get(f),E=yield new Yn(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Bo(v,f){const g=vo(v,!0).delete(f);return new Yn(g).toPromise()}const wo=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,p.Z)(function*(){return g.db||(g.db=yield ni()),g.db})()}_withRetries(g){var E=this;return(0,p.Z)(function*(){let M=0;for(;;)try{const B=yield E._openDb();return yield g(B)}catch(B){if(M++>3)throw B;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,p.Z)(function*(){return Me()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,p.Z)(function*(){g.receiver=mr._getInstance(function bt(){return Me()?self:null}()),g.receiver._subscribe("keyChanged",function(){var E=(0,p.Z)(function*(M,B){return{keyProcessed:(yield g._poll()).includes(B.key)}});return function(M,B){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,p.Z)(function*(M,B){return["keyChanged"]});return function(M,B){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,p.Z)(function*(){var E,M;if(g.activeServiceWorker=yield function lt(){return vn.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new I(g.activeServiceWorker);const B=yield g.sender._send("ping",{},800);!B||(null===(E=B[0])||void 0===E?void 0:E.fulfilled)&&(null===(M=B[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,p.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Bn(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ni();return yield Vo(g,Lo,"1"),yield Bo(g,Lo),!0}catch(g){}return!1})()}_withPendingWrite(g){var E=this;return(0,p.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var M=this;return(0,p.Z)(function*(){return M._withPendingWrite((0,p.Z)(function*(){return yield M._withRetries(B=>Vo(B,g,E)),M.localCache[g]=E,M.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,p.Z)(function*(){const M=yield E._withRetries(B=>function _o(v,f){return Xa.apply(this,arguments)}(B,g));return E.localCache[g]=M,M})()}_remove(g){var E=this;return(0,p.Z)(function*(){return E._withPendingWrite((0,p.Z)(function*(){return yield E._withRetries(M=>Bo(M,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,p.Z)(function*(){const E=yield g._withRetries(te=>{const Ne=vo(te,!1).getAll();return new Yn(Ne).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const M=[],B=new Set;for(const{fbase_key:te,value:Ne}of E)B.add(te),JSON.stringify(g.localCache[te])!==JSON.stringify(Ne)&&(g.notifyListeners(te,Ne),M.push(te));for(const te of Object.keys(g.localCache))g.localCache[te]&&!B.has(te)&&(g.notifyListeners(te,null),M.push(te));return M})()}notifyListeners(g,E){this.localCache[g]=E;const M=this.listeners[g];if(M)for(const B of Array.from(M))B(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function _a(v,f){return Yt(v,"POST","/v2/accounts/mfaSignIn:start",$t(v,f))}function Or(){return(Or=(0,p.Z)(function*(v){return(yield Yt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Vl(v){return new Promise((f,g)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=f,E.onerror=M=>{const B=Oe("internal-error");B.customData=M,g(B)},E.type="text/javascript",E.charset="UTF-8",function Ls(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(E)})}function sr(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Vs=1e12;class Pi{constructor(f){this.auth=f,this.counter=Vs,this._widgets=new Map}render(f,g){const E=this.counter;return this._widgets.set(E,new Bs(f,this.auth.name,g||{})),this.counter++,E}reset(f){var g;const E=f||Vs;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Vs))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,p.Z)(function*(){var E;return null===(E=g._widgets.get(f||Vs))||void 0===E||E.execute(),""})()}}class Bs{constructor(f,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof f?document.getElementById(f):f;re(M,"argument-error",{appName:g}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _s(v){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Hn=sr("rcb"),ba=new Ge(3e4,6e4);class Qn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!x().grecaptcha}load(f,g=""){return re(function ap(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(x().grecaptcha):new Promise((E,M)=>{const B=x().setTimeout(()=>{M(Oe(f,"network-request-failed"))},ba.get());x()[Hn]=()=>{x().clearTimeout(B),delete x()[Hn];const Ne=x().grecaptcha;if(!Ne)return void M(Oe(f,"internal-error"));const ft=Ne.render;Ne.render=(xt,Gt)=>{const _n=ft(xt,Gt);return this.counter++,_n},this.hostLanguage=g,E(Ne)},Vl(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Hn,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(B),M(Oe(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!x().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class up{load(f){return(0,p.Z)(function*(){return new Pi(f)})()}clearedOneInstance(){}}const vh="recaptcha",Uo={theme:"light",type:"image"};class ri{constructor(f,g=Object.assign({},Uo),E){this.parameters=g,this.type=vh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ct(E),this.isInvisible="invisible"===this.parameters.size,re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof f?document.getElementById(f):f;re(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new up:new Qn,this.validateStartingState()}verify(){var f=this;return(0,p.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(g)||new Promise(B=>{const te=Ne=>{!Ne||(f.tokenChangeListeners.delete(te),B(Ne))};f.tokenChangeListeners.add(te),f.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof f)f(g);else if("string"==typeof f){const E=x()[f];"function"==typeof E&&E(g)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,p.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,p.Z)(function*(){re(Be()&&!Me(),f.auth,"internal-error"),yield function lp(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function eu(v){return Or.apply(this,arguments)}(f.auth);re(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ws{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=xs._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function jo(v,f,g){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,p.Z)(function*(v,f,g){const E=ct(v),M=yield ru(E,f,(0,j.m9)(g));return new ws(M,B=>pr(E,B))})).apply(this,arguments)}function or(v,f,g){return nu.apply(this,arguments)}function nu(){return(nu=(0,p.Z)(function*(v,f,g){const E=(0,j.m9)(v);yield Ki(!1,E,"phone");const M=yield ru(E.auth,f,(0,j.m9)(g));return new ws(M,B=>la(E,B))})).apply(this,arguments)}function Fu(v,f,g){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,p.Z)(function*(v,f,g){const E=(0,j.m9)(v),M=yield ru(E.auth,f,(0,j.m9)(g));return new ws(M,B=>Ir(E,B))})).apply(this,arguments)}function ru(v,f,g){return ii.apply(this,arguments)}function ii(){return(ii=(0,p.Z)(function*(v,f,g){var E;const M=yield g.verify();try{let B;if(re("string"==typeof M,v,"argument-error"),re(g.type===vh,v,"argument-error"),B="string"==typeof f?{phoneNumber:f}:f,"session"in B){const te=B.session;if("phoneNumber"in B)return re("enroll"===te.type,v,"internal-error"),(yield pa(v,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:B.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{re("signin"===te.type,v,"internal-error");const Ne=(null===(E=B.multiFactorHint)||void 0===E?void 0:E.uid)||B.multiFactorUid;return re(Ne,v,"missing-multi-factor-info"),(yield _a(v,{mfaPendingCredential:te.credential,mfaEnrollmentId:Ne,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield jc(v,{phoneNumber:B.phoneNumber,recaptchaToken:M});return te}}finally{g._reset()}})).apply(this,arguments)}function rs(v,f){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,p.Z)(function*(v,f){yield ja((0,j.m9)(v),f)})).apply(this,arguments)}let iu=(()=>{class v{constructor(g){this.providerId=v.PROVIDER_ID,this.auth=ct(g)}verifyPhoneNumber(g,E){return ru(this.auth,g,(0,j.m9)(E))}static credential(g,E){return xs._fromVerification(g,E)}static credentialFromResult(g){return v.credentialFromTaggedObject(g)}static credentialFromError(g){return v.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:M}=g;return E&&M?xs._fromTokenResponse(E,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function wi(v,f){return f?ue(f):(re(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Da extends lr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return qr(f,this._buildIdpRequest())}_linkToIdToken(f,g){return qr(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return qr(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Bl(v){return uo(v.auth,new Da(v),v.bypassAuthState)}function Ul(v){const{auth:f,user:g}=v;return re(g,f,"internal-error"),fn(g,new Da(v),v.bypassAuthState)}function jl(v){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,p.Z)(function*(v){const{auth:f,user:g}=v;return re(g,f,"internal-error"),ja(g,new Da(v),v.bypassAuthState)})).apply(this,arguments)}class su{constructor(f,g,E,M,B=!1){this.auth=f,this.resolver=E,this.user=M,this.bypassAuthState=B,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,p.Z)(function*(E,M){f.pendingPromise={resolve:E,reject:M};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(B){f.reject(B)}});return function(E,M){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,p.Z)(function*(){const{urlResponse:E,sessionId:M,postBody:B,tenantId:te,error:Ne,type:ft}=f;if(Ne)return void g.reject(Ne);const xt={auth:g.auth,requestUri:E,sessionId:M,tenantId:te||void 0,postBody:B||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(ft)(xt))}catch(Gt){g.reject(Gt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Bl;case"linkViaPopup":case"linkViaRedirect":return jl;case"reauthViaPopup":case"reauthViaRedirect":return Ul;default:qe(this.auth,"internal-error")}}resolve(f){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Dr=new Ge(2e3,1e4);function $l(v,f,g){return Us.apply(this,arguments)}function Us(){return(Us=(0,p.Z)(function*(v,f,g){const E=ct(v);Ce(v,f,qi);const M=wi(E,g);return new Vu(E,"signInViaPopup",f,M).executeNotNull()})).apply(this,arguments)}function cp(v,f,g){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,p.Z)(function*(v,f,g){const E=(0,j.m9)(v);Ce(E.auth,f,qi);const M=wi(E.auth,g);return new Vu(E.auth,"reauthViaPopup",f,M,E).executeNotNull()})).apply(this,arguments)}function Ca(v,f,g){return bi.apply(this,arguments)}function bi(){return(bi=(0,p.Z)(function*(v,f,g){const E=(0,j.m9)(v);Ce(E.auth,f,qi);const M=wi(E.auth,g);return new Vu(E.auth,"linkViaPopup",f,M,E).executeNotNull()})).apply(this,arguments)}let Vu=(()=>{class v extends su{constructor(g,E,M,B,te){super(g,E,B,te),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var g=this;return(0,p.Z)(function*(){const E=yield g.execute();return re(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,p.Z)(function*(){Qe(1===g.filter.length,"Popup operations only handle one event");const E=w();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(M=>{g.reject(M)}),g.resolver._isIframeWebStorageSupported(g.auth,M=>{M||g.reject(Oe(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,M;this.pollId=(null===(M=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Dr.get())};g()}}return v.currentPopupAction=null,v})();const is=new Map;class _h extends su{constructor(f,g,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,p.Z)(function*(){let E=is.get(g.auth._key());if(!E){try{const B=(yield function Mn(v,f){return si.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;E=()=>Promise.resolve(B)}catch(M){E=()=>Promise.reject(M)}is.set(g.auth._key(),E)}return g.bypassAuthState||is.set(g.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,E=this;return(0,p.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(E,f);if("unknown"!==f.type){if(f.eventId){const M=yield E.auth._redirectUserForId(f.eventId);if(M)return E.user=M,g().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function si(){return(si=(0,p.Z)(function*(v,f){const g=Yc(f),E=Ta(v);if(!(yield E._isAvailable()))return!1;const M="true"===(yield E._get(g));return yield E._remove(g),M})).apply(this,arguments)}function wh(v,f){return bo.apply(this,arguments)}function bo(){return(bo=(0,p.Z)(function*(v,f){return Ta(v)._set(Yc(f),"true")})).apply(this,arguments)}function Bu(){is.clear()}function Ta(v){return ue(v._redirectPersistence)}function Yc(v){return Q("pendingRedirect",v.config.apiKey,v.name)}function C(v,f,g){return function T(v,f,g){return R.apply(this,arguments)}(v,f,g)}function R(){return(R=(0,p.Z)(function*(v,f,g){const E=ct(v);Ce(v,f,qi);const M=wi(E,g);return yield wh(M,E),M._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function G(v,f,g){return function X(v,f,g){return ce.apply(this,arguments)}(v,f,g)}function ce(){return(ce=(0,p.Z)(function*(v,f,g){const E=(0,j.m9)(v);Ce(E.auth,f,qi);const M=wi(E.auth,g);yield wh(M,E.auth);const B=yield yr(E);return M._openRedirect(E.auth,f,"reauthViaRedirect",B)})).apply(this,arguments)}function De(v,f,g){return function ze(v,f,g){return Pt.apply(this,arguments)}(v,f,g)}function Pt(){return(Pt=(0,p.Z)(function*(v,f,g){const E=(0,j.m9)(v);Ce(E.auth,f,qi);const M=wi(E.auth,g);yield Ki(!1,E,f.providerId),yield wh(M,E.auth);const B=yield yr(E);return M._openRedirect(E.auth,f,"linkViaRedirect",B)})).apply(this,arguments)}function Tt(v,f){return tn.apply(this,arguments)}function tn(){return(tn=(0,p.Z)(function*(v,f){return yield ct(v)._initializationPromise,Mt(v,f,!1)})).apply(this,arguments)}function Mt(v,f){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,p.Z)(function*(v,f,g=!1){const E=ct(v),M=wi(E,f),te=yield new _h(E,M,g).execute();return te&&!g&&(delete te.user._redirectEventId,yield E._persistUserIfCurrent(te.user),yield E._setRedirectUser(null,f)),te})).apply(this,arguments)}function yr(v){return js.apply(this,arguments)}function js(){return(js=(0,p.Z)(function*(v){const f=w(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class ss{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(g=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Uu(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return os(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var E;if(f.error&&!os(f)){const M=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(Oe(this.auth,M))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const E=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Oi(f))}saveEventToCache(f){this.cachedEventUids.add(Oi(f)),this.lastProcessedEventTime=Date.now()}}function Oi(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function os({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===(null==f?void 0:f.code)}function ju(v){return $u.apply(this,arguments)}function $u(){return($u=(0,p.Z)(function*(v,f={}){return Yt(v,"GET","/v1/projects",f)})).apply(this,arguments)}const Hl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dp=/^https?/;function bh(){return(bh=(0,p.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield ju(v);for(const g of f)try{if($o(g))return}catch(E){}qe(v,"unauthorized-domain")})).apply(this,arguments)}function $o(v){const f=me(),{protocol:g,hostname:E}=new URL(f);if(v.startsWith("chrome-extension://")){const te=new URL(v);return""===te.hostname&&""===E?"chrome-extension:"===g&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&te.hostname===E}if(!dp.test(g))return!1;if(Hl.test(v))return E===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(E)}const Gl=new Ge(3e4,6e4);function hp(){const v=x().___jsl;if(null==v?void 0:v.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let g=0;g<v.CP.length;g++)v.CP[g]=null}let zl=null;function um(v){return zl=zl||function D_(v){return new Promise((f,g)=>{var E,M,B;function te(){hp(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{hp(),g(Oe(v,"network-request-failed"))},timeout:Gl.get()})}if(null===(M=null===(E=x().gapi)||void 0===E?void 0:E.iframes)||void 0===M?void 0:M.Iframe)f(gapi.iframes.getContext());else{if(!(null===(B=x().gapi)||void 0===B?void 0:B.load)){const Ne=sr("iframefcb");return x()[Ne]=()=>{gapi.load?te():g(Oe(v,"network-request-failed"))},Vl(`https://apis.google.com/js/api.js?onload=${Ne}`).catch(ft=>g(ft))}te()}}).catch(f=>{throw zl=null,f})}(v),zl}const lm=new Ge(5e3,15e3),Ho={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Go=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qc(v){const f=v.config;re(f.authDomain,v,"auth-domain-config-required");const g=f.emulator?Ot(f,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,E={apiKey:f.apiKey,appName:v.name,v:P.SDK_VERSION},M=Go.get(v.config.apiHost);M&&(E.eid=M);const B=v._getFrameworks();return B.length&&(E.fw=B.join(",")),`${g}?${(0,j.xO)(E).slice(1)}`}function Dh(){return Dh=(0,p.Z)(function*(v){const f=yield um(v),g=x().gapi;return re(g,v,"internal-error"),f.open({where:document.body,url:Qc(v),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ho,dontclear:!0},E=>new Promise(function(){var M=(0,p.Z)(function*(B,te){yield E.restyle({setHideOnLeave:!1});const Ne=Oe(v,"network-request-failed"),ft=x().setTimeout(()=>{te(Ne)},lm.get());function xt(){x().clearTimeout(ft),B(E)}E.ping(xt).then(xt,()=>{te(Ne)})});return function(B,te){return M.apply(this,arguments)}}()))}),Dh.apply(this,arguments)}const Hu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function au(v,f,g,E,M,B){re(v.config.authDomain,v,"auth-domain-config-required"),re(v.config.apiKey,v,"invalid-api-key");const te={apiKey:v.config.apiKey,appName:v.name,authType:g,redirectUrl:E,v:P.SDK_VERSION,eventId:M};if(f instanceof qi){f.setDefaultLanguage(v.languageCode),te.providerId=f.providerId||"",(0,j.xb)(f.getCustomParameters())||(te.customParameters=JSON.stringify(f.getCustomParameters()));for(const[ft,xt]of Object.entries(B||{}))te[ft]=xt}if(f instanceof Mo){const ft=f.getScopes().filter(xt=>""!==xt);ft.length>0&&(te.scopes=ft.join(","))}v.tenantId&&(te.tid=v.tenantId);const Ne=te;for(const ft of Object.keys(Ne))void 0===Ne[ft]&&delete Ne[ft];return`${function hm({config:v}){return v.emulator?Ot(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,j.xO)(Ne).slice(1)}`}const Sh="webStorageSupport",zo=class Aa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Et,this._completeRedirectFn=Mt}_openPopup(f,g,E,M){var B=this;return(0,p.Z)(function*(){var te;Qe(null===(te=B.eventManagers[f._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const Ne=au(f,g,E,me(),M);return function Th(v,f,g,E=500,M=600){const B=Math.max((window.screen.availHeight-M)/2,0).toString(),te=Math.max((window.screen.availWidth-E)/2,0).toString();let Ne="";const ft=Object.assign(Object.assign({},Hu),{width:E.toString(),height:M.toString(),top:B,left:te}),xt=(0,j.z$)().toLowerCase();g&&(Ne=fe(xt)?"_blank":g),U(xt)&&(f=f||"http://localhost",ft.scrollbars="yes");const Gt=Object.entries(ft).reduce((Wo,[as,zu])=>`${Wo}${as}=${zu},`,"");if(function tr(v=(0,j.z$)()){var f;return Rt(v)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(xt)&&"_self"!==Ne)return function Xc(v,f){const g=document.createElement("a");g.href=v,g.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(f||"",Ne),new Wl(null);const _n=window.open(f||"",Ne,Gt);re(_n,v,"popup-blocked");try{_n.focus()}catch(Wo){}return new Wl(_n)}(f,Ne,w())})()}_openRedirect(f,g,E,M){var B=this;return(0,p.Z)(function*(){return yield B._originValidation(f),function z(v){x().location.href=v}(au(f,g,E,me(),M)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:M,promise:B}=this.eventManagers[g];return M?Promise.resolve(M):(Qe(B,"If manager is not set, promise should be"),B)}const E=this.initAndGetManager(f);return this.eventManagers[g]={promise:E},E.catch(()=>{delete this.eventManagers[g]}),E}initAndGetManager(f){var g=this;return(0,p.Z)(function*(){const E=yield function ou(v){return Dh.apply(this,arguments)}(f),M=new ss(f);return E.register("authEvent",B=>(re(null==B?void 0:B.authEvent,f,"invalid-auth-event"),{status:M.onEvent(B.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:M},g.iframes[f._key()]=E,M})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Sh,{type:Sh},M=>{var B;const te=null===(B=null==M?void 0:M[0])||void 0===B?void 0:B[Sh];void 0!==te&&g(!!te),qe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function am(v){return bh.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return br()||H()||Rt()}};class ed extends class ql{constructor(f){this.factorId=f}_process(f,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,E);case"signin":return this._finalizeSignIn(f,g.credential);default:return Y("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ed(f)}_finalizeEnroll(f,g,E){return function Xn(v,f){return Yt(v,"POST","/v2/accounts/mfaEnrollment:finalize",$t(v,f))}(f,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function wa(v,f){return Yt(v,"POST","/v2/accounts/mfaSignIn:finalize",$t(v,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let fm=(()=>{class v{constructor(){}static assertion(g){return ed._fromCredential(g)}}return v.FACTOR_ID="phone",v})();var fp="@firebase/auth",pm="0.19.12";class pp{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,p.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(E=>{var M;f((null===(M=E)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function gm(v){(0,P._registerComponent)(new Ee.wA("auth",(f,{options:g})=>{const E=f.getProvider("app").getImmediate(),M=f.getProvider("heartbeat"),{apiKey:B,authDomain:te}=E.options;return((Ne,ft)=>{re(B&&!B.includes(":"),"invalid-api-key",{appName:Ne.name}),re(!(null==te?void 0:te.includes(":")),"argument-error",{appName:Ne.name});const xt={apiKey:B,authDomain:te,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jn(v)},Gt=new na(Ne,ft,xt);return function he(v,f){const g=(null==f?void 0:f.persistence)||[],E=(Array.isArray(g)?g:[g]).map(ue);(null==f?void 0:f.errorMap)&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(E,null==f?void 0:f.popupRedirectResolver)}(Gt,g),Gt})(E,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,E)=>{f.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new Ee.wA("auth-internal",f=>{const g=ct(f.getProvider("auth").getImmediate());return new pp(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(fp,pm,function gp(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,P.registerVersion)(fp,pm,"esm2017")}("Browser")},2090:(mt,xe,L)=>{"use strict";L.d(xe,{$s:()=>Ti,BH:()=>Fe,G6:()=>Y,L:()=>ve,LL:()=>Be,Lj:()=>Bt,Mn:()=>Xe,Sg:()=>Ve,UG:()=>Ae,US:()=>ge,X3:()=>gt,ZB:()=>se,ZR:()=>me,b$:()=>Oe,d:()=>Pe,eu:()=>ne,hl:()=>Qe,jU:()=>st,m9:()=>yt,ne:()=>rt,pd:()=>fr,r3:()=>Yt,ru:()=>qe,tV:()=>K,uI:()=>we,vZ:()=>hr,w1:()=>Ce,xO:()=>xr,xb:()=>Wn,z$:()=>Ue,zI:()=>ue,zd:()=>qn});var p=L(5861);const oe=function(q){const $=[];let Q=0;for(let ye=0;ye<q.length;ye++){let F=q.charCodeAt(ye);F<128?$[Q++]=F:F<2048?($[Q++]=F>>6|192,$[Q++]=63&F|128):55296==(64512&F)&&ye+1<q.length&&56320==(64512&q.charCodeAt(ye+1))?(F=65536+((1023&F)<<10)+(1023&q.charCodeAt(++ye)),$[Q++]=F>>18|240,$[Q++]=F>>12&63|128,$[Q++]=F>>6&63|128,$[Q++]=63&F|128):($[Q++]=F>>12|224,$[Q++]=F>>6&63|128,$[Q++]=63&F|128)}return $},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,$){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let F=0;F<q.length;F+=3){const U=q[F],H=F+1<q.length,fe=H?q[F+1]:0,je=F+2<q.length,Je=je?q[F+2]:0;let Rt=(15&fe)<<2|Je>>6,Cn=63&Je;je||(Cn=64,H||(Rt=64)),ye.push(Q[U>>2],Q[(3&U)<<4|fe>>4],Q[Rt],Q[Cn])}return ye.join("")},encodeString(q,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(q):this.encodeByteArray(oe(q),$)},decodeString(q,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(q):function(q){const $=[];let Q=0,ye=0;for(;Q<q.length;){const F=q[Q++];if(F<128)$[ye++]=String.fromCharCode(F);else if(F>191&&F<224){const U=q[Q++];$[ye++]=String.fromCharCode((31&F)<<6|63&U)}else if(F>239&&F<365){const je=((7&F)<<18|(63&q[Q++])<<12|(63&q[Q++])<<6|63&q[Q++])-65536;$[ye++]=String.fromCharCode(55296+(je>>10)),$[ye++]=String.fromCharCode(56320+(1023&je))}else{const U=q[Q++],H=q[Q++];$[ye++]=String.fromCharCode((15&F)<<12|(63&U)<<6|63&H)}}return $.join("")}(this.decodeStringToByteArray(q,$))},decodeStringToByteArray(q,$){this.init_();const Q=$?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let F=0;F<q.length;){const U=Q[q.charAt(F++)],fe=F<q.length?Q[q.charAt(F)]:0;++F;const Je=F<q.length?Q[q.charAt(F)]:64;++F;const ut=F<q.length?Q[q.charAt(F)]:64;if(++F,null==U||null==fe||null==Je||null==ut)throw Error();ye.push(U<<2|fe>>4),64!==Je&&(ye.push(fe<<4&240|Je>>2),64!==ut&&ye.push(Je<<6&192|ut))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},ve=function(q){return function(q){const $=oe(q);return ge.encodeByteArray($,!0)}(q).replace(/\./g,"")},K=function(q){try{return ge.decodeString(q,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function se(q,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return $}for(const Q in $)!$.hasOwnProperty(Q)||!We(Q)||(q[Q]=se(q[Q],$[Q]));return q}function We(q){return"__proto__"!==q}class Fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,Q)=>{this.resolve=$,this.reject=Q})}wrapCallback($){return(Q,ye)=>{Q?this.reject(Q):this.resolve(ye),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(Q):$(Q,ye))}}}function Ve(q,$){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=$||"demo-project",F=q.iat||0,U=q.sub||q.user_id;if(!U)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const H=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:F,exp:F+3600,auth_time:F,sub:U,user_id:U,firebase:{sign_in_provider:"custom",identities:{}}},q);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(H)),""].join(".")}function Ue(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function we(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function Ae(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(q){return!1}}function st(){return"object"==typeof self&&self.self===self}function qe(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pe(){return Ue().indexOf("Electron/")>=0}function Ce(){const q=Ue();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Xe(){return Ue().indexOf("MSAppHost/")>=0}function Y(){return!Ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qe(){return"object"==typeof indexedDB}function ne(){return new Promise((q,$)=>{try{let Q=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(ye);F.onsuccess=()=>{F.result.close(),Q||self.indexedDB.deleteDatabase(ye),q(!0)},F.onupgradeneeded=()=>{Q=!1},F.onerror=()=>{var U;$((null===(U=F.error)||void 0===U?void 0:U.message)||"")}}catch(Q){$(Q)}})}function ue(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class me extends Error{constructor($,Q,ye){super(Q),this.code=$,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Be.prototype.create)}}class Be{constructor($,Q,ye){this.service=$,this.serviceName=Q,this.errors=ye}create($,...Q){const ye=Q[0]||{},F=`${this.service}/${$}`,U=this.errors[$],H=U?function St(q,$){return q.replace(Xt,(Q,ye)=>{const F=$[ye];return null!=F?String(F):`<${ye}?>`})}(U,ye):"Error";return new me(F,`${this.serviceName}: ${H} (${F}).`,ye)}}const Xt=/\{\$([^}]+)}/g;function Yt(q,$){return Object.prototype.hasOwnProperty.call(q,$)}function Wn(q){for(const $ in q)if(Object.prototype.hasOwnProperty.call(q,$))return!1;return!0}function hr(q,$){if(q===$)return!0;const Q=Object.keys(q),ye=Object.keys($);for(const F of Q){if(!ye.includes(F))return!1;const U=q[F],H=$[F];if(Qr(U)&&Qr(H)){if(!hr(U,H))return!1}else if(U!==H)return!1}for(const F of ye)if(!Q.includes(F))return!1;return!0}function Qr(q){return null!==q&&"object"==typeof q}function xr(q){const $=[];for(const[Q,ye]of Object.entries(q))Array.isArray(ye)?ye.forEach(F=>{$.push(encodeURIComponent(Q)+"="+encodeURIComponent(F))}):$.push(encodeURIComponent(Q)+"="+encodeURIComponent(ye));return $.length?"&"+$.join("&"):""}function qn(q){const $={};return q.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[F,U]=ye.split("=");$[decodeURIComponent(F)]=decodeURIComponent(U)}}),$}function fr(q){const $=q.indexOf("?");if(!$)return"";const Q=q.indexOf("#",$);return q.substring($,Q>0?Q:void 0)}function rt(q,$){const Q=new Sn(q,$);return Q.subscribe.bind(Q)}class Sn{constructor($,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{$(this)}).catch(ye=>{this.error(ye)})}next($){this.forEachObserver(Q=>{Q.next($)})}error($){this.forEachObserver(Q=>{Q.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,Q,ye){let F;if(void 0===$&&void 0===Q&&void 0===ye)throw new Error("Missing Observer.");F=function Vt(q,$){if("object"!=typeof q||null===q)return!1;for(const Q of $)if(Q in q&&"function"==typeof q[Q])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:Q,complete:ye},void 0===F.next&&(F.next=Pn),void 0===F.error&&(F.error=Pn),void 0===F.complete&&(F.complete=Pn);const U=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch(H){}}),this.observers.push(F),U}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,$)}sendOne($,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{Q(this.observers[$])}catch(ye){"undefined"!=typeof console&&console.error&&console.error(ye)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pn(){}function Ti(q,$=1e3,Q=2){const ye=$*Math.pow(Q,q),F=Math.round(.5*ye*(Math.random()-.5)*2);return Math.min(144e5,ye+F)}function yt(q){return q&&q._delegate?q._delegate:q}function jn(q,$){return new Promise((Q,ye)=>{q.onsuccess=F=>{Q(F.target.result)},q.onerror=F=>{var U;ye(`${$}: ${null===(U=F.target.error)||void 0===U?void 0:U.message}`)}})}class Kt{constructor($){this._db=$,this.objectStoreNames=this._db.objectStoreNames}transaction($,Q="readonly"){return new Ye(this._db.transaction.call(this._db,$,Q))}createObjectStore($,Q){return new le(this._db.createObjectStore($,Q))}close(){this._db.close()}}class Ye{constructor($){this._transaction=$,this.complete=new Promise((Q,ye)=>{this._transaction.oncomplete=function(){Q()},this._transaction.onerror=()=>{ye(this._transaction.error)},this._transaction.onabort=()=>{ye(this._transaction.error)}})}objectStore($){return new le(this._transaction.objectStore($))}}class le{constructor($){this._store=$}index($){return new ot(this._store.index($))}createIndex($,Q,ye){return new ot(this._store.createIndex($,Q,ye))}get($){return jn(this._store.get($),"Error reading from IndexedDB")}put($,Q){return jn(this._store.put($,Q),"Error writing to IndexedDB")}delete($){return jn(this._store.delete($),"Error deleting from IndexedDB")}clear(){return jn(this._store.clear(),"Error clearing IndexedDB object store")}}class ot{constructor($){this._index=$}get($){return jn(this._index.get($),"Error reading from IndexedDB")}}function gt(q,$,Q){return new Promise((ye,F)=>{try{const U=indexedDB.open(q,$);U.onsuccess=H=>{ye(new Kt(H.target.result))},U.onerror=H=>{var fe;F(`Error opening indexedDB: ${null===(fe=H.target.error)||void 0===fe?void 0:fe.message}`)},U.onupgradeneeded=H=>{Q(new Kt(U.result),H.oldVersion,H.newVersion,new Ye(U.transaction))}}catch(U){F(`Error opening indexedDB: ${U.message}`)}})}function Bt(q){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,p.Z)(function*(q){return new Promise(($,Q)=>{try{const ye=indexedDB.deleteDatabase(q);ye.onsuccess=()=>{$()},ye.onerror=F=>{var U;Q(`Error deleting indexedDB database "${q}": ${null===(U=F.target.error)||void 0===U?void 0:U.message}`)}}catch(ye){Q(`Error deleting indexedDB database "${q}": ${ye.message}`)}})})).apply(this,arguments)}},7719:(mt,xe,L)=>{"use strict";var p=L(5e3);let j=null;function P(){return j}const ge=new p.OlP("DocumentToken");let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return function ve(){return(0,p.LFG)(W)}()},providedIn:"platform"}),n})();const K=new p.OlP("Location Initialized");let W=(()=>{class n extends pe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){se()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){se()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ge))},n.\u0275prov=p.Yz7({token:n,factory:function(){return function We(){return new W((0,p.LFG)(ge))}()},providedIn:"platform"}),n})();function se(){return!!window.history.pushState}function Fe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ve(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ue(n){return n&&"?"!==n[0]?"?"+n:n}let we=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:function(){return function Ae(n){const e=(0,p.LFG)(ge).location;return new qe((0,p.LFG)(pe),e&&e.origin||"")}()},providedIn:"root"}),n})();const st=new p.OlP("appBaseHref");let qe=(()=>{class n extends we{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Fe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ue(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const d=this.prepareExternalUrl(o+Ue(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){const d=this.prepareExternalUrl(o+Ue(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(pe),p.LFG(st,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n extends we{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Fe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let d=this.prepareExternalUrl(o+Ue(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){let d=this.prepareExternalUrl(o+Ue(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(pe),p.LFG(st,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(t,r){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ve(re(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ue(r))}normalize(t){return n.stripTrailingSlash(function Xe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,re(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ue(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Ue,n.joinWithSlash=Fe,n.stripTrailingSlash=Ve,n.\u0275fac=function(t){return new(t||n)(p.LFG(we),p.LFG(pe))},n.\u0275prov=p.Yz7({token:n,factory:function(){return function Ce(){return new Pe((0,p.LFG)(we),(0,p.LFG)(pe))}()},providedIn:"root"}),n})();function re(n){return n.replace(/\/index.html$/,"")}var ue=(()=>((ue=ue||{})[ue.Format=0]="Format",ue[ue.Standalone=1]="Standalone",ue))(),de=(()=>((de=de||{})[de.Narrow=0]="Narrow",de[de.Abbreviated=1]="Abbreviated",de[de.Wide=2]="Wide",de[de.Short=3]="Short",de))(),he=(()=>((he=he||{})[he.Short=0]="Short",he[he.Medium=1]="Medium",he[he.Long=2]="Long",he[he.Full=3]="Full",he))(),me=(()=>((me=me||{})[me.Decimal=0]="Decimal",me[me.Group=1]="Group",me[me.List=2]="List",me[me.PercentSign=3]="PercentSign",me[me.PlusSign=4]="PlusSign",me[me.MinusSign=5]="MinusSign",me[me.Exponential=6]="Exponential",me[me.SuperscriptingExponent=7]="SuperscriptingExponent",me[me.PerMille=8]="PerMille",me[me.Infinity=9]="Infinity",me[me.NaN=10]="NaN",me[me.TimeSeparator=11]="TimeSeparator",me[me.CurrencyDecimal=12]="CurrencyDecimal",me[me.CurrencyGroup=13]="CurrencyGroup",me))();function qt(n,e){return Un((0,p.cg1)(n)[p.wAp.DateFormat],e)}function $t(n,e){return Un((0,p.cg1)(n)[p.wAp.TimeFormat],e)}function Yt(n,e){return Un((0,p.cg1)(n)[p.wAp.DateTimeFormat],e)}function An(n,e){const t=(0,p.cg1)(n),r=t[p.wAp.NumberSymbols][e];if(void 0===r){if(e===me.CurrencyDecimal)return t[p.wAp.NumberSymbols][me.Decimal];if(e===me.CurrencyGroup)return t[p.wAp.NumberSymbols][me.Group]}return r}function fr(n){if(!n[p.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[p.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Un(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Vt(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const _t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xn={},kr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Lt=(()=>((Lt=Lt||{})[Lt.Short=0]="Short",Lt[Lt.ShortGMT=1]="ShortGMT",Lt[Lt.Long=2]="Long",Lt[Lt.Extended=3]="Extended",Lt))(),it=(()=>((it=it||{})[it.FullYear=0]="FullYear",it[it.Month=1]="Month",it[it.Date=2]="Date",it[it.Hours=3]="Hours",it[it.Minutes=4]="Minutes",it[it.Seconds=5]="Seconds",it[it.FractionalSeconds=6]="FractionalSeconds",it[it.Day=7]="Day",it))(),Ze=(()=>((Ze=Ze||{})[Ze.DayPeriods=0]="DayPeriods",Ze[Ze.Days=1]="Days",Ze[Ze.Months=2]="Months",Ze[Ze.Eras=3]="Eras",Ze))();function Rr(n,e,t,r){let o=function fe(n){if(Je(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[o,u=1,d=1]=n.split("-").map(m=>+m);return Gr(o,u-1,d)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(_t))return function je(n){const e=new Date(0);let t=0,r=0;const o=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),o.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const d=Number(n[4]||0)-t,m=Number(n[5]||0)-r,b=Number(n[6]||0),A=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,d,m,b,A),e}(r)}const e=new Date(n);if(!Je(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Ct(t,e)||e;let m,d=[];for(;e;){if(m=kr.exec(e),!m){d.push(e);break}{d=d.concat(m.slice(1));const O=d.pop();if(!O)break;e=O}}let b=o.getTimezoneOffset();r&&(b=F(r,b),o=function H(n,e,t){const r=t?-1:1,o=n.getTimezoneOffset();return function U(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(F(e,o)-o))}(o,r,!0));let A="";return d.forEach(O=>{const N=function ye(n){if(Q[n])return Q[n];let e;switch(n){case"G":case"GG":case"GGG":e=Kt(Ze.Eras,de.Abbreviated);break;case"GGGG":e=Kt(Ze.Eras,de.Wide);break;case"GGGGG":e=Kt(Ze.Eras,de.Narrow);break;case"y":e=yt(it.FullYear,1,0,!1,!0);break;case"yy":e=yt(it.FullYear,2,0,!0,!0);break;case"yyy":e=yt(it.FullYear,3,0,!1,!0);break;case"yyyy":e=yt(it.FullYear,4,0,!1,!0);break;case"Y":e=$(1);break;case"YY":e=$(2,!0);break;case"YYY":e=$(3);break;case"YYYY":e=$(4);break;case"M":case"L":e=yt(it.Month,1,1);break;case"MM":case"LL":e=yt(it.Month,2,1);break;case"MMM":e=Kt(Ze.Months,de.Abbreviated);break;case"MMMM":e=Kt(Ze.Months,de.Wide);break;case"MMMMM":e=Kt(Ze.Months,de.Narrow);break;case"LLL":e=Kt(Ze.Months,de.Abbreviated,ue.Standalone);break;case"LLLL":e=Kt(Ze.Months,de.Wide,ue.Standalone);break;case"LLLLL":e=Kt(Ze.Months,de.Narrow,ue.Standalone);break;case"w":e=q(1);break;case"ww":e=q(2);break;case"W":e=q(1,!0);break;case"d":e=yt(it.Date,1);break;case"dd":e=yt(it.Date,2);break;case"c":case"cc":e=yt(it.Day,1);break;case"ccc":e=Kt(Ze.Days,de.Abbreviated,ue.Standalone);break;case"cccc":e=Kt(Ze.Days,de.Wide,ue.Standalone);break;case"ccccc":e=Kt(Ze.Days,de.Narrow,ue.Standalone);break;case"cccccc":e=Kt(Ze.Days,de.Short,ue.Standalone);break;case"E":case"EE":case"EEE":e=Kt(Ze.Days,de.Abbreviated);break;case"EEEE":e=Kt(Ze.Days,de.Wide);break;case"EEEEE":e=Kt(Ze.Days,de.Narrow);break;case"EEEEEE":e=Kt(Ze.Days,de.Short);break;case"a":case"aa":case"aaa":e=Kt(Ze.DayPeriods,de.Abbreviated);break;case"aaaa":e=Kt(Ze.DayPeriods,de.Wide);break;case"aaaaa":e=Kt(Ze.DayPeriods,de.Narrow);break;case"b":case"bb":case"bbb":e=Kt(Ze.DayPeriods,de.Abbreviated,ue.Standalone,!0);break;case"bbbb":e=Kt(Ze.DayPeriods,de.Wide,ue.Standalone,!0);break;case"bbbbb":e=Kt(Ze.DayPeriods,de.Narrow,ue.Standalone,!0);break;case"B":case"BB":case"BBB":e=Kt(Ze.DayPeriods,de.Abbreviated,ue.Format,!0);break;case"BBBB":e=Kt(Ze.DayPeriods,de.Wide,ue.Format,!0);break;case"BBBBB":e=Kt(Ze.DayPeriods,de.Narrow,ue.Format,!0);break;case"h":e=yt(it.Hours,1,-12);break;case"hh":e=yt(it.Hours,2,-12);break;case"H":e=yt(it.Hours,1);break;case"HH":e=yt(it.Hours,2);break;case"m":e=yt(it.Minutes,1);break;case"mm":e=yt(it.Minutes,2);break;case"s":e=yt(it.Seconds,1);break;case"ss":e=yt(it.Seconds,2);break;case"S":e=yt(it.FractionalSeconds,1);break;case"SS":e=yt(it.FractionalSeconds,2);break;case"SSS":e=yt(it.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=le(Lt.Short);break;case"ZZZZZ":e=le(Lt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=le(Lt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=le(Lt.Long);break;default:return null}return Q[n]=e,e}(O);A+=N?N(o,t,b):"''"===O?"'":O.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),A}function Gr(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ct(n,e){const t=function St(n){return(0,p.cg1)(n)[p.wAp.LocaleId]}(n);if(xn[t]=xn[t]||{},xn[t][e])return xn[t][e];let r="";switch(e){case"shortDate":r=qt(n,he.Short);break;case"mediumDate":r=qt(n,he.Medium);break;case"longDate":r=qt(n,he.Long);break;case"fullDate":r=qt(n,he.Full);break;case"shortTime":r=$t(n,he.Short);break;case"mediumTime":r=$t(n,he.Medium);break;case"longTime":r=$t(n,he.Long);break;case"fullTime":r=$t(n,he.Full);break;case"short":const o=Ct(n,"shortTime"),u=Ct(n,"shortDate");r=Ti(Yt(n,he.Short),[o,u]);break;case"medium":const d=Ct(n,"mediumTime"),m=Ct(n,"mediumDate");r=Ti(Yt(n,he.Medium),[d,m]);break;case"long":const b=Ct(n,"longTime"),A=Ct(n,"longDate");r=Ti(Yt(n,he.Long),[b,A]);break;case"full":const O=Ct(n,"fullTime"),N=Ct(n,"fullDate");r=Ti(Yt(n,he.Full),[O,N])}return r&&(xn[t][e]=r),r}function Ti(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Nn(n,e,t="-",r,o){let u="";(n<0||o&&n<=0)&&(o?n=1-n:(n=-n,u=t));let d=String(n);for(;d.length<e;)d="0"+d;return r&&(d=d.substr(d.length-e)),u+d}function yt(n,e,t=0,r=!1,o=!1){return function(u,d){let m=function jn(n,e){switch(n){case it.FullYear:return e.getFullYear();case it.Month:return e.getMonth();case it.Date:return e.getDate();case it.Hours:return e.getHours();case it.Minutes:return e.getMinutes();case it.Seconds:return e.getSeconds();case it.FractionalSeconds:return e.getMilliseconds();case it.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||m>-t)&&(m+=t),n===it.Hours)0===m&&-12===t&&(m=12);else if(n===it.FractionalSeconds)return function on(n,e){return Nn(n,3).substr(0,e)}(m,e);const b=An(d,me.MinusSign);return Nn(m,e,b,r,o)}}function Kt(n,e,t=ue.Format,r=!1){return function(o,u){return function Ye(n,e,t,r,o,u){switch(t){case Ze.Months:return function Ge(n,e,t){const r=(0,p.cg1)(n),u=Un([r[p.wAp.MonthsFormat],r[p.wAp.MonthsStandalone]],e);return Un(u,t)}(e,o,r)[n.getMonth()];case Ze.Days:return function sn(n,e,t){const r=(0,p.cg1)(n),u=Un([r[p.wAp.DaysFormat],r[p.wAp.DaysStandalone]],e);return Un(u,t)}(e,o,r)[n.getDay()];case Ze.DayPeriods:const d=n.getHours(),m=n.getMinutes();if(u){const A=function Mr(n){const e=(0,p.cg1)(n);return fr(e),(e[p.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Vt(r):[Vt(r[0]),Vt(r[1])])}(e),O=function rt(n,e,t){const r=(0,p.cg1)(n);fr(r);const u=Un([r[p.wAp.ExtraData][0],r[p.wAp.ExtraData][1]],e)||[];return Un(u,t)||[]}(e,o,r),N=A.findIndex(J=>{if(Array.isArray(J)){const[ie,be]=J,Ke=d>=ie.hours&&m>=ie.minutes,vt=d<be.hours||d===be.hours&&m<be.minutes;if(ie.hours<be.hours){if(Ke&&vt)return!0}else if(Ke||vt)return!0}else if(J.hours===d&&J.minutes===m)return!0;return!1});if(-1!==N)return O[N]}return function Xt(n,e,t){const r=(0,p.cg1)(n),u=Un([r[p.wAp.DayPeriodsFormat],r[p.wAp.DayPeriodsStandalone]],e);return Un(u,t)}(e,o,r)[d<12?0:1];case Ze.Eras:return function Ot(n,e){return Un((0,p.cg1)(n)[p.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(o,u,n,e,t,r)}}function le(n){return function(e,t,r){const o=-1*r,u=An(t,me.MinusSign),d=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case Lt.Short:return(o>=0?"+":"")+Nn(d,2,u)+Nn(Math.abs(o%60),2,u);case Lt.ShortGMT:return"GMT"+(o>=0?"+":"")+Nn(d,1,u);case Lt.Long:return"GMT"+(o>=0?"+":"")+Nn(d,2,u)+":"+Nn(Math.abs(o%60),2,u);case Lt.Extended:return 0===r?"Z":(o>=0?"+":"")+Nn(d,2,u)+":"+Nn(Math.abs(o%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}function Ut(n){return Gr(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function q(n,e=!1){return function(t,r){let o;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,d=t.getDate();o=1+Math.floor((d+u)/7)}else{const u=Ut(t),d=function Bt(n){const e=Gr(n,0,1).getDay();return Gr(n,0,1+(e<=4?4:11)-e)}(u.getFullYear()),m=u.getTime()-d.getTime();o=1+Math.round(m/6048e5)}return Nn(o,n,An(r,me.MinusSign))}}function $(n,e=!1){return function(t,r){return Nn(Ut(t).getFullYear(),n,An(r,me.MinusSign),e)}}const Q={};function F(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Je(n){return n instanceof Date&&!isNaN(n.valueOf())}class Ai{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rr=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,d)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Ai(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,d),ds(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{ds(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ds(n,e){n.context.$implicit=e.item}function Kr(n,e){return new p.vHH(2100,"")}class Tl{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class xi{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const jc=new xi,Tu=new Tl;let Al=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,p.QGY)(t))return jc;if((0,p.F4k)(t))return Tu;throw Kr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.sBO,16))},n.\u0275pipe=p.Yjl({name:"async",type:n,pure:!1}),n})();const Hc=new p.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Wi=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",o,u){var d;if(null==t||""===t||t!=t)return null;try{return Rr(t,r,u||this.locale,null!==(d=null!=o?o:this.defaultTimezone)&&void 0!==d?d:void 0)}catch(m){throw Kr()}}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.soG,16),p.Y36(Hc,24))},n.\u0275pipe=p.Yjl({name:"date",type:n,pure:!0}),n})(),oo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();function mi(n){return"server"===n}let xu=(()=>{class n{}return n.\u0275prov=(0,p.Yz7)({token:n,providedIn:"root",factory:()=>new ua((0,p.LFG)(ge),window)}),n})();class ua{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ms(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=fs(this.window.history)||fs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function fs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ps extends class Ki extends class Ee{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){j||(j=n)}(new ps)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function $a(){return fn=fn||document.querySelector("base"),fn?fn.getAttribute("href"):null}();return null==t?null:function Xr(n){uo=uo||document.createElement("a"),uo.setAttribute("href",n);const e=uo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){fn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ra(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let uo,fn=null;const pr=new p.OlP("TRANSITION_ID"),la=[{provide:p.ip1,useFactory:function Zn(n,e,t){return()=>{t.get(p.CZH).donePromise.then(()=>{const r=P(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[pr,ge,p.zs3],multi:!0}];class ei{static init(){(0,p.VLi)(new ei)}addToWindow(e){p.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},p.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(r=>{const o=p.dqk.getAllAngularTestabilities();let u=o.length,d=!1;const m=function(b){d=d||b,u--,0==u&&r(d)};o.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Ir=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Zi=new p.OlP("EventManagerPlugins");let Yi=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const d=o[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Zi),p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class ks{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=P().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let yi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),ki=(()=>{class n extends yi{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,o.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Qi),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Qi))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ge))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function Qi(n){P().remove(n)}const It={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Po=/%COMP%/g;function ke(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?ke(n,o,t):(o=o.replace(Po,n),t.push(o))}return t}function Ft(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let In=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new ca(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case p.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new da(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case p.ifc.ShadowDom:return new No(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=ke(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Yi),p.LFG(ki),p.LFG(p.AFp))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class ca{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(It[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=It[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=It[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(p.JOm.DashCase|p.JOm.Important)?e.style.setProperty(t,r,o&p.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&p.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ft(r)):this.eventManager.addEventListener(e,t,Ft(r))}}class da extends ca{constructor(e,t,r,o){super(e),this.component=r;const u=ke(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function Ml(n){return"_ngcontent-%COMP%".replace(Po,n)}(o+"-"+r.id),this.hostAttr=function Oo(n){return"_nghost-%COMP%".replace(Po,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class No extends ca{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=ke(o.id,o.styles,[]);for(let d=0;d<u.length;d++){const m=document.createElement("style");m.textContent=u[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Wc=(()=>{class n extends ks{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ge))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Ha=["alt","control","meta","shift"],co={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ir={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ri={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ho=(()=>{class n extends ks{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let d="";if(Ha.forEach(b=>{const A=r.indexOf(b);A>-1&&(r.splice(A,1),d+=b+".")}),d+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=o,m.fullKey=d,m}static getEventFullKey(t){let r="",o=function fo(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ir.hasOwnProperty(e)&&(e=ir[e]))}return co[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Ha.forEach(u=>{u!=o&&Ri[u](t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ge))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const po=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:"browser"},{provide:p.g9A,useValue:function Zr(){ps.makeCurrent(),ei.init()},multi:!0},{provide:ge,useFactory:function Ps(){return(0,p.RDi)(document),document},deps:[]}]),Ga=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function Rl(){return new p.qLn},deps:[]},{provide:Zi,useClass:Wc,multi:!0,deps:[ge,p.R0b,p.Lbi]},{provide:Zi,useClass:ho,multi:!0,deps:[ge]},{provide:In,useClass:In,deps:[Yi,ki,p.AFp]},{provide:p.FYo,useExisting:In},{provide:yi,useExisting:ki},{provide:ki,useClass:ki,deps:[ge]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b]},{provide:Yi,useClass:Yi,deps:[Zi,p.R0b]},{provide:class En{},useClass:Ir,deps:[]}];let Os=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:p.AFp,useValue:t.appId},{provide:pr,useExisting:p.AFp},la]}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(n,12))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:Ga,imports:[oo,p.hGG]}),n})();"undefined"!=typeof window&&window;var Vn=L(8996),gr=L(7669);function Et(...n){const e=(0,gr.yG)(n);return(0,Vn.D)(n,e)}var ts=L(7579);class mr extends ts.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var w=L(8306);const{isArray:I}=Array,{getPrototypeOf:x,prototype:z,keys:Me}=Object;function lt(n){if(1===n.length){const e=n[0];if(I(e))return{args:e,keys:null};if(function vn(n){return n&&"object"==typeof n&&x(n)===z}(e)){const t=Me(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Bn=L(4671),bt=L(4004);const{isArray:vs}=Array;function Qa(n){return(0,bt.U)(e=>function ya(n,e){return vs(e)?n(...e):n(e)}(n,e))}function Ja(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var Yn=L(5403),vo=L(9672);function Vo(n,e,t){n?(0,vo.f)(t,n,e):e()}var va=L(576);function _o(n,e){const t=(0,va.m)(n)?n:()=>n,r=o=>o.error(t());return new w.y(e?o=>e.schedule(r,0,o):r)}const Bo=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Fs=L(8189);function yh(...n){return function Ll(){return(0,Fs.J)(1)}()((0,Vn.D)(n,(0,gr.yG)(n)))}var wo=L(8421);function _a(n){return new w.y(e=>{(0,wo.Xf)(n()).subscribe(e)})}var wa=L(515),eu=L(727),Or=L(4482);function Ls(){return(0,Or.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Yn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Vl extends w.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Or.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new eu.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Yn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=eu.w0.EMPTY)}return e}refCount(){return Ls()(this)}}function sr(n,e){return(0,Or.e)((t,r)=>{let o=null,u=0,d=!1;const m=()=>d&&!o&&r.complete();t.subscribe((0,Yn.x)(r,b=>{null==o||o.unsubscribe();let A=0;const O=u++;(0,wo.Xf)(n(b,O)).subscribe(o=(0,Yn.x)(r,N=>r.next(e?e(b,N,O,A++):N),()=>{o=null,m()}))},()=>{d=!0,m()}))})}var tu=L(5698);function ns(...n){const e=(0,gr.yG)(n);return(0,Or.e)((t,r)=>{(e?yh(n,t,e):yh(n,t)).subscribe(r)})}function Vs(n,e,t,r,o){return(u,d)=>{let m=t,b=e,A=0;u.subscribe((0,Yn.x)(d,O=>{const N=A++;b=m?n(b,O,N):(m=!0,O),r&&d.next(b)},o&&(()=>{m&&d.next(b),d.complete()})))}}function Pi(n,e){return(0,Or.e)(Vs(n,e,arguments.length>=2,!0))}function Bs(n,e){return(0,Or.e)((t,r)=>{let o=0;t.subscribe((0,Yn.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}function _s(n){return(0,Or.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,Yn.x)(t,void 0,void 0,d=>{u=(0,wo.Xf)(n(d,_s(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}var Hn=L(5577);function ba(n,e){return(0,va.m)(e)?(0,Hn.z)(n,e,1):(0,Hn.z)(n,1)}function qc(n){return n<=0?()=>wa.E:(0,Or.e)((e,t)=>{let r=[];e.subscribe((0,Yn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Qn(n=ap){return(0,Or.e)((e,t)=>{let r=!1;e.subscribe((0,Yn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function ap(){return new Bo}function up(n){return(0,Or.e)((e,t)=>{let r=!1;e.subscribe((0,Yn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Uo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Bs((o,u)=>n(o,u,r)):Bn.y,(0,tu.q)(1),t?up(e):Qn(()=>new Bo))}var ri=L(8505);class ws{constructor(e,t){this.id=e,this.url=t}}class jo extends ws{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ea extends ws{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class or extends ws{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nu extends ws{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fu extends ws{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kc extends ws{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ru extends ws{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ii extends ws{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rs extends ws{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ia{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class iu{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wi{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Da{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bl{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ul{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ht="primary";class su{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Dr(n){return new su(n)}const $l="ngNavigationCancelingError";function Us(n){const e=Error("NavigationCancelingError: "+n);return e[$l]=!0,e}function Lu(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const d=r[u],m=n[u];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function bi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!Vu(n[o],e[o]))return!1;return!0}function Vu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function Zc(n){return Array.prototype.concat.apply([],n)}function is(n){return n.length>0?n[n.length-1]:null}function Mn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function si(n){return(0,p.CqO)(n)?n:(0,p.QGY)(n)?(0,Vn.D)(Promise.resolve(n)):Et(n)}const bo={exact:function C(n,e,t){if(!Tt(n.segments,e.segments)||!X(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!C(n.children[r],e.children[r],t))return!1;return!0},subset:R},Bu={exact:function Yc(n,e){return bi(n,e)},subset:function T(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Vu(n[t],e[t]))},ignored:()=>!0};function Ta(n,e,t){return bo[t.paths](n.root,e.root,t.matrixParams)&&Bu[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function R(n,e,t){return G(n,e,e.segments,t)}function G(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Tt(o,t)||e.hasChildren()||!X(o,t,r))}if(n.segments.length===t.length){if(!Tt(n.segments,t)||!X(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!R(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Tt(n.segments,o)&&X(n.segments,o,r)&&n.children[Ht])&&G(n.children[Ht],e,u,r)}}function X(n,e,t){return e.every((r,o)=>Bu[t](n[o].parameters,r.parameters))}class ce{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dr(this.queryParams)),this._queryParamMap}toString(){return yr.serialize(this)}}class De{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Mn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return js(this)}}class ze{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Dr(this.parameters)),this._parameterMap}toString(){return Hl(this)}}function Tt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Mt{}class Yr{parse(e){const t=new um(e);return new ce(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${bs(e.root,!0)}`,r=function am(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Oi(t)}=${Oi(o)}`).join("&"):`${Oi(t)}=${Oi(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function os(n){return encodeURI(n)}(e.fragment)}`:""}`}}const yr=new Yr;function js(n){return n.segments.map(e=>Hl(e)).join("/")}function bs(n,e){if(!n.hasChildren())return js(n);if(e){const t=n.children[Ht]?bs(n.children[Ht],!1):"",r=[];return Mn(n.children,(o,u)=>{u!==Ht&&r.push(`${u}:${bs(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function tn(n,e){let t=[];return Mn(n.children,(r,o)=>{o===Ht&&(t=t.concat(e(r,o)))}),Mn(n.children,(r,o)=>{o!==Ht&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Ht?[bs(n.children[Ht],!1)]:[`${o}:${bs(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ht]?`${js(n)}/${t[0]}`:`${js(n)}/(${t.join("//")})`}}function ss(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oi(n){return ss(n).replace(/%3B/gi,";")}function Uu(n){return ss(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ju(n){return decodeURIComponent(n)}function $u(n){return ju(n.replace(/\+/g,"%20"))}function Hl(n){return`${Uu(n.path)}${function dp(n){return Object.keys(n).map(e=>`;${Uu(e)}=${Uu(n[e])}`).join("")}(n.parameters)}`}const bh=/^[^\/()?;=#]+/;function $o(n){const e=n.match(bh);return e?e[0]:""}const Gl=/^[^=?&#]+/,D_=/^[^&#]+/;class um{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ht]=new De(e,t)),r}parseSegment(){const e=$o(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ze(ju(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=$o(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=$o(this.remaining);o&&(r=o,this.capture(r))}e[ju(t)]=ju(r)}parseQueryParam(e){const t=function hp(n){const e=n.match(Gl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function zl(n){const e=n.match(D_);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=$u(t),u=$u(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=$o(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ht);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Ht]:new De([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class lm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Eh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Eh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ih(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Ih(e,this._root).map(t=>t.value)}}function Eh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Eh(n,t);if(r)return r}return null}function Ih(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ih(n,t);if(r.length)return r.unshift(e),r}return[]}class Ho{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Go(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Qc extends lm{constructor(e,t){super(e),this.snapshot=t,Wl(this,e)}toString(){return this.snapshot.toString()}}function ou(n,e){const t=function Dh(n,e){const d=new Gu([],{},{},"",{},Ht,e,null,n.root,-1,{});return new Ch("",new Ho(d,[]))}(n,e),r=new mr([new ze("",{})]),o=new mr({}),u=new mr({}),d=new mr({}),m=new mr(""),b=new Hu(r,o,d,m,u,Ht,e,t.root);return b.snapshot=t.root,new Qc(new Ho(b,[]),t)}class Hu{constructor(e,t,r,o,u,d,m,b){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bt.U)(e=>Dr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bt.U)(e=>Dr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function cm(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function Jc(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Gu{constructor(e,t,r,o,u,d,m,b,A,O,N){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=m,this.routeConfig=b,this._urlSegment=A,this._lastPathIndex=O,this._resolve=N}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Dr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Dr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ch extends lm{constructor(e,t){super(t),this.url=e,Wl(this,t)}toString(){return Th(this._root)}}function Wl(n,e){e.value._routerState=n,e.children.forEach(t=>Wl(n,t))}function Th(n){const e=n.children.length>0?` { ${n.children.map(Th).join(", ")} } `:"";return`${n.value}${e}`}function Xc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,bi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),bi(e.params,t.params)||n.params.next(t.params),function Ca(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!bi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),bi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ah(n,e){const t=bi(n.params,e.params)&&function Pt(n,e){return Tt(n,e)&&n.every((t,r)=>bi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ah(n.parent,e.parent))}function au(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function hm(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return au(n,r,o);return au(n,r)})}(n,e,t);return new Ho(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>au(n,m)),d}}const r=function Sh(n){return new Hu(new mr(n.url),new mr(n.params),new mr(n.queryParams),new mr(n.fragment),new mr(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>au(n,u));return new Ho(r,o)}}function zo(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ql(n){return"object"==typeof n&&null!=n&&n.outlets}function ed(n,e,t,r,o){let u={};if(r&&Mn(r,(m,b)=>{u[b]=Array.isArray(m)?m.map(A=>`${A}`):`${m}`}),n===e)return new ce(t,u,o);const d=fm(n,e,t);return new ce(d,u,o)}function fm(n,e,t){const r={};return Mn(n.children,(o,u)=>{r[u]=o===e?t:fm(o,e,t)}),new De(n.segments,r)}class fp{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&zo(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(ql);if(o&&o!==is(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pp{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function v(n,e,t){if(n||(n=new De([],{})),0===n.segments.length&&n.hasChildren())return f(n,e,t);const r=function g(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const d=n.segments[o],m=t[r];if(ql(m))break;const b=`${m}`,A=r<t.length-1?t[r+1]:null;if(o>0&&void 0===b)break;if(b&&A&&"object"==typeof A&&void 0===A.outlets){if(!te(b,A,d))return u;r+=2}else{if(!te(b,{},d))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new De(n.segments.slice(0,r.pathIndex),{});return u.children[Ht]=new De(n.segments.slice(r.pathIndex),n.children),f(u,0,o)}return r.match&&0===o.length?new De(n.segments,{}):r.match&&!n.hasChildren()?E(n,e,t):r.match?f(n,0,o):E(n,e,t)}function f(n,e,t){if(0===t.length)return new De(n.segments,{});{const r=function C_(n){return ql(n[0])?n[0].outlets:{[Ht]:n}}(t),o={};return Mn(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[d]=v(n.children[d],e,u))}),Mn(n.children,(u,d)=>{void 0===r[d]&&(o[d]=u)}),new De(n.segments,o)}}function E(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(ql(u)){const b=M(u.outlets);return new De(r,b)}if(0===o&&zo(t[0])){r.push(new ze(n.segments[e].path,B(t[0]))),o++;continue}const d=ql(u)?u.outlets[Ht]:`${u}`,m=o<t.length-1?t[o+1]:null;d&&m&&zo(m)?(r.push(new ze(d,B(m))),o+=2):(r.push(new ze(d,{})),o++)}return new De(r,{})}function M(n){const e={};return Mn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=E(new De([],{}),0,t))}),e}function B(n){const e={};return Mn(n,(t,r)=>e[r]=`${t}`),e}function te(n,e,t){return n==t.path&&bi(e,t.parameters)}class ft{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Xc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Go(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],r),delete o[d]}),Mn(o,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Go(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Go(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Go(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new Ul(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Da(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(Xc(o),o===u)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),Xc(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=function xt(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),b=m?m.module.componentFactoryResolver:null;d.attachRef=null,d.route=o,d.resolver=b,d.outlet&&d.outlet.activateWith(o,b),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Gt{constructor(e,t){this.routes=e,this.module=t}}function _n(n){return"function"==typeof n}function as(n){return n instanceof ce}const Zl=Symbol("INITIAL_VALUE");function Sa(){return sr(n=>function Fl(...n){const e=(0,gr.yG)(n),t=(0,gr.jO)(n),{args:r,keys:o}=lt(n);if(0===r.length)return(0,Vn.D)([],e);const u=new w.y(function ni(n,e,t=Bn.y){return r=>{Vo(e,()=>{const{length:o}=n,u=new Array(o);let d=o,m=o;for(let b=0;b<o;b++)Vo(e,()=>{const A=(0,Vn.D)(n[b],e);let O=!1;A.subscribe((0,Yn.x)(r,N=>{u[b]=N,O||(O=!0,m--),m||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>Ja(o,d):Bn.y));return t?u.pipe(Qa(t)):u}(n.map(e=>e.pipe((0,tu.q)(1),ns(Zl)))).pipe(Pi((e,t)=>{let r=!1;return t.reduce((o,u,d)=>o!==Zl?o:(u===Zl&&(r=!0),r||!1!==u&&d!==t.length-1&&!as(u)?o:u),e)},Zl),Bs(e=>e!==Zl),(0,bt.U)(e=>as(e)?e:!0===e),(0,tu.q)(1)))}class mp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wu,this.attachRef=null}}class Wu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new mp,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Yl=(()=>{class n{constructor(t,r,o,u,d){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=u||Ht,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,b=new yp(t,m,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Wu),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},n.\u0275dir=p.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class yp{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Hu?this.route:e===Wu?this.childContexts:this.parent.get(e,t)}}let xh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&p._UZ(0,"router-outlet")},directives:[Yl],encapsulation:2}),n})();function uu(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];ym(r,vm(e,r))}}function ym(n,e){n.children&&uu(n.children,e)}function vm(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function _m(n){const e=n.children&&n.children.map(_m),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ht&&(t.component=xh),t}function Dn(n){return n.outlet||Ht}function T_(n,e){const t=n.filter(r=>Dn(r)===e);return t.push(...n.filter(r=>Dn(r)!==e)),t}const A_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nd(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},A_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||Lu)(t,n,e);if(!u)return Object.assign({},A_);const d={};Mn(u.posParams,(b,A)=>{d[A]=b.path});const m=u.consumed.length>0?Object.assign(Object.assign({},d),u.consumed[u.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:m,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function Mh(n,e,t,r,o="corrected"){if(t.length>0&&function _E(n,e,t){return t.some(r=>vp(n,e,r)&&Dn(r)!==Ht)}(n,t,r)){const d=new De(e,function vE(n,e,t,r){const o={};o[Ht]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Dn(u)!==Ht){const d=new De([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[Dn(u)]=d}return o}(n,e,r,new De(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function wE(n,e,t){return t.some(r=>vp(n,e,r))}(n,t,r)){const d=new De(n.segments,function yE(n,e,t,r,o,u){const d={};for(const m of r)if(vp(n,t,m)&&!o[Dn(m)]){const b=new De([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[Dn(m)]=b}return Object.assign(Object.assign({},o),d)}(n,e,t,r,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new De(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function vp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function bE(n,e,t,r){return!!(Dn(n)===r||r!==Ht&&vp(e,t,n))&&("**"===n.path||nd(e,n,t).matched)}function EE(n,e,t){return 0===e.length&&!n.children[t]}class qu{constructor(e){this.segmentGroup=e||null}}class Ni{constructor(e){this.urlTree=e}}function Ql(n){return _o(new qu(n))}function wm(n){return _o(new Ni(n))}class bm{constructor(e,t,r,o,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(p.h0i)}apply(){const e=Mh(this.urlTree.root,[],[],this.config).segmentGroup,t=new De(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ht).pipe((0,bt.U)(u=>this.createUrlTree(Em(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(_s(u=>{if(u instanceof Ni)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof qu?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ht).pipe((0,bt.U)(o=>this.createUrlTree(Em(o),e.queryParams,e.fragment))).pipe(_s(o=>{throw o instanceof qu?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new De([],{[Ht]:e}):e;return new ce(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,bt.U)(u=>new De([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,Vn.D)(o).pipe(ba(u=>{const d=r.children[u],m=T_(t,u);return this.expandSegmentGroup(e,m,d,u).pipe((0,bt.U)(b=>({segment:b,outlet:u})))}),Pi((u,d)=>(u[d.outlet]=d.segment,u),{}),function vh(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Bs((o,u)=>n(o,u,r)):Bn.y,qc(1),t?up(e):Qn(()=>new Bo))}())}expandSegment(e,t,r,o,u,d){return(0,Vn.D)(r).pipe(ba(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,d).pipe(_s(A=>{if(A instanceof qu)return Et(null);throw A}))),Uo(m=>!!m),_s((m,b)=>{if(m instanceof Bo||"EmptyError"===m.name)return EE(t,o,u)?Et(new De([],{})):Ql(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,d,m){return bE(o,t,u,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d):Ql(t):Ql(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?wm(u):this.lineralizeSegments(r,u).pipe((0,Hn.z)(d=>{const m=new De(d,{});return this.expandSegment(e,m,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){const{matched:m,consumedSegments:b,remainingSegments:A,positionalParamSegments:O}=nd(t,o,u);if(!m)return Ql(t);const N=this.applyRedirectCommands(b,o.redirectTo,O);return o.redirectTo.startsWith("/")?wm(N):this.lineralizeSegments(o,N).pipe((0,Hn.z)(J=>this.expandSegment(e,t,r,J.concat(A),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Et(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,bt.U)(N=>(r._loadedConfig=N,new De(o,{})))):Et(new De(o,{}));const{matched:d,consumedSegments:m,remainingSegments:b}=nd(t,r,o);return d?this.getChildConfig(e,r,o).pipe((0,Hn.z)(O=>{const N=O.module,J=O.routes,{segmentGroup:ie,slicedSegments:be}=Mh(t,m,b,J),Ke=new De(ie.segments,ie.children);if(0===be.length&&Ke.hasChildren())return this.expandChildren(N,J,Ke).pipe((0,bt.U)(dn=>new De(m,dn)));if(0===J.length&&0===be.length)return Et(new De(m,{}));const vt=Dn(r)===u;return this.expandSegment(N,Ke,J,be,vt?Ht:u,!0).pipe((0,bt.U)(ln=>new De(m.concat(ln.segments),ln.children)))})):Ql(t)}getChildConfig(e,t,r){return t.children?Et(new Gt(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Et(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Hn.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,bt.U)(u=>(t._loadedConfig=u,u))):function Fi(n){return _o(Us(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):Et(new Gt([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?Et(o.map(d=>{const m=e.get(d);let b;if(function zu(n){return n&&_n(n.canLoad)}(m))b=m.canLoad(t,r);else{if(!_n(m))throw new Error("Invalid CanLoad guard");b=m(t,r)}return si(b)})).pipe(Sa(),(0,ri.b)(d=>{if(!as(d))return;const m=Us(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw m.url=d,m}),(0,bt.U)(d=>!0===d)):Et(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Et(r);if(o.numberOfChildren>1||!o.children[Ht])return _o(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));o=o.children[Ht]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new ce(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Mn(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let d={};return Mn(t.children,(m,b)=>{d[b]=this.createSegmentGroup(e,m,r,o)}),new De(u,d)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Em(n){const e={};for(const r of Object.keys(n.children)){const u=Em(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function IE(n){if(1===n.numberOfChildren&&n.children[Ht]){const e=n.children[Ht];return new De(n.segments.concat(e.segments),e.children)}return n}(new De(n.segments,e))}class M_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Rh{constructor(e,t){this.component=e,this.route=t}}function DE(n,e,t){const r=n._root;return Jl(r,e?e._root:null,t,[r.value])}function _p(n,e,t){const r=function CE(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Jl(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Go(e);return n.children.forEach(d=>{(function TE(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const b=function AE(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Tt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Tt(n.url,e.url)||!bi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ah(n,e)||!bi(n.queryParams,e.queryParams);default:return!Ah(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);b?o.canActivateChecks.push(new M_(r)):(u.data=d.data,u._resolvedData=d._resolvedData),Jl(n,e,u.component?m?m.children:null:t,r,o),b&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Rh(m.outlet.component,d))}else d&&Xl(e,m,o),o.canActivateChecks.push(new M_(r)),Jl(n,null,u.component?m?m.children:null:t,r,o)})(d,u[d.value.outlet],t,r.concat([d.value]),o),delete u[d.value.outlet]}),Mn(u,(d,m)=>Xl(d,t.getContext(m),o)),o}function Xl(n,e,t){const r=Go(n),o=n.value;Mn(r,(u,d)=>{Xl(u,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Rh(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class R_{}function P_(n){return new w.y(e=>e.error(n))}class FE{constructor(e,t,r,o,u,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=d}recognize(){const e=Mh(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ht);if(null===t)return null;const r=new Gu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ht,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Ho(r,t),u=new Ch(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=cm(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const d=t.children[u],m=T_(e,u),b=this.processSegmentGroup(m,d,u);if(null===b)return null;r.push(...b)}const o=O_(r);return function LE(n){n.sort((e,t)=>e.value.outlet===Ht?-1:t.value.outlet===Ht?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const u of e){const d=this.processSegmentAgainstRoute(u,t,r,o);if(null!==d)return d}return EE(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!bE(e,t,r,o))return null;let u,d=[],m=[];if("**"===e.path){const ie=r.length>0?is(r).parameters:{};u=new Gu(r,ie,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,UE(e),Dn(e),e.component,e,ec(t),qo(t)+r.length,jE(e))}else{const ie=nd(t,e,r);if(!ie.matched)return null;d=ie.consumedSegments,m=ie.remainingSegments,u=new Gu(d,ie.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,UE(e),Dn(e),e.component,e,ec(t),qo(t)+d.length,jE(e))}const b=function VE(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:A,slicedSegments:O}=Mh(t,d,m,b.filter(ie=>void 0===ie.redirectTo),this.relativeLinkResolution);if(0===O.length&&A.hasChildren()){const ie=this.processChildren(b,A);return null===ie?null:[new Ho(u,ie)]}if(0===b.length&&0===O.length)return[new Ho(u,[])];const N=Dn(e)===o,J=this.processSegment(b,A,O,N?Ht:o);return null===J?null:[new Ho(u,J)]}}function BE(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function O_(n){const e=[],t=new Set;for(const r of n){if(!BE(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=O_(r.children);e.push(new Ho(r.value,o))}return e.filter(r=>!t.has(r))}function ec(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function qo(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function UE(n){return n.data||{}}function jE(n){return n.resolve||{}}function bp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ep(n){return sr(e=>{const t=n(e);return t?(0,Vn.D)(t).pipe((0,bt.U)(()=>e)):Et(e)})}class L_ extends class F_{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Oh=new p.OlP("ROUTES");class Ip{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,bt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=u.create(e);return new Gt(Zc(d.injector.get(Oh,void 0,p.XFs.Self|p.XFs.Optional)).map(_m),d)}),_s(u=>{throw t._loader$=void 0,u}));return t._loader$=new Vl(o,()=>new ts.x).pipe(Ls()),t._loader$}loadModuleFactory(e){return si(e()).pipe((0,Hn.z)(t=>t instanceof p.YKP?Et(t):(0,Vn.D)(this.compiler.compileModuleAsync(t))))}}class QT{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function rd(n){throw n}function Dm(n,e,t){return e.parse("/")}function Cm(n,e){return Et(null)}const HE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Tm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $s=(()=>{class n{constructor(t,r,o,u,d,m,b){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=b,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ts.x,this.errorHandler=rd,this.malformedUriErrorHandler=Dm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Cm,afterPreactivation:Cm},this.urlHandlingStrategy=new QT,this.routeReuseStrategy=new L_,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(p.h0i),this.console=d.get(p.c2e);const N=d.get(p.R0b);this.isNgZoneEnabled=N instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(b),this.currentUrlTree=function wh(){return new ce(new De([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ip(d,m,J=>this.triggerEvent(new Ia(J)),J=>this.triggerEvent(new iu(J))),this.routerState=ou(this.currentUrlTree,this.rootComponentType),this.transitions=new mr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Bs(o=>0!==o.id),(0,bt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),sr(o=>{let u=!1,d=!1;return Et(o).pipe((0,ri.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),sr(m=>{const b=this.browserUrlTree.toString(),A=!this.navigated||m.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||A)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return B_(m.source)&&(this.browserUrlTree=m.extractedUrl),Et(m).pipe(sr(N=>{const J=this.transitions.getValue();return r.next(new jo(N.id,this.serializeUrl(N.extractedUrl),N.source,N.restoredState)),J!==this.transitions.getValue()?wa.E:Promise.resolve(N)}),function x_(n,e,t,r){return sr(o=>function kh(n,e,t,r,o){return new bm(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,bt.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ri.b)(N=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:N.urlAfterRedirects})}),function N_(n,e,t,r,o){return(0,Hn.z)(u=>function NE(n,e,t,r,o="emptyOnly",u="legacy"){try{const d=new FE(n,e,t,r,o,u).recognize();return null===d?P_(new R_):Et(d)}catch(d){return P_(d)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,o).pipe((0,bt.U)(d=>Object.assign(Object.assign({},u),{targetSnapshot:d}))))}(this.rootComponentType,this.config,N=>this.serializeUrl(N),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ri.b)(N=>{if("eager"===this.urlUpdateStrategy){if(!N.extras.skipLocationChange){const ie=this.urlHandlingStrategy.merge(N.urlAfterRedirects,N.rawUrl);this.setBrowserUrl(ie,N)}this.browserUrlTree=N.urlAfterRedirects}const J=new Fu(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);r.next(J)}));if(A&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:J,extractedUrl:ie,source:be,restoredState:Ke,extras:vt}=m,un=new jo(J,this.serializeUrl(ie),be,Ke);r.next(un);const ln=ou(ie,this.rootComponentType).snapshot;return Et(Object.assign(Object.assign({},m),{targetSnapshot:ln,urlAfterRedirects:ie,extras:Object.assign(Object.assign({},vt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),wa.E}),Ep(m=>{const{targetSnapshot:b,id:A,extractedUrl:O,rawUrl:N,extras:{skipLocationChange:J,replaceUrl:ie}}=m;return this.hooks.beforePreactivation(b,{navigationId:A,appliedUrlTree:O,rawUrlTree:N,skipLocationChange:!!J,replaceUrl:!!ie})}),(0,ri.b)(m=>{const b=new Kc(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),(0,bt.U)(m=>Object.assign(Object.assign({},m),{guards:DE(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function SE(n,e){return(0,Hn.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?Et(Object.assign(Object.assign({},t),{guardsResult:!0})):function xE(n,e,t,r){return(0,Vn.D)(n).pipe((0,Hn.z)(o=>function OE(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Et(u.map(m=>{const b=_p(m,e,o);let A;if(function mm(n){return n&&_n(n.canDeactivate)}(b))A=si(b.canDeactivate(n,e,t,r));else{if(!_n(b))throw new Error("Invalid CanDeactivate guard");A=si(b(n,e,t,r))}return A.pipe(Uo())})).pipe(Sa()):Et(!0)}(o.component,o.route,t,e,r)),Uo(o=>!0!==o,!0))}(d,r,o,n).pipe((0,Hn.z)(m=>m&&function Wo(n){return"boolean"==typeof n}(m)?function wp(n,e,t,r){return(0,Vn.D)(e).pipe(ba(o=>yh(function kE(n,e){return null!==n&&e&&e(new wi(n)),Et(!0)}(o.route.parent,r),function ME(n,e){return null!==n&&e&&e(new Bl(n)),Et(!0)}(o.route,r),function PE(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function k_(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>_a(()=>Et(d.guards.map(b=>{const A=_p(b,d.node,t);let O;if(function Kl(n){return n&&_n(n.canActivateChild)}(A))O=si(A.canActivateChild(r,n));else{if(!_n(A))throw new Error("Invalid CanActivateChild guard");O=si(A(r,n))}return O.pipe(Uo())})).pipe(Sa())));return Et(u).pipe(Sa())}(n,o.path,t),function RE(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Et(!0);const o=r.map(u=>_a(()=>{const d=_p(u,e,t);let m;if(function td(n){return n&&_n(n.canActivate)}(d))m=si(d.canActivate(e,n));else{if(!_n(d))throw new Error("Invalid CanActivate guard");m=si(d(e,n))}return m.pipe(Uo())}));return Et(o).pipe(Sa())}(n,o.route,t))),Uo(o=>!0!==o,!0))}(r,u,n,e):Et(m)),(0,bt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,ri.b)(m=>{if(as(m.guardsResult)){const A=Us(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw A.url=m.guardsResult,A}const b=new ru(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(b)}),Bs(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),Ep(m=>{if(m.guards.canActivateChecks.length)return Et(m).pipe((0,ri.b)(b=>{const A=new ii(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(A)}),sr(b=>{let A=!1;return Et(b).pipe(function YT(n,e){return(0,Hn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return Et(t);let u=0;return(0,Vn.D)(o).pipe(ba(d=>function xa(n,e,t,r){return function Im(n,e,t,r){const o=bp(n);if(0===o.length)return Et({});const u={};return(0,Vn.D)(o).pipe((0,Hn.z)(d=>function $E(n,e,t,r){const o=_p(n,e,r);return si(o.resolve?o.resolve(e,t):o(e,t))}(n[d],e,t,r).pipe((0,ri.b)(m=>{u[d]=m}))),qc(1),(0,Hn.z)(()=>bp(u).length===o.length?Et(u):wa.E))}(n._resolve,n,e,r).pipe((0,bt.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),cm(n,t).resolve),null)))}(d.route,r,n,e)),(0,ri.b)(()=>u++),qc(1),(0,Hn.z)(d=>u===o.length?Et(t):wa.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ri.b)({next:()=>A=!0,complete:()=>{A||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,ri.b)(b=>{const A=new rs(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(A)}))}),Ep(m=>{const{targetSnapshot:b,id:A,extractedUrl:O,rawUrl:N,extras:{skipLocationChange:J,replaceUrl:ie}}=m;return this.hooks.afterPreactivation(b,{navigationId:A,appliedUrlTree:O,rawUrlTree:N,skipLocationChange:!!J,replaceUrl:!!ie})}),(0,bt.U)(m=>{const b=function dm(n,e,t){const r=au(n,e._root,t?t._root:void 0);return new Qc(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:b})}),(0,ri.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,bt.U)(r=>(new ft(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,ri.b)({next(){u=!0},complete(){u=!0}}),function lp(n){return(0,Or.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;u||d||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),_s(m=>{if(d=!0,function cp(n){return n&&n[$l]}(m)){const b=as(m.url);b||(this.navigated=!0,this.restoreHistory(o,!0));const A=new or(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(A),b?setTimeout(()=>{const O=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),N={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||B_(o.source)};this.scheduleNavigation(O,"imperative",null,N,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const b=new nu(o.id,this.serializeUrl(o.extractedUrl),m);r.next(b);try{o.resolve(this.errorHandler(m))}catch(A){o.reject(A)}}return wa.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const u={replaceUrl:!0},d=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(d){const b=Object.assign({},d);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(u.state=b)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,d,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){uu(t),this.config=t.map(_m),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:m,preserveFragment:b}=r,A=o||this.routerState.root,O=b?this.currentUrlTree.fragment:d;let N=null;switch(m){case"merge":N=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":N=this.currentUrlTree.queryParams;break;default:N=u||null}return null!==N&&(N=this.removeEmptyProps(N)),function Aa(n,e,t,r,o){if(0===t.length)return ed(e.root,e.root,e.root,r,o);const u=function pm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new fp(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Mn(u.outlets,(b,A)=>{m[A]="string"==typeof b?b.split("/"):b}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new fp(t,e,r)}(t);if(u.toRoot())return ed(e.root,e.root,new De([],{}),r,o);const d=function gp(n,e,t){if(n.isAbsolute)return new pp(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new pp(u,u===e.root,0)}const r=zo(n.commands[0])?0:1;return function gm(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new pp(r,!1,o-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),m=d.processChildren?f(d.segmentGroup,d.index,u.commands):v(d.segmentGroup,d.index,u.commands);return ed(e.root,d.segmentGroup,m,r,o)}(A,this.currentUrlTree,t,N,null!=O?O:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=as(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function GE(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},HE):!1===r?Object.assign({},Tm):r,as(t))return Ta(this.currentUrlTree,t,o);const u=this.parseUrl(t);return Ta(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ea(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,d){var m,b;if(this.disposed)return Promise.resolve(!1);let A,O,N;d?(A=d.resolve,O=d.reject,N=d.promise):N=new Promise((be,Ke)=>{A=be,O=Ke});const J=++this.navigationId;let ie;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),ie=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):ie=0,this.setTransition({id:J,targetPageId:ie,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:A,reject:O,promise:N,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),N.catch(be=>Promise.reject(be))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){var o,u;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===d?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new or(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){p.$Z()},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function B_(n){return"imperative"!==n}let Nh=(()=>{class n{constructor(t,r,o,u,d){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=d,this.commands=null,this.onChanges=new ts.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==t?r.setAttribute(o,"tabindex",t):r.removeAttribute(o,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:id(this.skipLocationChange),replaceUrl:id(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:id(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36($s),p.Y36(Hu),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq))},n.\u0275dir=p.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&p.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),n})();function id(n){return""===n||!!n}class xm{}class j_{preload(e,t){return Et(null)}}let $_=(()=>{class n{constructor(t,r,o,u){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=new Ip(o,r,b=>t.triggerEvent(new Ia(b)),b=>t.triggerEvent(new iu(b)))}setUpPreloading(){this.subscription=this.router.events.pipe(Bs(t=>t instanceof Ea),ba(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(p.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const d=u._loadedConfig;o.push(this.processRoutes(d.module,d.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(t,u)):u.children&&o.push(this.processRoutes(t,u.children));return(0,Vn.D)(o).pipe((0,Fs.J)(),(0,bt.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Et(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Hn.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG($s),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(xm))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),Dp=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof jo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ea&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof jl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new jl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){p.$Z()},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Hs=new p.OlP("ROUTER_CONFIGURATION"),km=new p.OlP("ROUTER_FORROOT_GUARD"),H_=[Pe,{provide:Mt,useClass:Yr},{provide:$s,useFactory:function Pm(n,e,t,r,o,u,d={},m,b){const A=new $s(null,n,e,t,r,o,Zc(u));return m&&(A.urlHandlingStrategy=m),b&&(A.routeReuseStrategy=b),function W_(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,A),d.enableTracing&&A.events.subscribe(O=>{var N,J;null===(N=console.group)||void 0===N||N.call(console,`Router Event: ${O.constructor.name}`),console.log(O.toString()),console.log(O),null===(J=console.groupEnd)||void 0===J||J.call(console)}),A},deps:[Mt,Wu,Pe,p.zs3,p.Sil,Oh,Hs,[class V_{},new p.FiY],[class Ph{},new p.FiY]]},Wu,{provide:Hu,useFactory:function Cp(n){return n.routerState.root},deps:[$s]},$_,j_,class Mm{preload(e,t){return t().pipe(_s(()=>Et(null)))}},{provide:Hs,useValue:{enableTracing:!1}}];function WE(){return new p.PXZ("Router",$s)}let Ku=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[H_,Rm(t),{provide:km,useFactory:z_,deps:[[$s,new p.FiY,new p.tp0]]},{provide:Hs,useValue:r||{}},{provide:we,useFactory:G_,deps:[pe,[new p.tBr(st),new p.FiY],Hs]},{provide:Dp,useFactory:qE,deps:[$s,xu,Hs]},{provide:xm,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:j_},{provide:p.PXZ,multi:!0,useFactory:WE},[sd,{provide:p.ip1,multi:!0,useFactory:q_,deps:[sd]},{provide:Nm,useFactory:Om,deps:[sd]},{provide:p.tb,multi:!0,useExisting:Nm}]]}}static forChild(t){return{ngModule:n,providers:[Rm(t)]}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(km,8),p.LFG($s,8))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();function qE(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Dp(n,e,t)}function G_(n,e,t={}){return t.useHash?new Oe(n,e):new qe(n,e)}function z_(n){return"guarded"}function Rm(n){return[{provide:p.deG,multi:!0,useValue:n},{provide:Oh,multi:!0,useValue:n}]}let sd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ts.x}appInitializer(){return this.injector.get(K,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),u=this.injector.get($s),d=this.injector.get(Hs);return"disabled"===d.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?Et(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Hs),o=this.injector.get($_),u=this.injector.get(Dp),d=this.injector.get($s),m=this.injector.get(p.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),o.setUpPreloading(),u.init(),d.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.zs3))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function q_(n){return n.appInitializer.bind(n)}function Om(n){return n.bootstrapListener.bind(n)}const Nm=new p.OlP("Router Initializer");let KE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-home-page"]],decls:11,vars:0,consts:[[1,"text-center"],["routerLink","/task","type","button",1,"btn","btn-primary","me-md-2"]],template:function(t,r){1&t&&(p.TgZ(0,"p",0)(1,"b"),p._uU(2,"A clear view of the day ahead"),p.qZA()(),p.TgZ(3,"p",0),p._uU(4,"All your tasks that are due today will show up here."),p.qZA(),p.TgZ(5,"div",0)(6,"button",1),p._uU(7,"ADD TASK"),p.qZA()(),p._UZ(8,"br")(9,"br")(10,"br"))},directives:[Nh],encapsulation:2,changeDetection:0}),n})(),Lm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[],imports:[[oo]]}),n})(),K_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[],imports:[[oo,Ku.forChild([{path:"",component:KE}]),Lm]]}),n})(),Vm=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.Qsj),p.Y36(p.SBq))},n.\u0275dir=p.lG2({type:n}),n})(),lu=(()=>{class n extends Vm{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=p.n5z(n)))(r||n)}}(),n.\u0275dir=p.lG2({type:n,features:[p.qOj]}),n})();const Ko=new p.OlP("NgValueAccessor"),YE={provide:Ko,useExisting:(0,p.Gpc)(()=>Ap),multi:!0},QE=new p.OlP("CompositionEventMode");let Ap=(()=>{class n extends Vm{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Z_(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(QE,8))},n.\u0275dir=p.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&p.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[p._Bn([YE]),p.qOj]}),n})();const Ei=new p.OlP("NgValidators"),Zu=new p.OlP("NgAsyncValidators");function Lh(n){return null!=n}function Eo(n){const e=(0,p.QGY)(n)?(0,Vn.D)(n):n;return(0,p.CqO)(e),e}function Hm(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function tw(n,e){return e.map(t=>t(n))}function Ma(n){return n.map(e=>function Gm(n){return!n.validate}(e)?e:t=>e.validate(t))}function xp(n){return null!=n?function Sp(n){if(!n)return null;const e=n.filter(Lh);return 0==e.length?null:function(t){return Hm(tw(t,e))}}(Ma(n)):null}function nw(n){return null!=n?function Mp(n){if(!n)return null;const e=n.filter(Lh);return 0==e.length?null:function(t){return function ZE(...n){const e=(0,gr.jO)(n),{args:t,keys:r}=lt(n),o=new w.y(u=>{const{length:d}=t;if(!d)return void u.complete();const m=new Array(d);let b=d,A=d;for(let O=0;O<d;O++){let N=!1;(0,wo.Xf)(t[O]).subscribe((0,Yn.x)(u,J=>{N||(N=!0,A--),m[O]=J},()=>b--,void 0,()=>{(!b||!N)&&(A||u.next(r?Ja(r,m):m),u.complete())}))}});return e?o.pipe(Qa(e)):o}(tw(t,e).map(Eo)).pipe((0,bt.U)(Hm))}}(Ma(n)):null}function zm(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function XE(n){return n._rawValidators}function Vh(n){return n._rawAsyncValidators}function od(n){return n?Array.isArray(n)?n:[n]:[]}function ad(n,e){return Array.isArray(n)?n.includes(e):n===e}function kp(n,e){const t=od(e);return od(n).forEach(o=>{ad(t,o)||t.push(o)}),t}function Rp(n,e){return od(e).filter(t=>!ad(n,t))}class eI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=nw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Yu extends eI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class us extends eI{get formDirective(){return null}get path(){return null}}class rw{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let nI=(()=>{class n extends rw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Yu,2))},n.\u0275dir=p.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&p.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[p.qOj]}),n})(),iw=(()=>{class n extends rw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(us,10))},n.\u0275dir=p.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&p.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[p.qOj]}),n})();function Uh(n,e){$h(n,e),e.valueAccessor.writeValue(n.value),function Ju(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&lw(n,e)})}(n,e),function Km(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function uw(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&lw(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function aw(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function jh(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Pp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ld(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function $h(n,e){const t=XE(n);null!==e.validator?n.setValidators(zm(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Vh(n);null!==e.asyncValidator?n.setAsyncValidators(zm(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();ld(e._rawValidators,o),ld(e._rawAsyncValidators,o)}function Pp(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=XE(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=Vh(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(d=>d!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return ld(e._rawValidators,r),ld(e._rawAsyncValidators,r),t}function lw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Zm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const tc="VALID",fd="INVALID",nc="PENDING",el="DISABLED";function Np(n){return(Lp(n)?n.validators:n)||null}function aI(n){return Array.isArray(n)?xp(n):n||null}function Fp(n,e){return(Lp(e)?e.asyncValidators:n)||null}function Ym(n){return Array.isArray(n)?nw(n):n||null}function Lp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Qm=n=>n instanceof gw,Jm=n=>n instanceof zh;function Es(n){return Qm(n)?n.value:n.getRawValue()}function hw(n,e){const t=Jm(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new p.vHH(1e3,"");if(!r[e])throw new p.vHH(1001,"")}function fw(n,e){Jm(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new p.vHH(1002,"")})}class pw{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=aI(this._rawValidators),this._composedAsyncValidatorFn=Ym(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===tc}get invalid(){return this.status===fd}get pending(){return this.status==nc}get disabled(){return this.status===el}get enabled(){return this.status!==el}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=aI(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Ym(e)}addValidators(e){this.setValidators(kp(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kp(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Rp(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Rp(e,this._rawAsyncValidators))}hasValidator(e){return ad(this._rawValidators,e)}hasAsyncValidator(e){return ad(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=nc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=el,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=tc,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tc||this.status===nc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?el:tc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=nc,this._hasOwnPendingAsyncValidator=!0;const t=Eo(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function oI(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=Jm(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof sA)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?el:this.errors?fd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nc)?nc:this._anyControlsHaveStatus(fd)?fd:tc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class gw extends pw{constructor(e=null,t,r){super(Np(t),Fp(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lp(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Zm(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Zm(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class zh extends pw{constructor(e,t,r){super(Np(t),Fp(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){fw(this,e),Object.keys(e).forEach(r=>{hw(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Es(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class sA extends pw{constructor(e,t,r){super(Np(t),Fp(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){fw(this,e),e.forEach((r,o)=>{hw(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Es(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let _w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=p.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),fI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();const Wh=new p.OlP("NgModelWithFormControlWarning"),Up={provide:us,useExisting:(0,p.Gpc)(()=>pd)};let pd=(()=>{class n extends us{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Uh(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){jh(t.control||null,t,!1),Zm(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function hd(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(jh(r||null,t),Qm(o)&&(Uh(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function cw(n,e){$h(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function dw(n,e){return Pp(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$h(this.form,this),this._oldForm&&Pp(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Ei,10),p.Y36(Zu,10))},n.\u0275dir=p.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&p.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([Up]),p.qOj,p.TTD]}),n})();const yI={provide:Yu,useExisting:(0,p.Gpc)(()=>Kh)};let Kh=(()=>{class n extends Yu{constructor(t,r,o,u,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Xu(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===Ap?t=u:function dd(n){return Object.getPrototypeOf(n.constructor)===lu}(u)?r=u:o=u}),o||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Gh(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function ud(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(p.Y36(us,13),p.Y36(Ei,10),p.Y36(Zu,10),p.Y36(Ko,10),p.Y36(Wh,8))},n.\u0275dir=p.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([yI]),p.qOj,p.TTD]}),n})(),EI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[fI]]}),n})(),cy=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Wh,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[EI]}),n})();const dy=new p.OlP("ADDS_TASK_DTO"),Fw=new p.OlP("GETS_ALL_TASK_DTO"),Lw=new p.OlP("REMOVES_TASK_DTO");var TI=L(5226),Vw=L.n(TI);const hy=new p.OlP("SETS_TASK_DTO");function pA(n,e){if(1&n){const t=p.EpF();p.TgZ(0,"div",5)(1,"div",6)(2,"input",7),p.NdJ("click",function(){const u=p.CHM(t).$implicit;return p.oxw().onTasksCheckeded(u)}),p.qZA(),p.TgZ(3,"label",8),p._uU(4),p.qZA()(),p.TgZ(5,"div",9),p._UZ(6,"div",10),p.TgZ(7,"input",11),p.NdJ("click",function(){const u=p.CHM(t).$implicit;return p.oxw().onRemoveTaskClicked(u)}),p.qZA()(),p._UZ(8,"br")(9,"br"),p.qZA()}if(2&n){const t=e.$implicit;p.xp6(2),p.Q6J("checked",t.done),p.xp6(2),p.Oqu(t.text)}}let Bw=(()=>{class n{constructor(t,r,o,u){this._addsTaskDto=t,this._getsAllTaskDto=r,this._removesTaskDto=o,this._setsTaskDto=u,this.text=new zh({text:new gw}),this.get$=this._getsAllTaskDto.getAll().pipe((0,bt.U)(d=>d.sort((m,b)=>m.created-b.created)),(0,ri.b)(d=>console.log(d)))}onAddButtonClicked(t){var r;this._addsTaskDto.add({text:null===(r=t.get("text"))||void 0===r?void 0:r.value,done:!1,created:Date.now()}),this.text.reset()}onRemoveTaskClicked(t){this._removesTaskDto.remove(t.id),Vw().fire({title:"Delete Task",text:"Are you sure You want to delete this task!?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(r=>{r.isConfirmed&&Vw().fire("Deleted!","Your file has been deleted.","success")})}onTasksCheckeded(t){t.done?(this._setsTaskDto.set(Object.assign(Object.assign({},t),{done:!1})),console.log(t)):this._setsTaskDto.set(Object.assign(Object.assign({},t),{done:!0}))}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(dy),p.Y36(Fw),p.Y36(Lw),p.Y36(hy))},n.\u0275cmp=p.Xpm({type:n,selectors:[["lib-add-task"]],decls:14,vars:4,consts:[[3,"formGroup"],["type","text","formControlName","text","id","task","rows","4","placeholder","write your message here",1,"col-7","form-control",2,"width","420px","height","120px"],["type","button",1,"btn","btn-primary","me-md-2",3,"click"],["routerLink","/","type","button",1,"btn","btn-outline-dark"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-7"],["type","radio",1,"form-check-input","rounded-circle","pointer",3,"checked","click"],[1,"strikethrough"],[1,"col-md-4"],[1,"col-9","text-light","h3"],["type","button","value","Delete",1,"btn","btn-dark",3,"click"]],template:function(t,r){1&t&&(p.TgZ(0,"form",0),p._UZ(1,"input",1)(2,"br")(3,"br"),p.TgZ(4,"div")(5,"button",2),p.NdJ("click",function(){return r.onAddButtonClicked(r.text)}),p._uU(6,"ADD TASK"),p.qZA(),p.TgZ(7,"button",3),p._uU(8,"CANCEL"),p.qZA(),p._UZ(9,"br")(10,"br")(11,"div"),p.qZA()(),p.YNc(12,pA,10,2,"div",4),p.ALo(13,"async")),2&t&&(p.Q6J("formGroup",r.text),p.xp6(12),p.Q6J("ngForOf",p.lcZ(13,2,r.get$)))},directives:[_w,iw,pd,Ap,nI,Kh,Nh,rr],pipes:[Al],encapsulation:2,changeDetection:0}),n})(),AI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-task-page"]],decls:1,vars:0,template:function(t,r){1&t&&p._UZ(0,"lib-add-task")},directives:[Bw],encapsulation:2,changeDetection:0}),n})(),SI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[],imports:[[oo,cy,Ku]]}),n})();var gA=L(4986),Gn=L(5813);function Yh(){return(0,Or.e)((n,e)=>{let t,r=!1;n.subscribe((0,Yn.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function Uw(n,e){return n===e}var dt,Io=L(2011),Zo=(L(5881),L(3942)),Se=L(5861),tl=L(9681),Qh=L(4859),fu=L(1877),nn=L(2090),MI="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},nl={},Jh=Jh||{},Wt=MI||self;function gd(){}function fy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Xh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var py="closure_uid_"+(1e9*Math.random()>>>0),RI=0;function PI(n,e,t){return n.call.apply(n.bind,arguments)}function Gp(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function vr(n,e,t){return(vr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?PI:Gp).apply(null,arguments)}function zp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Cr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,u){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[o].apply(r,d)}}function rl(){this.s=this.s,this.o=this.o}var gy={};rl.prototype.s=!1,rl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function kI(n){return Object.prototype.hasOwnProperty.call(n,py)&&n[py]||(n[py]=++RI)}(this);delete gy[n]}},rl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Yo=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},md=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in o&&e.call(t,o[u],u,n)};function il(n){return Array.prototype.concat.apply([],arguments)}function yd(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function ls(n){return/^[\s\xa0]*$/.test(n)}var Fr,Wp=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Nr(n,e){return-1!=n.indexOf(e)}function sl(n,e){return n<e?-1:n>e?1:0}e:{var oc=Wt.navigator;if(oc){var ac=oc.userAgent;if(ac){Fr=ac;break e}}Fr=""}function ol(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function uc(n){const e={};for(const t in n)e[t]=n[t];return e}var lc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cc(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<lc.length;u++)t=lc[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function qp(n){return qp[" "](n),n}qp[" "]=gd;var Zp,n,$w=Nr(Fr,"Opera"),dc=Nr(Fr,"Trident")||Nr(Fr,"MSIE"),my=Nr(Fr,"Edge"),Kp=my||dc,yy=Nr(Fr,"Gecko")&&!(Nr(Fr.toLowerCase(),"webkit")&&!Nr(Fr,"Edge"))&&!(Nr(Fr,"Trident")||Nr(Fr,"MSIE"))&&!Nr(Fr,"Edge"),Hw=Nr(Fr.toLowerCase(),"webkit")&&!Nr(Fr,"Edge");function vy(){var n=Wt.document;return n?n.documentMode:void 0}e:{var Yp="",_y=(n=Fr,yy?/rv:([^\);]+)(\)|;)/.exec(n):my?/Edge\/([\d\.]+)/.exec(n):dc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Hw?/WebKit\/(\S+)/.exec(n):$w?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(_y&&(Yp=_y?_y[1]:""),dc){var wy=vy();if(null!=wy&&wy>parseFloat(Yp)){Zp=String(wy);break e}}Zp=Yp}var Gw={};var FI=Wt.document&&dc&&(vy()||parseInt(Zp,10))||void 0,zw=function(){if(!Wt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Wt.addEventListener("test",gd,e),Wt.removeEventListener("test",gd,e)}catch(t){}return n}();function Vi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function ef(n,e){if(Vi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(yy){e:{try{qp(e.nodeName);var o=!0;break e}catch(u){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:mA[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ef.Z.h.call(this)}}Vi.prototype.h=function(){this.defaultPrevented=!0},Cr(ef,Vi);var mA={2:"touch",3:"pen",4:"mouse"};ef.prototype.h=function(){ef.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var tf="closure_listenable_"+(1e6*Math.random()|0),Iy=0;function Dy(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++Iy,this.ca=this.fa=!1}function Qp(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Cy(n){this.src=n,this.g={},this.h=0}function Ww(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=Yo(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(Qp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function qw(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return o}return-1}Cy.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=qw(n,e,r,o);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new Dy(e,this.src,u,!!r,o)).fa=t,n.push(e)),e};var Ty="closure_lm_"+(1e6*Math.random()|0),Jp={};function LI(n,e,t,r,o){if(r&&r.once)return Zw(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)LI(n,e[u],t,r,o);return null}return t=ky(t),n&&n[tf]?n.N(e,t,Xh(r)?!!r.capture:!!r,o):Kw(n,e,t,!1,r,o)}function Kw(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var d=Xh(o)?!!o.capture:!!o,m=My(n);if(m||(n[Ty]=m=new Cy(n)),(t=m.add(e,t,r,d,u)).proxy)return t;if(r=function vd(){var e=Xp;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)zw||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(xy(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Zw(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Zw(n,e[u],t,r,o);return null}return t=ky(t),n&&n[tf]?n.O(e,t,Xh(r)?!!r.capture:!!r,o):Kw(n,e,t,!0,r,o)}function Ay(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)Ay(n,e[u],t,r,o);else r=Xh(r)?!!r.capture:!!r,t=ky(t),n&&n[tf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=qw(u=n.g[e],t,r,o))&&(Qp(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=My(n))&&(e=n.g[e.toString()],n=-1,e&&(n=qw(e,t,r,o)),(t=-1<n?e[n]:null)&&Sy(t))}function Sy(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[tf])Ww(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(xy(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=My(e))?(Ww(t,n),0==t.h&&(t.src=null,e[Ty]=null)):Qp(n)}}}function xy(n){return n in Jp?Jp[n]:Jp[n]="on"+n}function Xp(n,e){if(n.ca)n=!0;else{e=new ef(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Sy(n),n=t.call(r,e)}return n}function My(n){return(n=n[Ty])instanceof Cy?n:null}var eg="__closure_events_fn_"+(1e9*Math.random()>>>0);function ky(n){return"function"==typeof n?n:(n[eg]||(n[eg]=function(e){return n.handleEvent(e)}),n[eg])}function ai(){rl.call(this),this.i=new Cy(this),this.P=this,this.I=null}function Ii(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Vi(e,n);else if(e instanceof Vi)e.target=e.target||n;else{var o=e;cc(e=new Vi(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];o=tg(d,r,!0,e)&&o}if(o=tg(d=e.g=n,r,!0,e)&&o,o=tg(d,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=tg(d=e.g=t[u],r,!1,e)&&o}function tg(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ca&&d.capture==t){var m=d.listener,b=d.ia||d.src;d.fa&&Ww(n.i,d),o=!1!==m.call(b,r)&&o}}return o&&!r.defaultPrevented}Cr(ai,rl),ai.prototype[tf]=!0,ai.prototype.removeEventListener=function(n,e,t,r){Ay(this,n,e,t,r)},ai.prototype.M=function(){if(ai.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Qp(t[r]);delete n.g[e],n.h--}}this.I=null},ai.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ai.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ry=Wt.JSON.stringify;function Yw(){var n=_d;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var nf,Py=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Qw,n=>n.reset());class Qw{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Oy(n){Wt.setTimeout(()=>{throw n},0)}function Jw(n,e){nf||function BI(){var n=Wt.Promise.resolve(void 0);nf=function(){n.then(e0)}}(),Xw||(nf(),Xw=!0),_d.add(n,e)}var Xw=!1,_d=new class VI{constructor(){this.h=this.g=null}add(e,t){const r=Py.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function e0(){for(var n;n=Yw();){try{n.h.call(n.g)}catch(t){Oy(t)}var e=Py;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Xw=!1}function wd(n,e){ai.call(this),this.h=n||1,this.g=e||Wt,this.j=vr(this.kb,this),this.l=Date.now()}function rf(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Ny(n,e,t){if("function"==typeof n)t&&(n=vr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=vr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Wt.setTimeout(n,e||0)}function sf(n){n.g=Ny(()=>{n.g=null,n.i&&(n.i=!1,sf(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Cr(wd,ai),(dt=wd.prototype).da=!1,dt.S=null,dt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ii(this,"tick"),this.da&&(rf(this),this.start()))}},dt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){wd.Z.M.call(this),rf(this),delete this.g};class ng extends rl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sf(this)}M(){super.M(),this.g&&(Wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hc(n){rl.call(this),this.h=n,this.g={}}Cr(hc,rl);var UI=[];function t0(n,e,t,r){Array.isArray(t)||(t&&(UI[0]=t.toString()),t=UI);for(var o=0;o<t.length;o++){var u=LI(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function rg(n){ol(n.g,function(e,t){this.g.hasOwnProperty(t)&&Sy(e)},n),n.g={}}function bd(){this.g=!0}function al(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function o0(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<o.length;d++)o[d]=""}}}return Ry(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}hc.prototype.M=function(){hc.Z.M.call(this),rg(this)},hc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bd.prototype.Aa=function(){this.g=!1},bd.prototype.info=function(){};var pu={},Fy=null;function ig(){return Fy=Fy||new ai}function Ly(n){Vi.call(this,pu.Ma,n)}function Ed(n){const e=ig();Ii(e,new Ly(e,n))}function sg(n,e){Vi.call(this,pu.STAT_EVENT,n),this.stat=e}function Bi(n){const e=ig();Ii(e,new sg(e,n))}function a0(n,e){Vi.call(this,pu.Na,n),this.size=e}function of(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Wt.setTimeout(function(){n()},e)}pu.Ma="serverreachability",Cr(Ly,Vi),pu.STAT_EVENT="statevent",Cr(sg,Vi),pu.Na="timingevent",Cr(a0,Vi);var og={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Vy={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function af(){}function Uy(){}af.prototype.h=null;var lg,Id={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ag(){Vi.call(this,"d")}function ug(){Vi.call(this,"c")}function uf(){}function Dd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new hc(this),this.P=$I,this.W=new wd(n=Kp?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new jI}function jI(){this.i=null,this.g="",this.h=!1}Cr(ag,Vi),Cr(ug,Vi),Cr(uf,af),uf.prototype.g=function(){return new XMLHttpRequest},uf.prototype.i=function(){return{}},lg=new uf;var $I=45e3,jy={},lf={};function $y(n,e,t){n.K=1,n.v=df(gu(e)),n.s=t,n.U=!0,Lr(n,null)}function Lr(n,e){n.F=Date.now(),Cd(n),n.A=gu(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Zy(t.h,"t",r),n.C=0,t=n.l.H,n.h=new jI,n.g=dv(n.l,t?e:null,!n.s),0<n.O&&(n.L=new ng(vr(n.Ia,n,n.g),n.O)),t0(n.V,n.g,"readystatechange",n.gb),e=n.H?uc(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Ed(1),function n0(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var d="",m=u.split("&"),b=0;b<m.length;b++){var A=m[b].split("=");if(1<A.length){var O=A[0];A=A[1];var N=O.split("_");d=2<=N.length&&"type"==N[1]?d+(O+"=")+A+"&":d+(O+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Hy(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function u0(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=HI(n,t),o==lf){4==e&&(n.o=4,Bi(14),r=!1),al(n.j,n.m,null,"[Incomplete Response]");break}if(o==jy){n.o=4,Bi(15),al(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}al(n.j,n.m,o,null),Gy(n,o)}Hy(n)&&o!=lf&&o!=jy&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Bi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),cv(e),e.L=!0,Bi(11))):(al(n.j,n.m,t,"[Invalid Chunked Response]"),Do(n),Td(n))}function HI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?lf:(t=Number(e.substring(t,r)),isNaN(t)?jy:(r+=1)+t>e.length?lf:(e=e.substr(r,t),n.C=r+t,e))}function Cd(n){n.Y=Date.now()+n.P,l0(n,n.P)}function l0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=of(vr(n.eb,n),e)}function cf(n){n.B&&(Wt.clearTimeout(n.B),n.B=null)}function Td(n){0==n.l.G||n.I||E0(n.l,n)}function Do(n){cf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,rf(n.W),rg(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Gy(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||pg(t.i,n)))if(t.I=n.N,!n.J&&pg(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(A){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=of(vr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;pc(t),_g(t)}lv(t),Bi(18)}if(1>=Jy(t.i)&&t.ka){try{t.ka()}catch(A){}t.ka=void 0}}else Pa(t,11)}else if((n.J||t.g==n)&&pc(t),!ls(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let A=o[e];if(t.U=A[0],A=A[1],2==t.G)if("c"==A[0]){t.J=A[1],t.la=A[2];const O=A[3];null!=O&&(t.ma=O,t.h.info("VER="+t.ma));const N=A[4];null!=N&&(t.za=N,t.h.info("SVER="+t.za));const J=A[5];null!=J&&"number"==typeof J&&0<J&&(t.K=r=1.5*J,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const ie=n.g;if(ie){const be=ie.g?ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(be){var u=r.i;!u.g&&(Nr(be,"spdy")||Nr(be,"quic")||Nr(be,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(gg(u,u.h),u.h=null))}if(r.D){const Ke=ie.g?ie.g.getResponseHeader("X-HTTP-Session-Id"):null;Ke&&(r.sa=Ke,er(r.F,r.D,Ke))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=rD(r,r.H?r.la:null,r.W),d.J){Xy(r.i,d);var m=d,b=r.K;b&&m.setTimeout(b),m.B&&(cf(m),Cd(m)),r.g=d}else kt(r);0<t.l.length&&Rd(t)}else"stop"!=A[0]&&"close"!=A[0]||Pa(t,7);else 3==t.G&&("stop"==A[0]||"close"==A[0]?"stop"==A[0]?Pa(t,7):av(t):"noop"!=A[0]&&t.j&&t.j.wa(A),t.A=0)}Ed(4)}catch(A){}}function cg(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(fy(n)||"string"==typeof n)md(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(fy(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function GI(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(fy(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}}function Ad(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Ad)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function dg(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Sd(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)Sd(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function Sd(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(dt=Dd.prototype).setTimeout=function(n){this.P=n},dt.gb=function(n){n=n.target;const e=this.L;e&&3==Ra(n)?e.l():this.Ia(n)},dt.Ia=function(n){try{if(n==this.g)e:{const O=Ra(this.g);var e=this.g.Da();const N=this.g.ba();if(!(3>O)&&(3!=O||Kp||this.g&&(this.h.h||this.g.ga()||ov(this.g)))){this.I||4!=O||7==e||Ed(8==e||0>=N?3:2),cf(this);var t=this.g.ba();this.N=t;t:if(Hy(this)){var r=ov(this.g);n="";var o=r.length,u=4==Ra(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Do(this),Td(this);var d="";break t}this.h.i=new Wt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function r0(n,e,t,r,o,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.X,O,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,b=this.g;if((m=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ls(m)){var A=m;break t}}A=null}if(!(t=A)){this.i=!1,this.o=3,Bi(12),Do(this),Td(this);break e}al(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Gy(this,t)}this.U?(u0(this,O,d),Kp&&this.i&&3==O&&(t0(this.V,this.W,"tick",this.fb),this.W.start())):(al(this.j,this.m,d,null),Gy(this,d)),4==O&&Do(this),this.i&&!this.I&&(4==O?E0(this.l,this):(this.i=!1,Cd(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Bi(12)):(this.o=0,Bi(13)),Do(this),Td(this)}}}catch(O){}},dt.fb=function(){if(this.g){var n=Ra(this.g),e=this.g.ga();this.C<e.length&&(cf(this),u0(this,n,e),this.i&&4!=n&&Cd(this))}},dt.cancel=function(){this.I=!0,Do(this)},dt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function s0(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ed(3),Bi(17)),Do(this),this.o=2,Td(this)):l0(this,this.Y-n)},(dt=Ad.prototype).R=function(){dg(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},dt.T=function(){return dg(this),this.g.concat()},dt.get=function(n,e){return Sd(this.h,n)?this.h[n]:e},dt.set=function(n,e){Sd(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},dt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],u=this.get(o);n.call(e,u,o,this)}};var zy=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ui(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ui){this.g=void 0!==e?e:n.g,hg(this,n.j),this.s=n.s,Gs(this,n.i),Is(this,n.m),this.l=n.l,e=n.h;var t=new Md;t.i=e.i,e.g&&(t.g=new Ad(e.g),t.h=e.h),Co(this,t),this.o=n.o}else n&&(t=String(n).match(zy))?(this.g=!!e,hg(this,t[1]||"",!0),this.s=hf(t[2]||""),Gs(this,t[3]||"",!0),Is(this,t[4]),this.l=hf(t[5]||"",!0),Co(this,t[6]||"",!0),this.o=hf(t[7]||"")):(this.g=!!e,this.h=new Md(null,this.g))}function gu(n){return new Ui(n)}function hg(n,e,t){n.j=t?hf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Gs(n,e,t){n.i=t?hf(e,!0):e}function Is(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Co(n,e,t){e instanceof Md?(n.h=e,function fg(n,e){e&&!n.j&&(Qo(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(h0(this,r),Zy(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=ff(e,KI)),n.h=new Md(e,n.g))}function er(n,e,t){n.h.set(e,t)}function df(n){return er(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function hf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ff(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,qy),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function qy(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ui.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ff(e,xd,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ff(e,xd,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(ff(t,"/"==t.charAt(0)?c0:qI,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ff(t,d0)),n.join("")};var xd=/[#\/\?@]/g,qI=/[#\?:]/g,c0=/[#\?]/g,KI=/[#\?@]/g,d0=/#/g;function Md(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Qo(n){n.g||(n.g=new Ad,n.h=0,n.i&&function Wy(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function h0(n,e){Qo(n),e=ul(n,e),Sd(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Sd((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&dg(n)))}function Ky(n,e){return Qo(n),e=ul(n,e),Sd(n.g.h,e)}function Zy(n,e,t){h0(n,e),0<t.length&&(n.i=null,n.g.set(ul(n,e),yd(t)),n.h+=t.length)}function ul(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Yy(n){this.l=n||p0,n=Wt.PerformanceNavigationTiming?0<(n=Wt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Wt.g&&Wt.g.Ea&&Wt.g.Ea()&&Wt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=Md.prototype).add=function(n,e){Qo(this),this.i=null,n=ul(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){Qo(this),this.g.forEach(function(t,r){md(t,function(o){n.call(e,o,r,this)},this)},this)},dt.T=function(){Qo(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],u=0;u<o.length;u++)t.push(e[r]);return t},dt.R=function(n){Qo(this);var e=[];if("string"==typeof n)Ky(this,n)&&(e=il(e,this.g.get(ul(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=il(e,n[t])}return e},dt.set=function(n,e){return Qo(this),this.i=null,Ky(this,n=ul(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var d=o;""!==r[u]&&(d+="="+encodeURIComponent(String(r[u]))),n.push(d)}}return this.i=n.join("&")};var p0=10;function Qy(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Jy(n){return n.h?1:n.g?n.g.size:0}function pg(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function gg(n,e){n.g?n.g.add(e):n.h=e}function Xy(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function g0(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return yd(n.i)}function ev(){}function ZI(){this.g=new ev}function YI(n,e,t){const r=t||"";try{cg(n,function(o,u){let d=o;Xh(o)&&(d=Ry(o)),e.push(r+u+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function mg(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(u){}}function pf(n){this.l=n.$b||null,this.j=n.ib||!1}function yg(n,e){ai.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=tv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yy.prototype.cancel=function(){if(this.i=g0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ev.prototype.stringify=function(n){return Wt.JSON.stringify(n,void 0)},ev.prototype.parse=function(n){return Wt.JSON.parse(n,void 0)},Cr(pf,af),pf.prototype.g=function(){return new yg(this.l,this.j)},pf.prototype.i=function(n){return function(){return n}}({}),Cr(yg,ai);var tv=0;function m0(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function gf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,mf(n)}function mf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=yg.prototype).open=function(n,e){if(this.readyState!=tv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,mf(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Wt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gf(this)),this.readyState=tv},dt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,mf(this)),this.g&&(this.readyState=3,mf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Wt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;m0(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},dt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?gf(this):mf(this),3==this.readyState&&m0(this)}},dt.Ua=function(n){this.g&&(this.response=this.responseText=n,gf(this))},dt.Ta=function(n){this.g&&(this.response=n,gf(this))},dt.ha=function(){this.g&&gf(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(yg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var JI=Wt.JSON.parse;function Vr(n){ai.call(this),this.headers=new Ad,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=y0,this.K=this.L=!1}Cr(Vr,ai);var y0="",XI=/^https?$/i,eD=["POST","PUT"];function v0(n){return"content-type"==n.toLowerCase()}function nv(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,rv(n),yf(n)}function rv(n){n.D||(n.D=!0,Ii(n,"complete"),Ii(n,"error"))}function iv(n){if(n.h&&void 0!==Jh&&(!n.C[1]||4!=Ra(n)||2!=n.ba()))if(n.v&&4==Ra(n))Ny(n.Fa,0,n);else if(Ii(n,"readystatechange"),4==Ra(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(zy)[1]||null;if(!o&&Wt.self&&Wt.self.location){var u=Wt.self.location.protocol;o=u.substr(0,u.length-1)}r=!XI.test(o?o.toLowerCase():"")}t=r}if(t)Ii(n,"complete"),Ii(n,"success");else{n.m=6;try{var d=2<Ra(n)?n.g.statusText:""}catch(b){d=""}n.j=d+" ["+n.ba()+"]",rv(n)}}finally{yf(n)}}}function yf(n,e){if(n.g){sv(n);const t=n.g,r=n.C[0]?gd:null;n.g=null,n.C=null,e||Ii(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function sv(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Wt.clearTimeout(n.A),n.A=null)}function Ra(n){return n.g?n.g.readyState:0}function ov(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case y0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function vg(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function _0(n){let e="";return ol(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):er(n,e,t))}function kd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ll(n){this.za=0,this.l=[],this.h=new bd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=kd("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=kd("baseRetryDelayMs",5e3,n),this.$a=kd("retryDelaySeedMs",1e4,n),this.Ya=kd("forwardChannelMaxRetries",2,n),this.ra=kd("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Yy(n&&n.concurrentRequestLimit),this.Ca=new ZI,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function av(n){if(fc(n),3==n.G){var e=n.V++,t=gu(n.F);er(t,"SID",n.J),er(t,"RID",e),er(t,"TYPE","terminate"),Pd(n,t),(e=new Dd(n,n.h,e,void 0)).K=2,e.v=df(gu(t)),t=!1,Wt.navigator&&Wt.navigator.sendBeacon&&(t=Wt.navigator.sendBeacon(e.v.toString(),"")),!t&&Wt.Image&&((new Image).src=e.v,t=!0),t||(e.g=dv(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Cd(e)}cr(n)}function _g(n){n.g&&(cv(n),n.g.cancel(),n.g=null)}function fc(n){_g(n),n.u&&(Wt.clearTimeout(n.u),n.u=null),pc(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Wt.clearTimeout(n.m),n.m=null)}function w0(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Rd(n)}function Rd(n){Qy(n.i)||n.m||(n.m=!0,Jw(n.Ha,n),n.C=0)}function uv(n,e){var t;t=e?e.m:n.V++;const r=gu(n.F);er(r,"SID",n.J),er(r,"RID",t),er(r,"AID",n.U),Pd(n,r),n.o&&n.s&&vg(r,n.o,n.s),t=new Dd(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=nD(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),gg(n.i,t),$y(t,r,e)}function Pd(n,e){n.j&&cg({},function(t,r){er(e,r,t)})}function nD(n,e,t){t=Math.min(n.l.length,t);var r=n.j?vr(n.j.Oa,n.j,n):null;e:{var o=n.l;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=o[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let m=!0;for(let b=0;b<t;b++){let A=o[b].h;const O=o[b].g;if(A-=u,0>A)u=Math.max(0,o[b].h-100),m=!1;else try{YI(O,d,"req"+A+"_")}catch(N){r&&r(O)}}if(m){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function kt(n){n.g||n.u||(n.Y=1,Jw(n.Ga,n),n.A=0)}function lv(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=of(vr(n.Ga,n),vf(n,n.A)),n.A++,0))}function cv(n){null!=n.B&&(Wt.clearTimeout(n.B),n.B=null)}function b0(n){n.g=new Dd(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=gu(n.oa);er(e,"RID","rpc"),er(e,"SID",n.J),er(e,"CI",n.N?"0":"1"),er(e,"AID",n.U),Pd(n,e),er(e,"TYPE","xmlhttp"),n.o&&n.s&&vg(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=df(gu(e)),t.s=null,t.U=!0,Lr(t,n)}function pc(n){null!=n.v&&(Wt.clearTimeout(n.v),n.v=null)}function E0(n,e){var t=null;if(n.g==e){pc(n),cv(n),n.g=null;var r=2}else{if(!pg(n.i,e))return;t=e.D,Xy(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Ii(r=ig(),new a0(r,t,e,o)),Rd(n)}else kt(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function yA(n,e){return!(Jy(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=of(vr(n.Ha,n,e),vf(n,n.C)),n.C++,0)))}(n,e)||2==r&&lv(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Pa(n,5);break;case 4:Pa(n,10);break;case 3:Pa(n,6);break;default:Pa(n,2)}}function vf(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Pa(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=vr(n.jb,n);t||(t=new Ui("//www.google.com/images/cleardot.gif"),Wt.location&&"http"==Wt.location.protocol||hg(t,"https"),df(t)),function QI(n,e){const t=new bd;if(Wt.Image){const r=new Image;r.onload=zp(mg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=zp(mg,t,r,"TestLoadImage: error",!1,e),r.onabort=zp(mg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=zp(mg,t,r,"TestLoadImage: timeout",!1,e),Wt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Bi(2);n.G=0,n.j&&n.j.va(e),cr(n),fc(n)}function cr(n){n.G=0,n.I=-1,n.j&&((0!=g0(n.i).length||0!=n.l.length)&&(n.i.i.length=0,yd(n.l),n.l.length=0),n.j.ua())}function rD(n,e,t){let r=function zI(n){return n instanceof Ui?gu(n):new Ui(n,void 0)}(t);if(""!=r.i)e&&Gs(r,e+"."+r.i),Is(r,r.m);else{const o=Wt.location;r=function WI(n,e,t,r){var o=new Ui(null,void 0);return n&&hg(o,n),e&&Gs(o,e),t&&Is(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&ol(n.aa,function(o,u){er(r,u,o)}),t=n.sa,(e=n.D)&&t&&er(r,e,t),er(r,"VER",n.ma),Pd(n,r),r}function dv(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vr(t&&n.Ba&&!n.qa?new pf({ib:!0}):n.qa)).L=n.H,e}function I0(){}function wg(){if(dc&&!(10<=Number(FI)))throw Error("Environmental error: no available transport.")}function Ds(n,e){ai.call(this),this.g=new ll(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!ls(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ls(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new gc(this)}function hv(n){ag.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function fv(){ug.call(this),this.status=1}function gc(n){this.g=n}(dt=Vr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():lg.g(),this.C=function By(n){return n.h||(n.h=n.i())}(this.u?this.u:lg),this.g.onreadystatechange=vr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void nv(this,u)}n=t||"";const o=new Ad(this.headers);r&&cg(r,function(u,d){o.set(d,u)}),r=function Li(n){e:{var e=v0;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Wt.FormData&&n instanceof Wt.FormData,!(0<=Yo(eD,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,d){this.g.setRequestHeader(d,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sv(this),0<this.B&&((this.K=function tD(n){return dc&&function NI(){return function jw(n){var e=Gw;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Wp(String(Zp)).split("."),t=Wp("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",u=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=sl(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||sl(0==o[2].length,0==u[2].length)||sl(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vr(this.pa,this)):this.A=Ny(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){nv(this,u)}},dt.pa=function(){void 0!==Jh&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ii(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ii(this,"complete"),Ii(this,"abort"),yf(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yf(this,!0)),Vr.Z.M.call(this)},dt.Fa=function(){this.s||(this.F||this.v||this.l?iv(this):this.cb())},dt.cb=function(){iv(this)},dt.ba=function(){try{return 2<Ra(this)?this.g.status:-1}catch(n){return-1}},dt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},dt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),JI(e)}},dt.Da=function(){return this.m},dt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=ll.prototype).ma=8,dt.G=1,dt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},dt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Dd(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=uc(u),cc(u,this.P)):u=this.P),null===this.o&&(o.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=nD(this,o,e),er(t=gu(this.F),"RID",n),er(t,"CVER",22),this.D&&er(t,"X-HTTP-Session-Id",this.D),Pd(this,t),this.o&&u&&vg(t,this.o,u),gg(this.i,o),this.Ra&&er(t,"TYPE","init"),this.ja?(er(t,"$req",e),er(t,"SID","null"),o.$=!0,$y(o,t,null)):$y(o,t,e),this.G=2}}else 3==this.G&&(n?uv(this,n):0==this.l.length||Qy(this.i)||uv(this))},dt.Ga=function(){if(this.u=null,b0(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=of(vr(this.bb,this),n)}},dt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Bi(10),_g(this),b0(this))},dt.ab=function(){null!=this.v&&(this.v=null,_g(this),lv(this),Bi(19))},dt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Bi(2)):(this.h.info("Failed to ping google.com"),Bi(1))},(dt=I0.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Oa=function(){},wg.prototype.g=function(n,e){return new Ds(n,e)},Cr(Ds,ai),Ds.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Jw(vr(n.hb,n,e))),Bi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=rD(n,null,n.W),Rd(n)},Ds.prototype.close=function(){av(this.g)},Ds.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,w0(this.g,e)}else this.v?((e={}).__data__=Ry(n),w0(this.g,e)):w0(this.g,n)},Ds.prototype.M=function(){this.g.j=null,delete this.j,av(this.g),delete this.g,Ds.Z.M.call(this)},Cr(hv,ag),Cr(fv,ug),Cr(gc,I0),gc.prototype.xa=function(){Ii(this.g,"a")},gc.prototype.wa=function(n){Ii(this.g,new hv(n))},gc.prototype.va=function(n){Ii(this.g,new fv(n))},gc.prototype.ua=function(){Ii(this.g,"b")},wg.prototype.createWebChannel=wg.prototype.g,Ds.prototype.send=Ds.prototype.u,Ds.prototype.open=Ds.prototype.m,Ds.prototype.close=Ds.prototype.close,og.NO_ERROR=0,og.TIMEOUT=8,og.HTTP_ERROR=6,Vy.COMPLETE="complete",Uy.EventType=Id,Id.OPEN="a",Id.CLOSE="b",Id.ERROR="c",Id.MESSAGE="d",ai.prototype.listen=ai.prototype.N,Vr.prototype.listenOnce=Vr.prototype.O,Vr.prototype.getLastError=Vr.prototype.La,Vr.prototype.getLastErrorCode=Vr.prototype.Da,Vr.prototype.getStatus=Vr.prototype.ba,Vr.prototype.getResponseJson=Vr.prototype.Qa,Vr.prototype.getResponseText=Vr.prototype.ga,Vr.prototype.send=Vr.prototype.ea;var iD=nl.createWebChannelTransport=function(){return new wg},sD=nl.getStatEventTarget=function(){return ig()},pv=nl.ErrorCode=og,_f=nl.EventType=Vy,oD=nl.Event=pu,D0=nl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},aD=nl.FetchXmlHttpFactory=pf,mc=nl.WebChannel=Uy,C0=nl.XhrIo=Vr;const gv="@firebase/firestore";class ui{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ui.UNAUTHENTICATED=new ui(null),ui.GOOGLE_CREDENTIALS=new ui("google-credentials-uid"),ui.FIRST_PARTY=new ui("first-party-uid"),ui.MOCK_USER=new ui("mock-user");let Od="9.6.11";const To=new fu.Yd("@firebase/firestore");function yc(){return To.logLevel}function $e(n,...e){if(To.logLevel<=fu.in.DEBUG){const t=e.map(bg);To.debug(`Firestore (${Od}): ${n}`,...t)}}function Br(n,...e){if(To.logLevel<=fu.in.ERROR){const t=e.map(bg);To.error(`Firestore (${Od}): ${n}`,...t)}}function Nd(n,...e){if(To.logLevel<=fu.in.WARN){const t=e.map(bg);To.warn(`Firestore (${Od}): ${n}`,...t)}}function bg(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function pt(n="Unexpected state"){const e=`FIRESTORE (${Od}) INTERNAL ASSERTION FAILED: `+n;throw Br(e),new Error(e)}function jt(n,e){n||pt()}function at(n,e){return n}const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends nn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class lD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ui.UNAUTHENTICATED))}shutdown(){}}class A0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Eg{constructor(e){this.t=e,this.currentUser=ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=A=>this.i!==o?(o=this.i,t(A)):Promise.resolve();let d=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Di,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const A=d;e.enqueueRetryable((0,Se.Z)(function*(){yield A.promise,yield u(r.currentUser)}))},b=A=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=A,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(A=>b(A)),setTimeout(()=>{if(!this.auth){const A=this.t.getImmediate({optional:!0});A?b(A):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Di)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(jt("string"==typeof r.accessToken),new lD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return jt(null===e||"string"==typeof e),new ui(e)}}class cD{constructor(e,t,r){this.type="FirstParty",this.user=ui.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class dD{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new cD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wf{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.p;return this.p=u.token,$e("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?o(u):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(jt("string"==typeof t.token),this.p=t.token,new mv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class zs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function hD(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}zs.A=-1;class S0{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=hD(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function Jt(n,e){return n<e?-1:n>e?1:0}function vc(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function x0(n){return n+"\0"}class Tr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Le(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Le(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Le(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tr.fromMillis(Date.now())}static fromDate(e){return Tr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Tr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new Tr(0,0))}static max(){return new At(new Tr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function M0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function k0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Fd{constructor(e,t,r){void 0===t?t=0:t>e.length&&pt(),void 0===r?r=e.length-t:r>e.length-t&&pt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Fd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),d=t.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pn extends Fd{construct(e,t,r){return new pn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new pn(t)}static emptyPath(){return new pn([])}}const R0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class li extends Fd{construct(e,t,r){return new li(e,t,r)}static isValidIdentifier(e){return R0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),li.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new li(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Le(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Le(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[o+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new Le(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,o+=2}else"`"===m?(d=!d,o++):"."!==m||d?(r+=m,o++):(u(),o++)}if(u(),d)throw new Le(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new li(t)}static emptyPath(){return new li([])}}class dl{constructor(e){this.fields=e,e.sort(li.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Ur{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ur(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Ur(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ur.EMPTY_BYTE_STRING=new Ur("");const P0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hl(n){if(jt(!!n),"string"==typeof n){let e=0;const t=P0.exec(n);if(jt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_r(n.seconds),nanos:_r(n.nanos)}}function _r(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function _c(n){return"string"==typeof n?Ur.fromBase64String(n):Ur.fromUint8Array(n)}function bf(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function O0(n){const e=n.mapValue.fields.__previous_value__;return bf(e)?O0(e):e}function Ld(n){const e=hl(n.mapValue.fields.__local_write_time__.timestampValue);return new Tr(e.seconds,e.nanos)}class pD{constructor(e,t,r,o,u,d,m,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=b}}class mu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new mu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}function wc(n){return null==n}function Ef(n){return 0===n&&1/n==-1/0}function N0(n){return"number"==typeof n&&Number.isInteger(n)&&!Ef(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class tt{constructor(e){this.path=e}static fromPath(e){return new tt(pn.fromString(e))}static fromName(e){return new tt(pn.fromString(e).popFirst(5))}static empty(){return new tt(pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new pn(e.slice()))}}const F0={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},L0={nullValue:"NULL_VALUE"};function fl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bf(n)?4:Cg(n)?9:10:pt()}function Jo(n,e){if(n===e)return!0;const t=fl(n);if(t!==fl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ld(n).isEqual(Ld(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=hl(r.timestampValue),d=hl(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,_c(n.bytesValue).isEqual(_c(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return _r(r.geoPointValue.latitude)===_r(o.geoPointValue.latitude)&&_r(r.geoPointValue.longitude)===_r(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return _r(r.integerValue)===_r(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=_r(r.doubleValue),d=_r(o.doubleValue);return u===d?Ef(u)===Ef(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return vc(n.arrayValue.values||[],e.arrayValue.values||[],Jo);case 10:return function(r,o){const u=r.mapValue.fields||{},d=o.mapValue.fields||{};if(M0(u)!==M0(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===d[m]||!Jo(u[m],d[m])))return!1;return!0}(n,e);default:return pt()}var o}function If(n,e){return void 0!==(n.values||[]).find(t=>Jo(t,e))}function pl(n,e){if(n===e)return 0;const t=fl(n),r=fl(e);if(t!==r)return Jt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Jt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=_r(o.integerValue||o.doubleValue),m=_r(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return yv(n.timestampValue,e.timestampValue);case 4:return yv(Ld(n),Ld(e));case 5:return Jt(n.stringValue,e.stringValue);case 6:return function(o,u){const d=_c(o),m=_c(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),m=u.split("/");for(let b=0;b<d.length&&b<m.length;b++){const A=Jt(d[b],m[b]);if(0!==A)return A}return Jt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=Jt(_r(o.latitude),_r(u.latitude));return 0!==d?d:Jt(_r(o.longitude),_r(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const d=o.values||[],m=u.values||[];for(let b=0;b<d.length&&b<m.length;++b){const A=pl(d[b],m[b]);if(A)return A}return Jt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){const d=o.fields||{},m=Object.keys(d),b=u.fields||{},A=Object.keys(b);m.sort(),A.sort();for(let O=0;O<m.length&&O<A.length;++O){const N=Jt(m[O],A[O]);if(0!==N)return N;const J=pl(d[m[O]],b[A[O]]);if(0!==J)return J}return Jt(m.length,A.length)}(n.mapValue,e.mapValue);default:throw pt()}}function yv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Jt(n,e);const t=hl(n),r=hl(e),o=Jt(t.seconds,r.seconds);return 0!==o?o:Jt(t.nanos,r.nanos)}function Vd(n){return vv(n)}function vv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=hl(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?_c(n.bytesValue).toBase64():"referenceValue"in n?tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const d of r.values||[])u?u=!1:o+=",",o+=vv(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const m of o)d?d=!1:u+=",",u+=`${m}:${vv(r.fields[m])}`;return u+"}"}(n.mapValue):pt();var e}function bc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Df(n){return!!n&&"integerValue"in n}function Ec(n){return!!n&&"arrayValue"in n}function _v(n){return!!n&&"nullValue"in n}function Ig(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Dg(n){return!!n&&"mapValue"in n}function Cf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return cl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Cf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Cf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Cg(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function gD(n){return"nullValue"in n?L0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?bc(mu.empty(),tt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:pt()}function V0(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?bc(mu.empty(),tt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?F0:pt()}function B0(n,e){return void 0===n?e:void 0===e||pl(n,e)>0?n:e}function wv(n,e){return void 0===n?e:void 0===e||pl(n,e)<0?n:e}class ji{constructor(e){this.value=e}static empty(){return new ji({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Dg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cf(t)}setAll(e){let t=li.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const b=this.getFieldsMap(t);this.applyChanges(b,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=Cf(d):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Dg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Dg(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){cl(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new ji(Cf(this.value))}}function bv(n){const e=[];return cl(n.fields,(t,r)=>{const o=new li([t]);if(Dg(r)){const u=bv(r.mapValue).fields;if(0===u.length)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new dl(e)}class ar{constructor(e,t,r,o,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new ar(e,0,At.min(),At.min(),ji.empty(),0)}static newFoundDocument(e,t,r){return new ar(e,1,t,At.min(),r,0)}static newNoDocument(e,t){return new ar(e,2,t,At.min(),ji.empty(),0)}static newUnknownDocument(e,t){return new ar(e,3,t,At.min(),ji.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ji.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ar(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Tg{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function Bd(n){return n.fields.find(e=>2===e.kind)}function Ic(n){return n.fields.filter(e=>2!==e.kind)}Tg.UNKNOWN_ID=-1;class yu{constructor(e,t){this.fieldPath=e,this.kind=t}}class vu{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vu(0,Oa.min())}}function U0(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=At.fromTimestamp(1e9===r?new Tr(t+1,0):new Tr(t,r));return new Oa(o,tt.empty(),e)}function wA(n){return new Oa(n.readTime,n.key,-1)}class Oa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Oa(At.min(),tt.empty(),-1)}static max(){return new Oa(At.max(),tt.empty(),-1)}}function mD(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=tt.comparator(n.documentKey,e.documentKey),0!==t?t:Jt(n.largestBatchId,e.largestBatchId))}class yD{constructor(e,t=null,r=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.P=null}}function j0(n,e=null,t=[],r=[],o=null,u=null,d=null){return new yD(n,e,t,r,o,u,d)}function Dc(n){const e=at(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+Vd(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),wc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Vd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Vd(r)).join(",")),e.P=t}return e.P}function Ud(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!Hd(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Jo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ev(n.startAt,e.startAt)&&Ev(n.endAt,e.endAt)}function jd(n){return tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Cc(n,e){return n.filters.filter(t=>t instanceof ci&&t.field.isEqual(e))}function $d(n,e,t){let r,o=!0;for(const u of Cc(n,e)){let d,m=!0;switch(u.op){case"<":case"<=":d=gD(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,m=!1;break;case"!=":case"not-in":d=L0}B0(r,d)===d&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];B0(r,d)===d&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function H0(n,e,t){let r,o=!0;for(const u of Cc(n,e)){let d,m=!0;switch(u.op){case">=":case">":d=V0(u.value),m=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,m=!1;break;case"!=":case"not-in":d=F0}wv(r,d)===d&&(r=d,o=m)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];wv(r,d)===d&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class ci extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new G0(e,t,r):"array-contains"===t?new wD(e,r):"in"===t?new bA(e,r):"not-in"===t?new bD(e,r):"array-contains-any"===t?new ED(e,r):new ci(e,t,r)}static V(e,t,r){return"in"===t?new vD(e,r):new _D(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(pl(t,this.value)):null!==t&&fl(this.value)===fl(t)&&this.v(pl(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class G0 extends ci{constructor(e,t,r){super(e,t,r),this.key=tt.fromName(r.referenceValue)}matches(e){const t=tt.comparator(e.key,this.key);return this.v(t)}}class vD extends ci{constructor(e,t){super(e,"in",t),this.keys=Ag(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _D extends ci{constructor(e,t){super(e,"not-in",t),this.keys=Ag(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ag(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>tt.fromName(r.referenceValue))}class wD extends ci{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ec(t)&&If(t.arrayValue,this.value)}}class bA extends ci{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&If(this.value.arrayValue,t)}}class bD extends ci{constructor(e,t){super(e,"not-in",t)}matches(e){if(If(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!If(this.value.arrayValue,t)}}class ED extends ci{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ec(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>If(this.value.arrayValue,r))}}class Ws{constructor(e,t){this.position=e,this.inclusive=t}}class Tc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Hd(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function ID(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],d=n.position[o];if(r=u.field.isKeyField()?tt.comparator(tt.fromName(d.referenceValue),t.key):pl(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function Ev(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jo(n.position[t],e.position[t]))return!1;return!0}class _u{constructor(e,t=null,r=[],o=[],u=null,d="F",m=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=b,this.D=null,this.C=null}}function DD(n,e,t,r,o,u,d,m){return new _u(n,e,t,r,o,u,d,m)}function Ac(n){return new _u(n)}function Iv(n){return!wc(n.limit)&&"F"===n.limitType}function Tf(n){return!wc(n.limit)&&"L"===n.limitType}function Af(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Dv(n){for(const e of n.filters)if(e.S())return e.field;return null}function Cv(n){return null!==n.collectionGroup}function Gd(n){const e=at(n);if(null===e.D){e.D=[];const t=Dv(e),r=Af(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Tc(t)),e.D.push(new Tc(li.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Tc(li.keyField(),u))}}}return e.D}function Ao(n){const e=at(n);if(!e.C)if("F"===e.limitType)e.C=j0(e.path,e.collectionGroup,Gd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Gd(e))t.push(new Tc(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Ws(e.endAt.position,!e.endAt.inclusive):null,o=e.startAt?new Ws(e.startAt.position,!e.startAt.inclusive):null;e.C=j0(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function z0(n,e,t){return new _u(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sf(n,e){return Ud(Ao(n),Ao(e))&&n.limitType===e.limitType}function W0(n){return`${Dc(Ao(n))}|lt:${n.limitType}`}function Tv(n){return`Query(target=${function $0(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Vd(r.value)}`;var r}).join(", ")}]`),wc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Vd(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Vd(t)).join(",")),`Target(${e})`}(Ao(n))}; limitType=${n.limitType})`}function Av(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):tt.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,d){const m=ID(o,u,d);return o.inclusive?m<=0:m<0}(t.startAt,Gd(t),r)||t.endAt&&!function(o,u,d){const m=ID(o,u,d);return o.inclusive?m>=0:m>0}(t.endAt,Gd(t),r)));var t,r}function q0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function zd(n){return(e,t)=>{let r=!1;for(const o of Gd(n)){const u=K0(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function K0(n,e,t){const r=n.field.isKeyField()?tt.comparator(e.key,t.key):function(o,u,d){const m=u.data.field(o),b=d.data.field(o);return null!==m&&null!==b?pl(m,b):pt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return pt()}}function Sv(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ef(e)?"-0":e}}function xv(n){return{integerValue:""+n}}function Mv(n,e){return N0(e)?xv(e):Sv(n,e)}class xf{constructor(){this._=void 0}}function Z0(n,e,t){return n instanceof Wd?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Sc?Y0(n,e):n instanceof xc?qd(n,e):function(r,o){const u=kv(r,o),d=Sg(u)+Sg(r.k);return Df(u)&&Df(r.k)?xv(d):Sv(r.M,d)}(n,e)}function CD(n,e,t){return n instanceof Sc?Y0(n,e):n instanceof xc?qd(n,e):t}function kv(n,e){return n instanceof Kd?Df(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Wd extends xf{}class Sc extends xf{constructor(e){super(),this.elements=e}}function Y0(n,e){const t=Xo(e);for(const r of n.elements)t.some(o=>Jo(o,r))||t.push(r);return{arrayValue:{values:t}}}class xc extends xf{constructor(e){super(),this.elements=e}}function qd(n,e){let t=Xo(e);for(const r of n.elements)t=t.filter(o=>!Jo(o,r));return{arrayValue:{values:t}}}class Kd extends xf{constructor(e,t){super(),this.M=e,this.k=t}}function Sg(n){return _r(n.integerValue||n.doubleValue)}function Xo(n){return Ec(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Mf{constructor(e,t){this.field=e,this.transform=t}}class kf{constructor(e,t){this.version=e,this.transformResults=t}}class jr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jr}static exists(e){return new jr(void 0,e)}static updateTime(e){return new jr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Mg{}function kg(n,e,t){n instanceof Yd?function(r,o,u){const d=r.value.clone(),m=J0(r.fieldTransforms,o,u.transformResults);d.setAll(m),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof wu?function(r,o,u){if(!xg(r.precondition,o))return void o.convertToUnknownDocument(u.version);const d=J0(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(Ov(r)),m.setAll(d),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Zd(n,e,t){var o;n instanceof Yd?function(r,o,u){if(!xg(r.precondition,o))return;const d=r.value.clone(),m=X0(r.fieldTransforms,u,o);d.setAll(m),o.convertToFoundDocument(Pv(o),d).setHasLocalMutations()}(n,e,t):n instanceof wu?function(r,o,u){if(!xg(r.precondition,o))return;const d=X0(r.fieldTransforms,u,o),m=o.data;m.setAll(Ov(r)),m.setAll(d),o.convertToFoundDocument(Pv(o),m).setHasLocalMutations()}(n,e,t):xg(n.precondition,o=e)&&o.convertToNoDocument(At.min())}function TD(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=kv(r.transform,o||null);null!=u&&(null==t&&(t=ji.empty()),t.set(r.field,u))}return t||null}function Q0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&vc(t,r,(o,u)=>function Rv(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Sc&&r instanceof Sc||t instanceof xc&&r instanceof xc?vc(t.elements,r.elements,Jo):t instanceof Kd&&r instanceof Kd?Jo(t.k,r.k):t instanceof Wd&&r instanceof Wd);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Pv(n){return n.isFoundDocument()?n.version:At.min()}class Yd extends Mg{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class wu extends Mg{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}}function Ov(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function J0(n,e,t){const r=new Map;jt(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],d=u.transform,m=e.data.field(u.field);r.set(u.field,CD(d,m,t[o]))}return r}function X0(n,e,t){const r=new Map;for(const o of n){const u=o.transform,d=t.data.field(o.field);r.set(o.field,Z0(u,d,e))}return r}class Rg extends Mg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Rf extends Mg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Nv{constructor(e){this.count=e}}var Ar,an;function Pg(n){switch(n){default:return pt();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function eb(n){if(void 0===n)return Br("GRPC error has no .code"),_e.UNKNOWN;switch(n){case Ar.OK:return _e.OK;case Ar.CANCELLED:return _e.CANCELLED;case Ar.UNKNOWN:return _e.UNKNOWN;case Ar.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Ar.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Ar.INTERNAL:return _e.INTERNAL;case Ar.UNAVAILABLE:return _e.UNAVAILABLE;case Ar.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Ar.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Ar.NOT_FOUND:return _e.NOT_FOUND;case Ar.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Ar.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Ar.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Ar.ABORTED:return _e.ABORTED;case Ar.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Ar.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Ar.DATA_LOSS:return _e.DATA_LOSS;default:return pt()}}(an=Ar||(Ar={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";class gl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cl(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return k0(this.inner)}size(){return this.innerSize}}class Sr{constructor(e,t){this.comparator=e,this.root=t||di.EMPTY}insert(e,t){return new Sr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,di.BLACK,null,null))}remove(e){return new Sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,di.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Og(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Og(this.root,e,this.comparator,!1)}getReverseIterator(){return new Og(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Og(this.root,e,this.comparator,!0)}}class Og{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class di{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=null!=r?r:di.RED,this.left=null!=o?o:di.EMPTY,this.right=null!=u?u:di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new di(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return di.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const e=this.left.check();if(e!==this.right.check())throw pt();return e+(this.isRed()?0:1)}}di.EMPTY=null,di.RED=!0,di.BLACK=!1,di.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new di(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zn{constructor(e){this.comparator=e,this.data=new Sr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fv(this.data.getIterator())}getIteratorFrom(e){return new Fv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof zn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zn(this.comparator);return t.data=e,t}}class Fv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Qd(n){return n.hasNext()?n.getNext():void 0}const tb=new Sr(tt.comparator);function qs(){return tb}const AD=new Sr(tt.comparator);function Ng(){return AD}function Jd(){return new gl(n=>n.toString(),(n,e)=>n.isEqual(e))}const SD=new Sr(tt.comparator),nb=new zn(tt.comparator);function Tn(...n){let e=nb;for(const t of n)e=e.add(t);return e}const cs=new zn(Jt);function bu(){return cs}class Pf{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Of.createSynthesizedTargetChangeForCurrentChange(e,t)),new Pf(At.min(),r,bu(),qs(),Tn())}}class Of{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Of(Ur.EMPTY_BYTE_STRING,t,Tn(),Tn(),Tn())}}class Lv{constructor(e,t,r,o){this.O=e,this.removedTargetIds=t,this.key=r,this.F=o}}class Xd{constructor(e,t){this.targetId=e,this.$=t}}class rb{constructor(e,t,r=Ur.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Fg{constructor(){this.B=0,this.L=ib(),this.U=Ur.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Tn(),t=Tn(),r=Tn();return this.L.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:pt()}}),new Of(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=ib()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class xD{constructor(e){this.nt=e,this.st=new Map,this.it=qs(),this.rt=Vv(),this.ot=new zn(Jt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:pt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.$.count,o=this.wt(t);if(o){const u=o.target;if(jd(u))if(0===r){const d=new tt(u.path);this.ct(t,d,ar.newNoDocument(d,At.min()))}else jt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,d)=>{const m=this.wt(d);if(m){if(u.current&&jd(m.target)){const b=new tt(m.target.path);null!==this.it.get(b)||this.It(d,b)||this.ct(d,b,ar.newNoDocument(b,e))}u.j&&(t.set(d,u.H()),u.J())}});let r=Tn();this.rt.forEach((u,d)=>{let m=!0;d.forEachWhile(b=>{const A=this.wt(b);return!A||2===A.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.it.forEach((u,d)=>d.setReadTime(e));const o=new Pf(e,t,this.ot,this.it,r);return this.it=qs(),this.rt=Vv(),this.ot=new zn(Jt),o}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Fg,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new zn(Jt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||$e("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Fg),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Vv(){return new Sr(tt.comparator)}function ib(){return new Sr(tt.comparator)}const MD={asc:"ASCENDING",desc:"DESCENDING"},Bv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class sb{constructor(e,t){this.databaseId=e,this.N=t}}function eh(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nf(n,e){return n.N?e.toBase64():e.toUint8Array()}function Uv(n,e){return eh(n,e.toTimestamp())}function Ci(n){return jt(!!n),At.fromTimestamp(function(e){const t=hl(e);return new Tr(t.seconds,t.nanos)}(n))}function Lg(n,e){return(t=n,new pn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ob(n){const e=pn.fromString(n);return jt(Hv(e)),e}function th(n,e){return Lg(n.databaseId,e.path)}function Ks(n,e){const t=ob(e);if(t.get(1)!==n.databaseId.projectId)throw new Le(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Le(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tt(Bg(t))}function Vg(n,e){return Lg(n.databaseId,e)}function ab(n){const e=ob(n);return 4===e.length?pn.emptyPath():Bg(e)}function Mc(n){return new pn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Bg(n){return jt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function kD(n,e,t){return{name:th(n,e),fields:t.value.mapValue.fields}}function ub(n,e,t){const r=Ks(n,e.name),o=Ci(e.updateTime),u=new ji({mapValue:{fields:e.fields}}),d=ar.newFoundDocument(r,o,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function nh(n,e){let t;if(e instanceof Yd)t={update:kD(n,e.key,e.value)};else if(e instanceof Rg)t={delete:th(n,e.key)};else if(e instanceof wu)t={update:kD(n,e.key,e.data),updateMask:EA(e.fieldMask)};else{if(!(e instanceof Rf))return pt();t={verify:th(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof Wd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Sc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof xc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Kd)return{fieldPath:u.field.canonicalString(),increment:d.k};throw pt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Uv(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:pt()),t;var o}function jv(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?jr.updateTime(Ci(o.updateTime)):void 0!==o.exists?jr.exists(o.exists):jr.none():jr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,d){let m=null;"setToServerValue"in d?(jt("REQUEST_TIME"===d.setToServerValue),m=new Wd):"appendMissingElements"in d?m=new Sc(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new xc(d.removeAllFromArray.values||[]):"increment"in d?m=new Kd(u,d.increment):pt();const b=li.fromServerFormat(d.fieldPath);return new Mf(b,m)}(n,o)):[];var o;if(e.update){const o=Ks(n,e.update.name),u=new ji({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new dl((e.updateMask.fieldPaths||[]).map(A=>li.fromServerFormat(A)));return new wu(o,u,d,t,r)}return new Yd(o,u,t,r)}if(e.delete){const o=Ks(n,e.delete);return new Rg(o,t)}if(e.verify){const o=Ks(n,e.verify);return new Rf(o,t)}return pt()}function $v(n,e){return{documents:[Vg(n,e.path)]}}function db(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Vg(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Vg(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(b){if(0===b.length)return;const A=b.map(O=>function(N){if("=="===N.op){if(Ig(N.value))return{unaryFilter:{field:kc(N.field),op:"IS_NAN"}};if(_v(N.value))return{unaryFilter:{field:kc(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(Ig(N.value))return{unaryFilter:{field:kc(N.field),op:"IS_NOT_NAN"}};if(_v(N.value))return{unaryFilter:{field:kc(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kc(N.field),op:mb(N.op),value:N.value}}}(O));return 1===A.length?A[0]:{compositeFilter:{op:"AND",filters:A}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(b){if(0!==b.length)return b.map(A=>{return{field:kc((O=A).field),direction:gb(O.dir)};var O})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(A=e.limit,n.N||wc(A)?A:{value:A});var A,m,b;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(b=e.endAt).inclusive,values:b.position}),t}function hb(n){let e=ab(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){jt(1===r);const O=t.from[0];O.allDescendants?o=O.collectionId:e=e.child(O.collectionId)}let u=[];t.where&&(u=pb(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(O=>{return new Tc(Rc((N=O).field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let m=null;t.limit&&(m=function(O){let N;return N="object"==typeof O?O.value:O,wc(N)?null:N}(t.limit));let b=null;var O;t.startAt&&(b=new Ws((O=t.startAt).values||[],!!O.before));let A=null;return t.endAt&&(A=function(O){return new Ws(O.values||[],!O.before)}(t.endAt)),DD(e,o,d,u,m,"F",b,A)}function pb(n){return n?void 0!==n.unaryFilter?[OD(n)]:void 0!==n.fieldFilter?[PD(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>pb(e)).reduce((e,t)=>e.concat(t)):pt():[]}function gb(n){return MD[n]}function mb(n){return Bv[n]}function kc(n){return{fieldPath:n.canonicalString()}}function Rc(n){return li.fromServerFormat(n.fieldPath)}function PD(n){return ci.create(Rc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(n.fieldFilter.op),n.fieldFilter.value)}function OD(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Rc(n.unaryFilter.field);return ci.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Rc(n.unaryFilter.field);return ci.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Rc(n.unaryFilter.field);return ci.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Rc(n.unaryFilter.field);return ci.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}function EA(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Hv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Cs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ND(e)),e=IA(n.get(t),e);return ND(e)}function IA(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function ND(n){return n+"\x01\x01"}function Eu(n){const e=n.length;if(jt(e>=2),2===e)return jt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),pn.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&pt(),n.charAt(d+1)){case"\x01":const m=n.substring(u,d);let b;0===o.length?b=m:(o+=m,b=o,o=""),r.push(b);break;case"\x10":o+=n.substring(u,d),o+="\0";break;case"\x11":o+=n.substring(u,d+1);break;default:pt()}u=d+2}return new pn(r)}const FD=["userId","batchId"];function Gv(n,e){return[n,Cs(e)]}function LD(n,e,t){return[n,Cs(e),t]}const DA={},Ug=["prefixPath","collectionGroup","readTime","documentId"],CA=["prefixPath","collectionGroup","documentId"],yb=["collectionGroup","readTime","prefixPath","documentId"],zv=["canonicalId","targetId"],vb=["targetId","path"],_b=["path","targetId"],TA=["collectionId","parent"],Wv=["indexId","uid"],wb=["uid","sequenceNumber"],VD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bb=["indexId","uid","orderedDocumentKey"],AA=["userId","collectionPath","documentId"],BD=["userId","collectionPath","largestBatchId"],UD=["userId","collectionGroup","largestBatchId"],jg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jD=[...jg,"documentOverlays"],$D=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],SA=[...$D,"indexConfiguration","indexState","indexEntries"],HD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Eb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ie((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ie?t:Ie.resolve(t)}catch(t){return Ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ie.reject(t)}static resolve(e){return new Ie((t,r)=>{t(e)})}static reject(e){return new Ie((t,r)=>{r(e)})}static waitFor(e){return new Ie((t,r)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&t()},b=>r(b))}),d=!0,u===o&&t()})}static or(e){let t=Ie.resolve(!1);for(const r of e)t=t.next(o=>o?Ie.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}}class $g{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Di,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Pc(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=qv(r.target.error);this.At.reject(new Pc(e,o))}}static open(e,t,r,o){try{return new $g(t,e.transaction(o,r))}catch(u){throw new Pc(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||($e("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ea(t)}}class Na{constructor(e,t,r){this.name=e,this.version=t,this.bt=r,12.2===Na.Vt((0,nn.z$)())&&Br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return $e("SimpleDb","Removing database:",e),Nc(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,nn.hl)())return!1;if(Na.St())return!0;const e=(0,nn.z$)(),t=Na.Vt(e),r=0<t&&t<10,o=Na.Dt(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,Se.Z)(function*(){return t.db||($e("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{o(new Pc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const m=d.target.error;o("VersionError"===m.name?new Le(_e.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Le(_e.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Pc(e,m))},u.onupgradeneeded=d=>{$e("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.bt.kt(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{$e("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,Se.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.Nt(e);const b=$g.open(u.db,e,d?"readonly":"readwrite",r),A=o(b).next(O=>(b.Pt(),O)).catch(O=>(b.abort(O),Ie.reject(O))).toPromise();return A.catch(()=>{}),yield b.Rt,A}catch(b){const A="FirebaseError"!==b.name&&m<3;if($e("SimpleDb","Transaction failed with error:",b.message,"Retrying:",A),u.close(),!A)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class GD{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Nc(this.Ft.delete())}}class Pc extends Le{constructor(e,t){super(_e.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Oc(n){return"IndexedDbTransactionError"===n.name}class ea{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?($e("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Nc(r)}add(e){return $e("SimpleDb","ADD",this.store.name,e,e),Nc(this.store.add(e))}get(e){return Nc(this.store.get(e)).next(t=>(void 0===t&&(t=null),$e("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return $e("SimpleDb","DELETE",this.store.name,e),Nc(this.store.delete(e))}count(){return $e("SimpleDb","COUNT",this.store.name),Nc(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.Kt(o,(d,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new Ie((u,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Ie((o,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}Qt(e,t){$e("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Kt(o,(u,d,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Kt(o,t)}zt(e){const t=this.cursor({});return new Ie((r,o)=>{t.onerror=u=>{const d=qv(u.target.error);o(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}Kt(e,t){const r=[];return new Ie((o,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void o();const b=new GD(m),A=t(m.primaryKey,m.value,b);if(A instanceof Ie){const O=A.catch(N=>(b.done(),Ie.reject(N)));r.push(O)}b.isDone?o():null===b.Lt?m.continue():m.continue(b.Lt)}}).next(()=>Ie.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Nc(n){return new Ie((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=qv(r.target.error);t(o)}})}let Hg=!1;function qv(n){const e=Na.Vt((0,nn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Hg||(Hg=!0,setTimeout(()=>{throw r},0)),r}}return n}class Ib extends Eb{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function $r(n,e){const t=at(n);return Na.xt(t.Ht,e)}class Gg{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&kg(u,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Zd(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Zd(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(At.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Tn())}isEqual(e){return this.batchId===e.batchId&&vc(this.mutations,e.mutations,(t,r)=>Q0(t,r))&&vc(this.baseMutations,e.baseMutations,(t,r)=>Q0(t,r))}}class zg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){jt(e.mutations.length===r.length);let o=SD;const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new zg(e,t,r,o)}}class Kv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Iu{constructor(e,t,r,o,u=At.min(),d=At.min(),m=Ur.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new Iu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Db{constructor(e){this.Jt=e}}function Cb(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:rh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:th(o=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:eh(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Zs(e.version)};else{if(!e.isUnknownDocument())return pt();r.unknownDocument={path:t.path.toArray(),version:Zs(e.version)}}var o,u;return r}function rh(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Zs(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ml(n){const e=new Tr(n.seconds,n.nanoseconds);return At.fromTimestamp(e)}function Fc(n,e){const t=(e.baseMutations||[]).map(u=>jv(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>jv(n.Jt,u)),o=Tr.fromMillis(e.localWriteTimeMs);return new Gg(e.batchId,o,t,r)}function Ff(n){const e=ml(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ml(n.lastLimboFreeSnapshotVersion):At.min();let r;var o;return void 0!==n.query.documents?(jt(1===(o=n.query).documents.length),r=Ao(Ac(ab(o.documents[0])))):r=Ao(hb(n.query)),new Iu(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Ur.fromBase64String(n.resumeToken))}function WD(n,e){const t=Zs(e.snapshotVersion),r=Zs(e.lastLimboFreeSnapshotVersion);let o;o=jd(e.target)?$v(n.Jt,e.target):db(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Dc(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function Zv(n){const e=hb({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?z0(e,e.limit,"L"):e}function Yv(n,e){return new Kv(e.largestBatchId,jv(n.Jt,e.overlayMutation))}function Tb(n,e){const t=e.path.lastSegment();return[n,Cs(e.path.popLast()),t]}class Ab{getBundleMetadata(e,t){return Sb(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:ml(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return Sb(e).put({bundleId:(r=t).id,createTime:Zs(Ci(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return xb(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:Zv(o.bundledQuery),readTime:ml(o.readTime)};var o})}saveNamedQuery(e,t){return xb(e).put({name:(r=t).name,readTime:Zs(Ci(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Sb(n){return $r(n,"bundles")}function xb(n){return $r(n,"namedQueries")}class Mb{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Mb(e,t.uid||"")}getOverlay(e,t){return Lc(e).get(Tb(this.userId,t)).next(r=>r?Yv(this.M,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach((u,d)=>{const m=new Kv(t,d);o.push(this.Xt(e,m))}),Ie.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(Cs(d.getCollectionPath())));const u=[];return o.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(Lc(e).Qt("collectionPathOverlayIndex",m))}),Ie.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Jd(),u=Cs(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Lc(e).qt("collectionPathOverlayIndex",d).next(m=>{for(const b of m){const A=Yv(this.M,b);o.set(A.getKey(),A)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=Jd();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Lc(e).Wt({index:"collectionGroupOverlayIndex",range:m},(b,A,O)=>{const N=Yv(this.M,A);u.size()<o||N.largestBatchId===d?(u.set(N.getKey(),N),d=N.largestBatchId):O.done()}).next(()=>u)}Xt(e,t){return Lc(e).put(function(r,o,u){const[d,m,b]=Tb(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:b,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:nh(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function Lc(n){return $r(n,"documentOverlays")}class yl{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(_r(e.integerValue));else if("doubleValue"in e){const r=_r(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Ef(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(_c(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?Cg(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):pt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const o of Object.keys(r))this.re(o,t),this.te(r[o],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const o of r)this.te(o,t)}ae(e,t){this.ne(t,37),tt.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function qD(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function kb(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=qD(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}yl.fe=new yl;class Rb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const o=t.codePointAt(0);this._e(240|o>>>18),this._e(128|63&o>>>12),this._e(128|63&o>>>6),this._e(128|63&o)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const o=t.codePointAt(0);this.ge(240|o>>>18),this.ge(128|63&o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o)}}this.ye()}Te(e){const t=this.Ee(e),r=kb(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Re(e){const t=this.Ee(e),r=kb(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class Qv{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.Pe()}}class Jv{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class ih{constructor(){this.De=new Rb,this.Ce=new Qv(this.De),this.xe=new Jv(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class vl{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new vl(this.indexId,this.documentKey,this.arrayValue,r)}}function _l(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Xv(n.arrayValue,e.arrayValue),0!==t?t:(t=Xv(n.directionalValue,e.directionalValue),0!==t?t:tt.comparator(n.documentKey,e.documentKey)))}function Xv(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class KD{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=Bd(e);if(void 0!==t&&!this.Be(t))return!1;const r=Ic(e);let o=0,u=0;for(;o<r.length&&this.Be(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Fe){const d=r[o];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[u++],d))return!1;++o}for(;o<r.length;++o){const d=r[o];if(u>=this.Me.length||!this.Ue(this.Me[u++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class ZD{constructor(){this.qe=new Pb}addToCollectionParentIndex(e,t){return this.qe.add(t),Ie.resolve()}getCollectionParents(e,t){return Ie.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Ie.resolve()}deleteFieldIndex(e,t){return Ie.resolve()}getDocumentsMatchingTarget(e,t){return Ie.resolve(null)}getFieldIndex(e,t){return Ie.resolve(null)}getFieldIndexes(e,t){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}updateCollectionGroup(e,t,r){return Ie.resolve()}updateIndexEntries(e,t){return Ie.resolve()}}class Pb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new zn(pn.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new zn(pn.comparator)).toArray()}}const Lf=new Uint8Array(0);class Ob{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new Pb,this.Ge=new gl(r=>Dc(r),(r,o)=>Ud(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const u={collectionId:r,parent:Cs(o)};return Nb(e).put(u)}return Ie.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[x0(t),""],!1,!0);return Nb(e).qt(o).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(Eu(d.parent))}return r})}addFieldIndex(e,t){const r=Wg(e),o={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var u;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=Wg(e),o=e_(e),u=Vf(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Vf(e);let o=!0;const u=new Map;return Ie.forEach(this.Qe(t),d=>this.getFieldIndex(e,d).next(m=>{o&&(o=!!m),u.set(d,m)})).next(()=>{if(o){let d=Tn();const m=[];return Ie.forEach(u,(b,A)=>{var O;$e("IndexedDbIndexManager",`Using index ${O=b,`id=${O.indexId}|cg=${O.collectionGroup}|f=${O.fields.map(dn=>`${dn.fieldPath}:${dn.kind}`).join(",")}`} to execute ${Dc(t)}`);const N=function(dn,en){const cn=Bd(en);if(void 0===cn)return null;for(const kn of Cc(dn,cn.fieldPath))switch(kn.op){case"array-contains-any":return kn.value.arrayValue.values||[];case"array-contains":return[kn.value]}return null}(A,b),J=function(dn,en){const cn=new Map;for(const kn of Ic(en))for(const As of Cc(dn,kn.fieldPath))switch(As.op){case"==":case"in":cn.set(kn.fieldPath.canonicalString(),As.value);break;case"not-in":case"!=":return cn.set(kn.fieldPath.canonicalString(),As.value),Array.from(cn.values())}return null}(A,b),ie=function(dn,en){const cn=[];let kn=!0;for(const As of Ic(en)){const ip=0===As.kind?$d(dn,As.fieldPath,dn.startAt):H0(dn,As.fieldPath,dn.startAt);if(!ip.value)return null;cn.push(ip.value),kn&&(kn=ip.inclusive)}return new Ws(cn,kn)}(A,b),be=function(dn,en){const cn=[];let kn=!0;for(const As of Ic(en)){const ip=0===As.kind?H0(dn,As.fieldPath,dn.endAt):$d(dn,As.fieldPath,dn.endAt);if(!ip.value)return null;cn.push(ip.value),kn&&(kn=ip.inclusive)}return new Ws(cn,kn)}(A,b),Ke=this.je(b,A,ie),vt=this.je(b,A,be),un=this.We(b,A,J),ln=this.ze(b.indexId,N,Ke,!!ie&&ie.inclusive,vt,!!be&&be.inclusive,un);return Ie.forEach(ln,dn=>r.Gt(dn,t.limit).next(en=>{en.forEach(cn=>{const kn=tt.fromSegments(cn.documentKey);d.has(kn)||(d=d.add(kn),m.push(kn))})}))}).next(()=>m)}return Ie.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}ze(e,t,r,o,u,d,m){const b=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=u?u.length:1),A=b/(null!=t?t.length:1),O=[];for(let N=0;N<b;++N){const J=t?this.He(t[N/A]):Lf,ie=r?this.Je(e,J,r[N%A],o):this.Ye(e),be=u?this.Xe(e,J,u[N%A],d):this.Ye(e+1);O.push(...this.createRange(ie,be,m.map(Ke=>this.Je(e,J,Ke,!0))))}return O}Je(e,t,r,o){const u=new vl(e,tt.empty(),t,r);return o?u:u.ke()}Xe(e,t,r,o){const u=new vl(e,tt.empty(),t,r);return o?u.ke():u}Ye(e){return new vl(e,tt.empty(),Lf,Lf)}getFieldIndex(e,t){const r=new KD(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{const d=u.filter(m=>r.$e(m));return d.sort((m,b)=>b.fields.length-m.fields.length),d.length>0?d[0]:null})}Ze(e,t){const r=new ih;for(const o of Ic(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const d=r.Ne(o.kind);yl.fe.Zt(u,d)}return r.Se()}He(e){const t=new ih;return yl.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new ih;return yl.fe.Zt(bc(this.databaseId,t),r.Ne(function(o){const u=Ic(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.Se()}We(e,t,r){if(null===r)return[];let o=[];o.push(new ih);let u=0;for(const d of Ic(e)){const m=r[u++];for(const b of o)if(this.en(t,d.fieldPath)&&Ec(m))o=this.nn(o,d,m);else{const A=b.Ne(d.kind);yl.fe.Zt(m,A)}}return this.sn(o)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const o=[...e],u=[];for(const d of r.arrayValue.values||[])for(const m of o){const b=new ih;b.seed(m.Se()),yl.fe.Zt(d,b.Ne(t.kind)),u.push(b)}return u}en(e,t){return!!e.filters.find(r=>r instanceof ci&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Wg(e),o=e_(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const d=[];return Ie.forEach(u,m=>o.get([m.indexId,this.uid]).next(b=>{d.push(function(A,O){const N=O?new vu(O.sequenceNumber,new Oa(ml(O.readTime),new tt(Eu(O.documentKey)),O.largestBatchId)):vu.empty(),J=A.fields.map(([ie,be])=>new yu(li.fromServerFormat(ie),be));return new Tg(A.indexId,A.collectionGroup,J,N)}(m,b))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:Jt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Wg(e),u=e_(e);return this.rn(e).next(d=>o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>Ie.forEach(m,b=>{return u.put({indexId:b.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:Zs((J=r).readTime),documentKey:Cs(J.documentKey.path),largestBatchId:J.largestBatchId});var J})))}updateIndexEntries(e,t){const r=new Map;return Ie.forEach(t,(o,u)=>{const d=r.get(o.collectionGroup);return(d?Ie.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),Ie.forEach(m,b=>this.on(e,o,b).next(A=>{const O=this.un(u,b);return A.isEqual(O)?Ie.resolve():this.an(e,u,b,A,O)}))))})}cn(e,t,r,o){return Vf(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,o){return Vf(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const o=Vf(e);let u=new zn(_l);return o.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(d,m)=>{u=u.add(new vl(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}un(e,t){let r=new zn(_l);const o=this.Ze(t,e);if(null==o)return r;const u=Bd(t);if(null!=u){const d=e.data.field(u.fieldPath);if(Ec(d))for(const m of d.arrayValue.values||[])r=r.add(new vl(t.indexId,e.key,this.He(m),o))}else r=r.add(new vl(t.indexId,e.key,Lf,o));return r}an(e,t,r,o,u){$e("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,b,A,O,N){const J=m.getIterator(),ie=b.getIterator();let be=Qd(J),Ke=Qd(ie);for(;be||Ke;){let vt=!1,un=!1;if(be&&Ke){const ln=A(be,Ke);ln<0?un=!0:ln>0&&(vt=!0)}else null!=be?un=!0:vt=!0;vt?(O(Ke),Ke=Qd(ie)):un?(N(be),be=Qd(J)):(be=Qd(J),Ke=Qd(ie))}}(o,u,_l,m=>{d.push(this.cn(e,t,r,m))},m=>{d.push(this.hn(e,t,r,m))}),Ie.waitFor(d)}rn(e){let t=1;return e_(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>_l(d,m)).filter((d,m,b)=>!m||0!==_l(d,b[m-1]));const o=[];o.push(e);for(const d of r){const m=_l(d,e),b=_l(d,t);if(0===m)o[0]=e.ke();else if(m>0&&b<0)o.push(d),o.push(d.ke());else if(b>0)break}o.push(t);const u=[];for(let d=0;d<o.length;d+=2)u.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,Lf,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,Lf,[]]));return u}}function Nb(n){return $r(n,"collectionParents")}function Vf(n){return $r(n,"indexEntries")}function Wg(n){return $r(n,"indexConfiguration")}function e_(n){return $r(n,"indexState")}const YD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ys{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ys(e,Ys.DEFAULT_COLLECTION_PERCENTILE,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function QD(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let m=0;const b=r.Wt({range:d},(O,N,J)=>(m++,J.delete()));u.push(b.next(()=>{jt(1===m)}));const A=[];for(const O of t.mutations){const N=LD(e,O.key.path,t.batchId);u.push(o.delete(N)),A.push(O.key)}return Ie.waitFor(u).next(()=>A)}function t_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw pt();e=n.noDocument}return JSON.stringify(e).length}Ys.DEFAULT_COLLECTION_PERCENTILE=10,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ys.DEFAULT=new Ys(41943040,Ys.DEFAULT_COLLECTION_PERCENTILE,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ys.DISABLED=new Ys(-1,0,0);class n_{constructor(e,t,r,o){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=o,this.ln={}}static Yt(e,t,r,o){jt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new n_(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wl(e).Wt({index:"userMutationsIndex",range:r},(o,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=sh(e),d=wl(e);return d.add({}).next(m=>{jt("number"==typeof m);const b=new Gg(m,t,r,o),A=function(J,ie,be){const Ke=be.baseMutations.map(un=>nh(J.Jt,un)),vt=be.mutations.map(un=>nh(J.Jt,un));return{userId:ie,batchId:be.batchId,localWriteTimeMs:be.localWriteTime.toMillis(),baseMutations:Ke,mutations:vt}}(this.M,this.userId,b),O=[];let N=new zn((J,ie)=>Jt(J.canonicalString(),ie.canonicalString()));for(const J of o){const ie=LD(this.userId,J.key.path,m);N=N.add(J.key.path.popLast()),O.push(d.put(A)),O.push(u.put(ie,DA))}return N.forEach(J=>{O.push(this.indexManager.addToCollectionParentIndex(e,J))}),e.addOnCommittedListener(()=>{this.ln[m]=b.keys()}),Ie.waitFor(O).next(()=>b)})}lookupMutationBatch(e,t){return wl(e).get(t).next(r=>r?(jt(r.userId===this.userId),Fc(this.M,r)):null)}fn(e,t){return this.ln[t]?Ie.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.ln[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return wl(e).Wt({index:"userMutationsIndex",range:o},(d,m,b)=>{m.userId===this.userId&&(jt(m.batchId>=r),u=Fc(this.M,m)),b.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return wl(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(o,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wl(e).qt("userMutationsIndex",t).next(r=>r.map(o=>Fc(this.M,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Gv(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return sh(e).Wt({range:o},(d,m,b)=>{const[A,O,N]=d,J=Eu(O);if(A===this.userId&&t.path.isEqual(J))return wl(e).get(N).next(ie=>{if(!ie)throw pt();jt(ie.userId===this.userId),u.push(Fc(this.M,ie))});b.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new zn(Jt);const o=[];return t.forEach(u=>{const d=Gv(this.userId,u.path),m=IDBKeyRange.lowerBound(d),b=sh(e).Wt({range:m},(A,O,N)=>{const[J,ie,be]=A,Ke=Eu(ie);J===this.userId&&u.path.isEqual(Ke)?r=r.add(be):N.done()});o.push(b)}),Ie.waitFor(o).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=Gv(this.userId,r),d=IDBKeyRange.lowerBound(u);let m=new zn(Jt);return sh(e).Wt({range:d},(b,A,O)=>{const[N,J,ie]=b,be=Eu(J);N===this.userId&&r.isPrefixOf(be)?be.length===o&&(m=m.add(ie)):O.done()}).next(()=>this.dn(e,m))}dn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(wl(e).get(u).next(d=>{if(null===d)throw pt();jt(d.userId===this.userId),r.push(Fc(this.M,d))}))}),Ie.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return QD(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Ie.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Ie.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return sh(e).Wt({range:r},(u,d,m)=>{if(u[0]===this.userId){const b=Eu(u[1]);o.push(b)}else m.done()}).next(()=>{jt(0===o.length)})})}containsKey(e,t){return Bf(e,this.userId,t)}wn(e){return r_(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Bf(n,e,t){const r=Gv(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return sh(n).Wt({range:u,jt:!0},(m,b,A)=>{const[O,N,J]=m;O===e&&N===o&&(d=!0),A.done()}).next(()=>d)}function wl(n){return $r(n,"mutations")}function sh(n){return $r(n,"documentMutations")}function r_(n){return $r(n,"mutationQueues")}class Qs{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Qs(0)}static yn(){return new Qs(-1)}}class Fb{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Qs(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>At.fromTimestamp(new Tr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.In(e,o)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>bl(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(jt(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return bl(e).Wt((d,m)=>{const b=Ff(m);b.sequenceNumber<=t&&null===r.get(b.targetId)&&(o++,u.push(this.removeTargetData(e,b)))}).next(()=>Ie.waitFor(u)).next(()=>o)}forEachTarget(e,t){return bl(e).Wt((r,o)=>{const u=Ff(o);t(u)})}pn(e){return qg(e).get("targetGlobalKey").next(t=>(jt(null!==t),t))}In(e,t){return qg(e).put("targetGlobalKey",t)}Tn(e,t){return bl(e).put(WD(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Dc(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return bl(e).Wt({range:o,index:"queryTargetsIndex"},(d,m,b)=>{const A=Ff(m);Ud(t,A.target)&&(u=A,b.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=El(e);return t.forEach(d=>{const m=Cs(d.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,d))}),Ie.waitFor(o)}removeMatchingKeys(e,t,r){const o=El(e);return Ie.forEach(t,u=>{const d=Cs(u.path);return Ie.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=El(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=El(e);let u=Tn();return o.Wt({range:r,jt:!0},(d,m,b)=>{const A=Eu(d[1]),O=new tt(A);u=u.add(O)}).next(()=>u)}containsKey(e,t){const r=Cs(t.path),o=IDBKeyRange.bound([r],[x0(r)],!1,!0);let u=0;return El(e).Wt({index:"documentTargetsIndex",jt:!0,range:o},([d,m],b,A)=>{0!==d&&(u++,A.done())}).next(()=>u>0)}Et(e,t){return bl(e).get(t).next(r=>r?Ff(r):null)}}function bl(n){return $r(n,"targets")}function qg(n){return $r(n,"targetGlobal")}function El(n){return $r(n,"targetDocuments")}function Du(n){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,Se.Z)(function*(n){if(n.code!==_e.FAILED_PRECONDITION||n.message!==HD)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),Uf.apply(this,arguments)}function jf([n,e],[t,r]){const o=Jt(n,t);return 0===o?Jt(e,r):o}class xA{constructor(e){this.An=e,this.buffer=new zn(jf),this.Rn=0}Pn(){return++this.Rn}bn(e){const t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();jf(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class MA{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;$e("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Se.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){Oc(o)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Du(o)}yield t.Sn(e)}))}}class kA{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Ie.resolve(zs.A);const r=new xA(t);return this.Dn.forEachTarget(e,o=>r.bn(o.sequenceNumber)).next(()=>this.Dn.xn(e,o=>r.bn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(YD)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YD):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,o,u,d,m,b,A;const O=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,d=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(r=N,m=Date.now(),this.removeTargets(e,r,t))).next(N=>(u=N,b=Date.now(),this.removeOrphanedDocuments(e,r))).next(N=>(A=Date.now(),yc()<=fu.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-O}ms\n\tDetermined least recently used ${o} in `+(m-d)+`ms\n\tRemoved ${u} targets in `+(b-m)+`ms\n\tRemoved ${N} documents in `+(A-b)+`ms\nTotal Duration: ${A-O}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:N})))}}class RA{constructor(e,t){this.db=e,this.garbageCollector=new kA(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,o)=>t(o))}addReference(e,t,r){return $f(e,r)}removeReference(e,t,r){return $f(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return $f(e,t)}On(e,t){return function(r,o){let u=!1;return r_(r).zt(d=>Bf(r,d,o).next(m=>(m&&(u=!0),Ie.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Mn(e,(d,m)=>{if(m<=t){const b=this.On(e,d).next(A=>{if(!A)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,At.min()),El(e).delete([0,Cs(d.path)])))});o.push(b)}}).next(()=>Ie.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return $f(e,t)}Mn(e,t){const r=El(e);let o,u=zs.A;return r.Wt({index:"documentTargetsIndex"},([d,m],{path:b,sequenceNumber:A})=>{0===d?(u!==zs.A&&t(new tt(Eu(o)),u),u=A,o=b):u=zs.A}).next(()=>{u!==zs.A&&t(new tt(Eu(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $f(n,e){return El(n).put((r=n.currentSequenceNumber,{targetId:0,path:Cs(e.path),sequenceNumber:r}));var r}class Lb{constructor(){this.changes=new gl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ar.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class JD{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Il(e).put(r)}removeEntry(e,t,r){return Il(e).delete(function(o,u){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],rh(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=ar.newInvalidDocument(t);return Il(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(oh(t))},(o,u)=>{r=this.$n(t,u)}).next(()=>r)}Bn(e,t){let r={size:0,document:ar.newInvalidDocument(t)};return Il(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(oh(t))},(o,u)=>{r={document:this.$n(t,u),size:t_(u)}}).next(()=>r)}getEntries(e,t){let r=qs();return this.Ln(e,t,(o,u)=>{const d=this.$n(o,u);r=r.insert(o,d)}).next(()=>r)}Un(e,t){let r=qs(),o=new Sr(tt.comparator);return this.Ln(e,t,(u,d)=>{const m=this.$n(u,d);r=r.insert(u,m),o=o.insert(u,t_(d))}).next(()=>({documents:r,qn:o}))}Ln(e,t,r){if(t.isEmpty())return Ie.resolve();let o=new zn(Bb);t.forEach(b=>o=o.add(b));const u=IDBKeyRange.bound(oh(o.first()),oh(o.last())),d=o.getIterator();let m=d.getNext();return Il(e).Wt({index:"documentKeyIndex",range:u},(b,A,O)=>{const N=tt.fromSegments([...A.prefixPath,A.collectionGroup,A.documentId]);for(;m&&Bb(m,N)<0;)r(m,null),m=d.getNext();m&&m.isEqual(N)&&(r(m,A),m=d.hasNext()?d.getNext():null),m?O.Ut(oh(m)):O.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),rh(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Il(e).qt(IDBKeyRange.bound(o,u,!0)).next(d=>{let m=qs();for(const b of d){const A=this.$n(tt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);m=m.insert(A.key,A)}return m})}getAllFromCollectionGroup(e,t,r,o){let u=qs();const d=i_(t,r),m=i_(t,Oa.max());return Il(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(b,A,O)=>{const N=this.$n(tt.fromSegments(A.prefixPath.concat(A.collectionGroup,A.documentId)),A);u=u.insert(N.key,N),u.size===o&&O.done()}).next(()=>u)}newChangeBuffer(e){return new XD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Vb(e).get("remoteDocumentGlobalKey").next(t=>(jt(!!t),t))}Fn(e,t){return Vb(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function zD(n,e){let t;if(e.document)t=ub(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=tt.fromSegments(e.noDocument.path),o=ml(e.noDocument.readTime);t=ar.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return pt();{const r=tt.fromSegments(e.unknownDocument.path),o=ml(e.unknownDocument.version);t=ar.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Tr(r[0],r[1]);return At.fromTimestamp(o)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(At.min()))return r}return ar.newInvalidDocument(e)}}class XD extends Lb{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new gl(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new zn((u,d)=>Jt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const m=this.Gn.get(u);if(t.push(this.Kn.removeEntry(e,u,m.readTime)),d.isValidDocument()){const b=Cb(this.Kn.M,d);o=o.add(u.path.popLast()),r+=t_(b)-m.size,t.push(this.Kn.addEntry(e,u,b))}else if(r-=m.size,this.trackRemovals){const b=Cb(this.Kn.M,d.convertToNoDocument(At.min()));t.push(this.Kn.addEntry(e,u,b))}}),o.forEach(u=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Kn.updateMetadata(e,r)),Ie.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:o})=>(o.forEach((u,d)=>{this.Gn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function Vb(n){return $r(n,"remoteDocumentGlobal")}function Il(n){return $r(n,"remoteDocumentsV14")}function oh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function i_(n,e){const t=e.documentKey.path.toArray();return[n,rh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Bb(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=Jt(t[u],r[u]),o)return o;return o=Jt(t.length,r.length),o||(o=Jt(t[t.length-2],r[r.length-2]),o||Jt(t[t.length-1],r[r.length-1]))}class eC{constructor(e){this.M=e}kt(e,t,r,o){const u=new $g("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FD,{unique:!0}),m.createObjectStore("documentMutations"),s_(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=Ie.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),s_(e)),d=d.next(()=>function(m){const b=m.store("targetGlobal"),A={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:At.min().toTimestamp(),targetCount:0};return b.put("targetGlobalKey",A)}(u))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(m,b){return b.store("mutations").qt().next(A=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FD,{unique:!0});const O=b.store("mutations"),N=A.map(J=>O.put(J));return Ie.waitFor(N)})}(e,u))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.Qn(u))),r<6&&o>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.jn(u)))),r<7&&o>=7&&(d=d.next(()=>this.Wn(u))),r<8&&o>=8&&(d=d.next(()=>this.zn(e,u))),r<9&&o>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.Hn(u))),r<11&&o>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(m){const b=m.createObjectStore("documentOverlays",{keyPath:AA});b.createIndex("collectionPathOverlayIndex",BD,{unique:!1}),b.createIndex("collectionGroupOverlayIndex",UD,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(m){const b=m.createObjectStore("remoteDocumentsV14",{keyPath:Ug});b.createIndex("documentKeyIndex",CA),b.createIndex("collectionGroupIndex",yb)}(e)).next(()=>this.Jn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:Wv}).createIndex("sequenceNumberIndex",wb,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:VD}).createIndex("documentKeyIndex",bb,{unique:!1})}(e)})),d}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,o)=>{t+=t_(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(o=>Ie.forEach(o,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(m=>Ie.forEach(m,b=>{jt(b.userId===u.userId);const A=Fc(this.M,b);return QD(e,u.userId,A).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Wt((d,m)=>{const b=new pn(d),A=[0,Cs(b)];u.push(t.get(A).next(O=>O?Ie.resolve():t.put({targetId:0,path:Cs(b),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>Ie.waitFor(u))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:TA});const r=t.store("collectionParents"),o=new Pb,u=d=>{if(o.add(d)){const m=d.lastSegment(),b=d.popLast();return r.put({collectionId:m,parent:Cs(b)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,m)=>{const b=new pn(d);return u(b.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,m,b],A)=>{const O=Eu(m);return u(O.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,o)=>{const u=Ff(o),d=WD(this.M,u);return t.put(d)})}Jn(e,t){const r=t.store("remoteDocuments"),o=[];return r.Wt((u,d)=>{const m=t.store("remoteDocumentsV14"),b=(A=d,A.document?new tt(pn.fromString(A.document.name).popFirst(5)):A.noDocument?tt.fromSegments(A.noDocument.path):A.unknownDocument?tt.fromSegments(A.unknownDocument.path):pt()).path.toArray();var A;const O={prefixPath:b.slice(0,b.length-2),collectionGroup:b[b.length-2],documentId:b[b.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(m.put(O))}).next(()=>Ie.waitFor(o))}}function s_(n){n.createObjectStore("targetDocuments",{keyPath:vb}).createIndex("documentTargetsIndex",_b,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zv,{unique:!0}),n.createObjectStore("targetGlobal")}const Hf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ub{constructor(e,t,r,o,u,d,m,b,A,O,N=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=u,this.window=d,this.document=m,this.Xn=A,this.Zn=O,this.ts=N,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=J=>Promise.resolve(),!Ub.vt())throw new Le(_e.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new RA(this,o),this.hs=t+"main",this.M=new Db(b),this.ls=new Na(this.hs,this.ts,new eC(this.M)),this.fs=new Fb(this.referenceDelegate,this.M),this.ds=new JD(this.M),this._s=new Ab,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===O&&Br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(_e.FAILED_PRECONDITION,Hf);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new zs(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,Se.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Se.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Se.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>uh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.Ps(e).next(()=>!0))).catch(e=>{if(Oc(e))return $e("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return ah(e).get("owner").next(t=>Ie.resolve(this.bs(t)))}Vs(e){return uh(e).delete(this.clientId)}vs(){var e=this;return(0,Se.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=$r(r,"clientMetadata");return o.qt().next(u=>{const d=e.Ds(u,18e5),m=u.filter(b=>-1===d.indexOf(b));return Ie.forEach(m,b=>o.delete(b.clientId)).next(()=>m)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Ie.resolve(!0):ah(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Le(_e.FAILED_PRECONDITION,Hf);return!1}}return!(!this.networkEnabled||!this.inForeground)||uh(e).qt().next(r=>void 0===this.Ds(r,5e3).find(o=>{if(this.clientId!==o.clientId){const d=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&$e("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Se.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Ib(t,zs.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>uh(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return n_.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Ob(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return Mb.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){$e("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=14===(d=this.ts)?SA:13===d?$D:12===d?jD:11===d?jg:void pt();var d;let m;return this.ls.runTransaction(e,o,u,b=>(m=new Ib(b,this.es?this.es.next():zs.A),"readwrite-primary"===t?this.Es(m).next(A=>!!A||this.As(m)).next(A=>{if(!A)throw Br(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Le(_e.FAILED_PRECONDITION,HD);return r(m)}).next(A=>this.Ps(m).next(()=>A)):this.$s(m).next(()=>r(m)))).then(b=>(m.raiseOnCommittedEvent(),b))}$s(e){return ah(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.bs(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Le(_e.FAILED_PRECONDITION,Hf)})}Ps(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ah(e).put("owner",t)}static vt(){return Na.vt()}Rs(e){const t=ah(e);return t.get("owner").next(r=>this.bs(r)?($e("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ie.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(Br(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,nn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return $e("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Br("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Br("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ah(n){return $r(n,"owner")}function uh(n){return $r(n,"clientMetadata")}function o_(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class tC{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(o=>{for(const u of r)u.applyToLocalView(o);return o})}qs(e,t){e.forEach((r,o)=>{for(const u of t)u.applyToLocalView(o)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return tt.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.js(e,t.path):Cv(t)?this.Ws(e,t,r):this.zs(e,t,r);var o}js(e,t){return this.Ls(e,new tt(t)).next(r=>{let o=Ng();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Ws(e,t,r){const o=t.collectionGroup;let u=Ng();return this.indexManager.getCollectionParents(e,o).next(d=>Ie.forEach(d,m=>{const b=(A=t,O=m.child(o),new _u(O,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt));var A,O;return this.zs(e,b,r).next(A=>{A.forEach((O,N)=>{u=u.insert(O,N)})})}).next(()=>u))}zs(e,t,r){let o;return this.ds.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const d of u)for(const m of d.mutations){const b=m.key;let A=o.get(b);null==A&&(A=ar.newInvalidDocument(b),o=o.insert(b,A)),Zd(m,A,d.localWriteTime),A.isFoundDocument()||(o=o.remove(b))}}).next(()=>(o.forEach((u,d)=>{Av(t,d)||(o=o.remove(u))}),o))}}class jb{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=o}static Ys(e,t){let r=Tn(),o=Tn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new jb(e,t.fromCache,r,o)}}class nC{Xs(e){this.Zs=e}Qs(e,t,r,o){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(At.min())?this.ti(e,t):this.Zs.Ks(e,o).next(u=>{const d=this.ei(t,u);return(Iv(t)||Tf(t))&&this.ni(t.limitType,d,o,r)?this.ti(e,t):(yc()<=fu.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Tv(t)),this.Zs.Qs(e,t,U0(r,-1)).next(m=>(d.forEach(b=>{m=m.insert(b.key,b)}),m)))});var u}ei(e,t){let r=new zn(zd(e));return t.forEach((o,u)=>{Av(e,u)&&(r=r.add(u))}),r}ni(e,t,r,o){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ti(e,t){return yc()<=fu.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",Tv(t)),this.Zs.Qs(e,t,Oa.min())}}class rC{constructor(e,t,r,o){this.persistence=e,this.si=t,this.M=o,this.ii=new Sr(Jt),this.ri=new gl(u=>Dc(u),Ud),this.oi=new Map,this.ui=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new tC(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ii))}}function $b(n,e,t,r){return new rC(n,e,t,r)}function iC(n,e){return Hb.apply(this,arguments)}function Hb(){return Hb=(0,Se.Z)(function*(n,e){const t=at(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.Bs.getAllMutationBatches(r).next(u=>(o=u,t.ai(e),t.Bs.getAllMutationBatches(r))).next(u=>{const d=[],m=[];let b=Tn();for(const A of o){d.push(A.batchId);for(const O of A.mutations)b=b.add(O.key)}for(const A of u){m.push(A.batchId);for(const O of A.mutations)b=b.add(O.key)}return t.ci.Ks(r,b).next(A=>({hi:A,removedBatchIds:d,addedBatchIds:m}))})})}),Hb.apply(this,arguments)}function PA(n,e){const t=at(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.ui.newChangeBuffer({trackRemovals:!0});return function(d,m,b,A){const O=b.batch,N=O.keys();let J=Ie.resolve();return N.forEach(ie=>{J=J.next(()=>A.getEntry(m,ie)).next(be=>{const Ke=b.docVersions.get(ie);jt(null!==Ke),be.version.compareTo(Ke)<0&&(O.applyToRemoteDocument(be,b),be.isValidDocument()&&(be.setReadTime(b.commitVersion),A.addEntry(be)))})}),J.next(()=>d.Bs.removeMutationBatch(m,O))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.ci.Ks(r,o))})}function sC(n){const e=at(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function OA(n,e){const t=at(n),r=e.snapshotVersion;let o=t.ii;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.ui.newChangeBuffer({trackRemovals:!0});o=t.ii;const m=[];e.targetChanges.forEach((A,O)=>{const N=o.get(O);if(!N)return;m.push(t.fs.removeMatchingKeys(u,A.removedDocuments,O).next(()=>t.fs.addMatchingKeys(u,A.addedDocuments,O)));let J=N.withSequenceNumber(u.currentSequenceNumber);var ie,be,Ke;e.targetMismatches.has(O)?J=J.withResumeToken(Ur.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):A.resumeToken.approximateByteSize()>0&&(J=J.withResumeToken(A.resumeToken,r)),o=o.insert(O,J),be=J,Ke=A,(0===(ie=N).resumeToken.approximateByteSize()||be.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=3e8||Ke.addedDocuments.size+Ke.modifiedDocuments.size+Ke.removedDocuments.size>0)&&m.push(t.fs.updateTargetData(u,J))});let b=qs();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,A))}),m.push(Gb(u,d,e.documentUpdates).next(A=>{b=A})),!r.isEqual(At.min())){const A=t.fs.getLastRemoteSnapshotVersion(u).next(O=>t.fs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(A)}return Ie.waitFor(m).next(()=>d.apply(u)).next(()=>t.ci.Gs(u,b)).next(()=>b)}).then(u=>(t.ii=o,u))}function Gb(n,e,t){let r=Tn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=qs();return t.forEach((d,m)=>{const b=o.get(d);m.isNoDocument()&&m.version.isEqual(At.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!b.isValidDocument()||m.version.compareTo(b.version)>0||0===m.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):$e("LocalStore","Ignoring outdated watch update for ",d,". Current version:",b.version," Watch version:",m.version)}),u})}function NA(n,e){const t=at(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Gf(n,e){const t=at(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.fs.getTargetData(r,e).next(u=>u?(o=u,Ie.resolve(o)):t.fs.allocateTargetId(r).next(d=>(o=new Iu(e,d,0,r.currentSequenceNumber),t.fs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.ii.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.ii=t.ii.insert(r.targetId,r),t.ri.set(e,r.targetId)),r})}function zf(n,e,t){return zb.apply(this,arguments)}function zb(){return zb=(0,Se.Z)(function*(n,e,t){const r=at(n),o=r.ii.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Oc(d))throw d;$e("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.ii=r.ii.remove(e),r.ri.delete(o.target)}),zb.apply(this,arguments)}function i(n,e,t){const r=at(n);let o=At.min(),u=Tn();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,b,A){const O=at(m),N=O.ri.get(A);return void 0!==N?Ie.resolve(O.ii.get(N)):O.fs.getTargetData(b,A)}(r,d,Ao(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(d,m.targetId).next(b=>{u=b})}).next(()=>r.si.Qs(d,e,t?o:At.min(),t?u:Tn())).next(m=>(l(r,q0(e),m),{documents:m,li:u})))}function s(n,e){const t=at(n),r=at(t.fs),o=t.ii.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(d=>d?d.target:null))}function a(n,e){const t=at(n),r=t.oi.get(e)||At.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.ui.getAllFromCollectionGroup(o,e,U0(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(l(t,e,o),o))}function l(n,e,t){let r=At.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.oi.set(e,r)}function h(){return h=(0,Se.Z)(function*(n,e,t,r){const o=at(n);let u=Tn(),d=qs();for(const A of t){const O=e.fi(A.metadata.name);A.document&&(u=u.add(O));const N=e.di(A);N.setReadTime(e._i(A.metadata.readTime)),d=d.insert(O,N)}const m=o.ui.newChangeBuffer({trackRemovals:!0}),b=yield Gf(o,(A=r,Ao(Ac(pn.fromString(`__bundle__/docs/${A}`)))));var A;return o.persistence.runTransaction("Apply bundle documents","readwrite",A=>Gb(A,m,d).next(O=>(m.apply(A),O)).next(O=>o.fs.removeMatchingKeysForTargetId(A,b.targetId).next(()=>o.fs.addMatchingKeys(A,u,b.targetId)).next(()=>o.ci.Gs(A,O)).next(()=>O)))}),h.apply(this,arguments)}function y(n,e){return _.apply(this,arguments)}function _(){return _=(0,Se.Z)(function*(n,e,t=Tn()){const r=yield Gf(n,Ao(Zv(e.bundledQuery))),o=at(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const d=Ci(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o._s.saveNamedQuery(u,e);const m=r.withResumeToken(Ur.EMPTY_BYTE_STRING,d);return o.ii=o.ii.insert(m.targetId,m),o.fs.updateTargetData(u,m).next(()=>o.fs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.fs.addMatchingKeys(u,t,r.targetId)).next(()=>o._s.saveNamedQuery(u,e))})}),_.apply(this,arguments)}class D{constructor(e){this.M=e,this.wi=new Map,this.mi=new Map}getBundleMetadata(e,t){return Ie.resolve(this.wi.get(t))}saveBundleMetadata(e,t){var r;return this.wi.set(t.id,{id:(r=t).id,version:r.version,createTime:Ci(r.createTime)}),Ie.resolve()}getNamedQuery(e,t){return Ie.resolve(this.mi.get(t))}saveNamedQuery(e,t){return this.mi.set(t.name,{name:(r=t).name,query:Zv(r.bundledQuery),readTime:Ci(r.readTime)}),Ie.resolve();var r}}class S{constructor(){this.overlays=new Sr(tt.comparator),this.gi=new Map}getOverlay(e,t){return Ie.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.Xt(e,t,u)}),Ie.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.gi.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.gi.delete(r)),Ie.resolve()}getOverlaysForCollection(e,t,r){const o=Jd(),u=t.length+1,d=new tt(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const b=m.getNext().value,A=b.getKey();if(!t.isPrefixOf(A.path))break;A.path.length===u&&b.largestBatchId>r&&o.set(b.getKey(),b)}return Ie.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new Sr((A,O)=>A-O);const d=this.overlays.getIterator();for(;d.hasNext();){const A=d.getNext().value;if(A.getKey().getCollectionGroup()===t&&A.largestBatchId>r){let O=u.get(A.largestBatchId);null===O&&(O=Jd(),u=u.insert(A.largestBatchId,O)),O.set(A.getKey(),A)}}const m=Jd(),b=u.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((A,O)=>m.set(A,O)),!(m.size()>=o)););return Ie.resolve(m)}Xt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);if(null!==o){const d=this.gi.get(o.largestBatchId).delete(r.key);this.gi.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Kv(t,r));let u=this.gi.get(t);void 0===u&&(u=Tn(),this.gi.set(t,u)),this.gi.set(t,u.add(r.key))}}class k{constructor(){this.yi=new zn(V.pi),this.Ii=new zn(V.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(e,t){const r=new V(e,t);this.yi=this.yi.add(r),this.Ii=this.Ii.add(r)}Ei(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ai(new V(e,t))}Ri(e,t){e.forEach(r=>this.removeReference(r,t))}Pi(e){const t=new tt(new pn([])),r=new V(t,e),o=new V(t,e+1),u=[];return this.Ii.forEachInRange([r,o],d=>{this.Ai(d),u.push(d.key)}),u}bi(){this.yi.forEach(e=>this.Ai(e))}Ai(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}Vi(e){const t=new tt(new pn([])),r=new V(t,e),o=new V(t,e+1);let u=Tn();return this.Ii.forEachInRange([r,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new V(e,0),r=this.yi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class V{constructor(e,t){this.key=e,this.vi=t}static pi(e,t){return tt.comparator(e.key,t.key)||Jt(e.vi,t.vi)}static Ti(e,t){return Jt(e.vi,t.vi)||tt.comparator(e.key,t.key)}}class Z{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.Si=1,this.Di=new zn(V.pi)}checkEmpty(e){return Ie.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,o){const u=this.Si;this.Si++;const d=new Gg(u,t,r,o);this.Bs.push(d);for(const m of o)this.Di=this.Di.add(new V(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Ie.resolve(d)}lookupMutationBatch(e,t){return Ie.resolve(this.Ci(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.xi(t+1),u=o<0?0:o;return Ie.resolve(this.Bs.length>u?this.Bs[u]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(e){return Ie.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new V(t,0),o=new V(t,Number.POSITIVE_INFINITY),u=[];return this.Di.forEachInRange([r,o],d=>{const m=this.Ci(d.vi);u.push(m)}),Ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new zn(Jt);return t.forEach(o=>{const u=new V(o,0),d=new V(o,Number.POSITIVE_INFINITY);this.Di.forEachInRange([u,d],m=>{r=r.add(m.vi)})}),Ie.resolve(this.Ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;tt.isDocumentKey(u)||(u=u.child(""));const d=new V(new tt(u),0);let m=new zn(Jt);return this.Di.forEachWhile(b=>{const A=b.key.path;return!!r.isPrefixOf(A)&&(A.length===o&&(m=m.add(b.vi)),!0)},d),Ie.resolve(this.Ni(m))}Ni(e){const t=[];return e.forEach(r=>{const o=this.Ci(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){jt(0===this.ki(t.batchId,"removed")),this.Bs.shift();let r=this.Di;return Ie.forEach(t.mutations,o=>{const u=new V(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Di=r})}_n(e){}containsKey(e,t){const r=new V(t,0),o=this.Di.firstAfterOrEqual(r);return Ie.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Ie.resolve()}ki(e,t){return this.xi(e)}xi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}Ci(e){const t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class ee{constructor(e){this.Mi=e,this.docs=new Sr(tt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,d=this.Mi(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ie.resolve(r?r.document.mutableCopy():ar.newInvalidDocument(t))}getEntries(e,t){let r=qs();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():ar.newInvalidDocument(o))}),Ie.resolve(r)}getAllFromCollection(e,t,r){let o=qs();const u=new tt(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:m,value:{document:b}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||mD(wA(b),r)<=0||(o=o.insert(b.key,b.mutableCopy()))}return Ie.resolve(o)}getAllFromCollectionGroup(e,t,r,o){pt()}Oi(e,t){return Ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Te(this)}getSize(e){return Ie.resolve(this.size)}}class Te extends Lb{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Kn.addEntry(e,o)):this.Kn.removeEntry(r)}),Ie.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class He{constructor(e){this.persistence=e,this.Fi=new gl(t=>Dc(t),Ud),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$i=0,this.Bi=new k,this.targetCount=0,this.Li=Qs.gn()}forEachTarget(e,t){return this.Fi.forEach((r,o)=>t(o)),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Li.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$i&&(this.$i=t),Ie.resolve()}Tn(e){this.Fi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Li=new Qs(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Ie.resolve()}updateTargetData(e,t){return this.Tn(t),Ie.resolve()}removeTargetData(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Fi.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Fi.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Ie.waitFor(u).next(()=>o)}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fi.get(t)||null;return Ie.resolve(r)}addMatchingKeys(e,t,r){return this.Bi.Ei(t,r),Ie.resolve()}removeMatchingKeys(e,t,r){this.Bi.Ri(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),Ie.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Bi.Pi(t),Ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Bi.Vi(t);return Ie.resolve(r)}containsKey(e,t){return Ie.resolve(this.Bi.containsKey(t))}}class nt{constructor(e,t){this.Ui={},this.overlays={},this.es=new zs(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new He(this),this.indexManager=new ZD,this.ds=new ee(r=>this.referenceDelegate.qi(r)),this.M=new Db(t),this._s=new D(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new S,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ui[e.toKey()];return r||(r=new Z(t,this.referenceDelegate),this.Ui[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){$e("MemoryPersistence","Starting transaction:",e);const o=new ht(this.es.next());return this.referenceDelegate.Ki(),r(o).next(u=>this.referenceDelegate.Gi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Qi(e,t){return Ie.or(Object.values(this.Ui).map(r=>()=>r.containsKey(e,t)))}}class ht extends Eb{constructor(e){super(),this.currentSequenceNumber=e}}class Re{constructor(e){this.persistence=e,this.ji=new k,this.Wi=null}static zi(e){return new Re(e)}get Hi(){if(this.Wi)return this.Wi;throw pt()}addReference(e,t,r){return this.ji.addReference(r,t),this.Hi.delete(r.toString()),Ie.resolve()}removeReference(e,t,r){return this.ji.removeReference(r,t),this.Hi.add(r.toString()),Ie.resolve()}markPotentiallyOrphaned(e,t){return this.Hi.add(t.toString()),Ie.resolve()}removeTarget(e,t){this.ji.Pi(t.targetId).forEach(o=>this.Hi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Hi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Ki(){this.Wi=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.Hi,r=>{const o=tt.fromPath(r);return this.Ji(e,o).next(u=>{u||t.removeEntry(o,At.min())})}).next(()=>(this.Wi=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ji(e,t).next(r=>{r?this.Hi.delete(t.toString()):this.Hi.add(t.toString())})}qi(e){return 0}Ji(e,t){return Ie.or([()=>Ie.resolve(this.ji.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Qi(e,t)])}}function Dt(n,e){return`firestore_clients_${n}_${e}`}function rn(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function wn(n,e){return`firestore_targets_${n}_${e}`}class $i{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Yi(e,t,r){const o=JSON.parse(r);let u,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new Le(o.error.code,o.error.message))),d?new $i(e,t,o.state,u):(Br("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ta{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Yi(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Le(r.error.code,r.error.message))),u?new ta(e,r.state,o):(Br("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Yi(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=bu();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=N0(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return o?new lh(e,u):(Br("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Wf{constructor(e,t){this.clientId=e,this.onlineState=t}static Yi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Wf(t.clientId,t.onlineState):(Br("SharedClientState",`Failed to parse online state: ${e}`),null)}}class qf{constructor(){this.activeTargetIds=bu()}Zi(e){this.activeTargetIds=this.activeTargetIds.add(e)}tr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kf{constructor(e,t,r,o,u){this.window=e,this.Yn=t,this.persistenceKey=r,this.er=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Sr(Jt),this.started=!1,this.rr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ur=Dt(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new qf),this.cr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Se.Z)(function*(){const t=yield e.syncEngine.Fs();for(const o of t){if(o===e.er)continue;const u=e.getItem(Dt(e.persistenceKey,o));if(u){const d=lh.Yi(o,u);d&&(e.ir=e.ir.insert(d.clientId,d))}}e.wr();const r=e.storage.getItem(e.dr);if(r){const o=e.mr(r);o&&e.gr(o)}for(const o of e.rr)e.sr(o);e.rr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(e){let t=!1;return this.ir.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.pr(e,"pending")}updateMutationState(e,t,r){this.pr(e,t,r),this.Ir(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(wn(this.persistenceKey,e));if(r){const o=ta.Yi(e,r);o&&(t=o.state)}}return this.Tr.Zi(e),this.wr(),t}removeLocalQueryTarget(e){this.Tr.tr(e),this.wr()}isLocalQueryTarget(e){return this.Tr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(wn(this.persistenceKey,e))}updateQueryState(e,t,r){this.Er(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Ir(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Ar(e)}notifyBundleLoaded(e){this.Rr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return $e("SharedClientState","READ",e,t),t}setItem(e,t){$e("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){$e("SharedClientState","REMOVE",e),this.storage.removeItem(e)}sr(e){var t=this;const r=e;if(r.storageArea===this.storage){if($e("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ur)return void Br("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Se.Z)(function*(){if(t.started){if(null!==r.key)if(t.cr.test(r.key)){if(null==r.newValue){const o=t.Pr(r.key);return t.br(o,null)}{const o=t.Vr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.vr(r.key,r.newValue);if(o)return t.Sr(o)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const o=t.Dr(r.key,r.newValue);if(o)return t.Cr(o)}}else if(r.key===t.dr){if(null!==r.newValue){const o=t.mr(r.newValue);if(o)return t.gr(o)}}else if(r.key===t.ar){const o=function(u){let d=zs.A;if(null!=u)try{const m=JSON.parse(u);jt("number"==typeof m),d=m}catch(m){Br("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);o!==zs.A&&t.sequenceNumberHandler(o)}else if(r.key===t._r){const o=t.Nr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.kr(u)))}}else t.rr.push(r)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(e,t,r){const o=new $i(this.currentUser,e,t,r),u=rn(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Xi())}Ir(e){const t=rn(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ar(e){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:e}))}Er(e,t,r){const o=wn(this.persistenceKey,e),u=new ta(e,t,r);this.setItem(o,u.Xi())}Rr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}Pr(e){const t=this.cr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.Pr(e);return lh.Yi(r,t)}vr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return $i.Yi(new ui(void 0!==r[2]?r[2]:null),o,t)}Dr(e,t){const r=this.lr.exec(e),o=Number(r[1]);return ta.Yi(o,t)}mr(e){return Wf.Yi(e)}Nr(e){return JSON.parse(e)}Sr(e){var t=this;return(0,Se.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Mr(e.batchId,e.state,e.error);$e("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Cr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const r=t?this.ir.insert(e,t):this.ir.remove(e),o=this.yr(this.ir),u=this.yr(r),d=[],m=[];return u.forEach(b=>{o.has(b)||d.push(b)}),o.forEach(b=>{u.has(b)||m.push(b)}),this.syncEngine.Fr(d,m).then(()=>{this.ir=r})}gr(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}yr(e){let t=bu();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class Kg{constructor(){this.$r=new qf,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.$r.Zi(e),this.Br[e]||"not-current"}updateQueryState(e,t,r){this.Br[e]=t}removeLocalQueryTarget(e){this.$r.tr(e)}isLocalQueryTarget(e){return this.$r.activeTargetIds.has(e)}clearQueryState(e){delete this.Br[e]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(e){return this.$r.activeTargetIds.has(e)}start(){return this.$r=new qf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class a_{Lr(e){}shutdown(){}}class Zg{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(e){this.Qr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Qr)e(0)}Gr(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Qr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const u_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class l_{constructor(e){this.Wr=e.Wr,this.zr=e.zr}Hr(e){this.Jr=e}Yr(e){this.Xr=e}onMessage(e){this.Zr=e}close(){this.zr()}send(e){this.Wr(e)}eo(){this.Jr()}no(e){this.Xr(e)}so(e){this.Zr(e)}}class Kx extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.io=(e.ssl?"https":"http")+"://"+e.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(e,t,r,o,u){const d=this.uo(e,t);$e("RestConnection","Sending: ",d,r);const m={};return this.ao(m,o,u),this.co(e,d,m,r).then(b=>($e("RestConnection","Received: ",b),b),b=>{throw Nd("RestConnection",`${e} failed with error: `,b,"url: ",d,"request:",r),b})}ho(e,t,r,o,u){return this.oo(e,t,r,o,u)}ao(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Od,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}uo(e,t){return`${this.io}/v1/${t}:${u_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,r,o){return new Promise((u,d)=>{const m=new C0;m.listenOnce(_f.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case pv.NO_ERROR:const A=m.getResponseJson();$e("Connection","XHR received:",JSON.stringify(A)),u(A);break;case pv.TIMEOUT:$e("Connection",'RPC "'+e+'" timed out'),d(new Le(_e.DEADLINE_EXCEEDED,"Request time out"));break;case pv.HTTP_ERROR:const O=m.getStatus();if($e("Connection",'RPC "'+e+'" failed with status:',O,"response text:",m.getResponseText()),O>0){const N=m.getResponseJson().error;if(N&&N.status&&N.message){const J=function(ie){const be=ie.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(be)>=0?be:_e.UNKNOWN}(N.status);d(new Le(J,N.message))}else d(new Le(_e.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Le(_e.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{$e("Connection",'RPC "'+e+'" completed.')}});const b=JSON.stringify(o);m.send(t,"POST",b,r,15)})}lo(e,t,r){const o=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=iD(),d=sD(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new aD({})),this.ao(m.initMessageHeaders,t,r),(0,nn.uI)()||(0,nn.b$)()||(0,nn.d)()||(0,nn.w1)()||(0,nn.Mn)()||(0,nn.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const b=o.join("");$e("Connection","Creating WebChannel: "+b,m);const A=u.createWebChannel(b,m);let O=!1,N=!1;const J=new l_({Wr:be=>{N?$e("Connection","Not sending because WebChannel is closed:",be):(O||($e("Connection","Opening WebChannel transport."),A.open(),O=!0),$e("Connection","WebChannel sending:",be),A.send(be))},zr:()=>A.close()}),ie=(be,Ke,vt)=>{be.listen(Ke,un=>{try{vt(un)}catch(ln){setTimeout(()=>{throw ln},0)}})};return ie(A,mc.EventType.OPEN,()=>{N||$e("Connection","WebChannel transport opened.")}),ie(A,mc.EventType.CLOSE,()=>{N||(N=!0,$e("Connection","WebChannel transport closed"),J.no())}),ie(A,mc.EventType.ERROR,be=>{N||(N=!0,Nd("Connection","WebChannel transport errored:",be),J.no(new Le(_e.UNAVAILABLE,"The operation could not be completed")))}),ie(A,mc.EventType.MESSAGE,be=>{var Ke;if(!N){const vt=be.data[0];jt(!!vt);const un=vt,ln=un.error||(null===(Ke=un[0])||void 0===Ke?void 0:Ke.error);if(ln){$e("Connection","WebChannel received error:",ln);const dn=ln.status;let en=function(kn){const As=Ar[kn];if(void 0!==As)return eb(As)}(dn),cn=ln.message;void 0===en&&(en=_e.INTERNAL,cn="Unknown error status: "+dn+" with message "+ln.message),N=!0,J.no(new Le(en,cn)),A.close()}else $e("Connection","WebChannel received:",vt),J.so(vt)}}),ie(d,oD.STAT_EVENT,be=>{be.stat===D0.PROXY?$e("Connection","Detected buffering proxy"):be.stat===D0.NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(()=>{J.eo()},0),J}}function FA(){return"undefined"!=typeof window?window:null}function Wb(){return"undefined"!=typeof document?document:null}function c_(n){return new sb(n,!0)}class oC{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Yn=e,this.timerId=t,this.fo=r,this._o=o,this.wo=u,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(e){this.cancel();const t=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),o=Math.max(0,t-r);o>0&&$e("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.mo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,o,()=>(this.po=Date.now(),e())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class LA{constructor(e,t,r,o,u,d,m,b){this.Yn=e,this.Ro=r,this.Po=o,this.bo=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=b,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new oC(e,t)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var e=this;return(0,Se.Z)(function*(){e.Co()&&(yield e.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(e){this.$o(),this.stream.send(e)}Oo(){var e=this;return(0,Se.Z)(function*(){if(e.xo())return e.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(e,t){var r=this;return(0,Se.Z)(function*(){r.$o(),r.Bo(),r.Do.cancel(),r.Vo++,4!==e?r.Do.reset():t&&t.code===_e.RESOURCE_EXHAUSTED?(Br(t.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),r.Do.Io()):t&&t.code===_e.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Lo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Yr(t)})()}Lo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Vo===t&&this.qo(r,o)},r=>{e(()=>{const o=new Le(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ko(o)})})}qo(e,t){const r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr(()=>{r(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(o=>{r(()=>this.Ko(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}No(){var e=this;this.state=5,this.Do.To((0,Se.Z)(function*(){e.state=0,e.start()}))}Ko(e){return $e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Yn.enqueueAndForget(()=>this.Vo===e?t():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Zx extends LA{constructor(e,t,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.M=u}Go(e,t){return this.bo.lo("Listen",e,t)}onMessage(e){this.Do.reset();const t=function lb(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:pt(),o=e.targetChange.targetIds||[],u=function(b,A){return b.N?(jt(void 0===A||"string"==typeof A),Ur.fromBase64String(A||"")):(jt(void 0===A||A instanceof Uint8Array),Ur.fromUint8Array(A||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(b){const A=void 0===b.code?_e.UNKNOWN:eb(b.code);return new Le(A,b.message||"")}(d);t=new rb(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=Ks(n,r.document.name),u=Ci(r.document.updateTime),d=new ji({mapValue:{fields:r.document.fields}}),m=ar.newFoundDocument(o,u,d);t=new Lv(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=Ks(n,r.document),u=r.readTime?Ci(r.readTime):At.min(),d=ar.newNoDocument(o,u);t=new Lv([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=Ks(n,r.document);t=new Lv([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return pt();{const r=e.filter,u=new Nv(r.count||0);t=new Xd(r.targetId,u)}}var b;return t}(this.M,e),r=function(o){if(!("targetChange"in o))return At.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?At.min():u.readTime?Ci(u.readTime):At.min()}(e);return this.listener.Qo(t,r)}jo(e){const t={};t.database=Mc(this.M),t.addTarget=function(o,u){let d;const m=u.target;return d=jd(m)?{documents:$v(o,m)}:{query:db(o,m)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=Nf(o,u.resumeToken):u.snapshotVersion.compareTo(At.min())>0&&(d.readTime=eh(o,u.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function fb(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=Mc(this.M),t.removeTarget=e,this.Fo(t)}}class Yx extends LA{constructor(e,t,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.M=u,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(e,t){return this.bo.lo("Write",e,t)}onMessage(e){if(jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();const t=function cb(n,e){return n&&n.length>0?(jt(void 0!==e),n.map(t=>function(r,o){let u=Ci(r.updateTime?r.updateTime:o);return u.isEqual(At.min())&&(u=Ci(o)),new kf(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ci(e.commitTime);return this.listener.Yo(r,t)}return jt(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const e={};e.database=Mc(this.M),this.Fo(e)}Jo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>nh(this.M,r))};this.Fo(t)}}class Qx extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=o,this.tu=!1}eu(){if(this.tu)throw new Le(_e.FAILED_PRECONDITION,"The client has already been terminated.")}oo(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.oo(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(_e.UNKNOWN,o.toString())})}ho(e,t,r){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.ho(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(_e.UNKNOWN,o.toString())})}terminate(){this.tu=!0}}class Jx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ou("Offline")))}set(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}ou(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}uu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(Br(t),this.iu=!1):$e("OnlineStateTracker",t)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class Xx{constructor(e,t,r,o,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=u,this._u.Lr(m=>{r.enqueueAndForget((0,Se.Z)(function*(){var b;ch(d)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,Se.Z)(function*(A){const O=at(A);O.fu.add(4),yield Yg(O),O.wu.set("Unknown"),O.fu.delete(4),yield d_(O)}),function(A){return b.apply(this,arguments)})(d))}))}),this.wu=new Jx(r,o)}}function d_(n){return aC.apply(this,arguments)}function aC(){return aC=(0,Se.Z)(function*(n){if(ch(n))for(const e of n.du)yield e(!0)}),aC.apply(this,arguments)}function Yg(n){return uC.apply(this,arguments)}function uC(){return uC=(0,Se.Z)(function*(n){for(const e of n.du)yield e(!1)}),uC.apply(this,arguments)}function qb(n,e){const t=at(n);t.lu.has(e.targetId)||(t.lu.set(e.targetId,e),dC(t)?cC(t):Jg(t).xo()&&lC(t,e))}function h_(n,e){const t=at(n),r=Jg(t);t.lu.delete(e),r.xo()&&VA(t,e),0===t.lu.size&&(r.xo()?r.Mo():ch(t)&&t.wu.set("Unknown"))}function lC(n,e){n.mu.Z(e.targetId),Jg(n).jo(e)}function VA(n,e){n.mu.Z(e),Jg(n).Wo(e)}function cC(n){n.mu=new xD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.lu.get(e)||null}),Jg(n).start(),n.wu.ru()}function dC(n){return ch(n)&&!Jg(n).Co()&&n.lu.size>0}function ch(n){return 0===at(n).fu.size}function BA(n){n.mu=void 0}function eM(n){return hC.apply(this,arguments)}function hC(){return hC=(0,Se.Z)(function*(n){n.lu.forEach((e,t)=>{lC(n,e)})}),hC.apply(this,arguments)}function tM(n,e){return fC.apply(this,arguments)}function fC(){return fC=(0,Se.Z)(function*(n,e){BA(n),dC(n)?(n.wu.au(e),cC(n)):n.wu.set("Unknown")}),fC.apply(this,arguments)}function nM(n,e,t){return pC.apply(this,arguments)}function pC(){return pC=(0,Se.Z)(function*(n,e,t){if(n.wu.set("Online"),e instanceof rb&&2===e.state&&e.cause)try{yield(r=(0,Se.Z)(function*(o,u){const d=u.cause;for(const m of u.targetIds)o.lu.has(m)&&(yield o.remoteSyncer.rejectListen(m,d),o.lu.delete(m),o.mu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){$e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Kb(n,r)}else if(e instanceof Lv?n.mu.ut(e):e instanceof Xd?n.mu._t(e):n.mu.ht(e),!t.isEqual(At.min()))try{const r=yield sC(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const d=o.mu.yt(u);return d.targetChanges.forEach((m,b)=>{if(m.resumeToken.approximateByteSize()>0){const A=o.lu.get(b);A&&o.lu.set(b,A.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach(m=>{const b=o.lu.get(m);if(!b)return;o.lu.set(m,b.withResumeToken(Ur.EMPTY_BYTE_STRING,b.snapshotVersion)),VA(o,m);const A=new Iu(b.target,m,1,b.sequenceNumber);lC(o,A)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){$e("RemoteStore","Failed to raise snapshot:",r),yield Kb(n,r)}var r}),pC.apply(this,arguments)}function Kb(n,e,t){return gC.apply(this,arguments)}function gC(){return gC=(0,Se.Z)(function*(n,e,t){if(!Oc(e))throw e;n.fu.add(1),yield Yg(n),n.wu.set("Offline"),t||(t=()=>sC(n.localStore)),n.asyncQueue.enqueueRetryable((0,Se.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield t(),n.fu.delete(1),yield d_(n)}))}),gC.apply(this,arguments)}function UA(n,e){return e().catch(t=>Kb(n,t,e))}function Qg(n){return mC.apply(this,arguments)}function mC(){return mC=(0,Se.Z)(function*(n){const e=at(n),t=dh(e);let r=e.hu.length>0?e.hu[e.hu.length-1].batchId:-1;for(;rM(e);)try{const o=yield NA(e.localStore,r);if(null===o){0===e.hu.length&&t.Mo();break}r=o.batchId,iM(e,o)}catch(o){yield Kb(e,o)}jA(e)&&$A(e)}),mC.apply(this,arguments)}function rM(n){return ch(n)&&n.hu.length<10}function iM(n,e){n.hu.push(e);const t=dh(n);t.xo()&&t.Ho&&t.Jo(e.mutations)}function jA(n){return ch(n)&&!dh(n).Co()&&n.hu.length>0}function $A(n){dh(n).start()}function sM(n){return yC.apply(this,arguments)}function yC(){return yC=(0,Se.Z)(function*(n){dh(n).Zo()}),yC.apply(this,arguments)}function oM(n){return vC.apply(this,arguments)}function vC(){return vC=(0,Se.Z)(function*(n){const e=dh(n);for(const t of n.hu)e.Jo(t.mutations)}),vC.apply(this,arguments)}function aM(n,e,t){return _C.apply(this,arguments)}function _C(){return _C=(0,Se.Z)(function*(n,e,t){const r=n.hu.shift(),o=zg.from(r,e,t);yield UA(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Qg(n)}),_C.apply(this,arguments)}function uM(n,e){return wC.apply(this,arguments)}function wC(){return wC=(0,Se.Z)(function*(n,e){var t;e&&dh(n).Ho&&(yield(t=(0,Se.Z)(function*(r,o){if(Pg(u=o.code)&&u!==_e.ABORTED){const d=r.hu.shift();dh(r).ko(),yield UA(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield Qg(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),jA(n)&&$A(n)}),wC.apply(this,arguments)}function HA(n,e){return bC.apply(this,arguments)}function bC(){return bC=(0,Se.Z)(function*(n,e){const t=at(n);t.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const r=ch(t);t.fu.add(3),yield Yg(t),r&&t.wu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.fu.delete(3),yield d_(t)}),bC.apply(this,arguments)}function EC(n,e){return IC.apply(this,arguments)}function IC(){return IC=(0,Se.Z)(function*(n,e){const t=at(n);e?(t.fu.delete(2),yield d_(t)):e||(t.fu.add(2),yield Yg(t),t.wu.set("Unknown"))}),IC.apply(this,arguments)}function Jg(n){return n.gu||(n.gu=function(e,t,r){const o=at(e);return o.eu(),new Zx(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{Hr:eM.bind(null,n),Yr:tM.bind(null,n),Qo:nM.bind(null,n)}),n.du.push(function(){var e=(0,Se.Z)(function*(t){t?(n.gu.ko(),dC(n)?cC(n):n.wu.set("Unknown")):(yield n.gu.stop(),BA(n))});return function(t){return e.apply(this,arguments)}}())),n.gu}function dh(n){return n.yu||(n.yu=function(e,t,r){const o=at(e);return o.eu(),new Yx(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{Hr:sM.bind(null,n),Yr:uM.bind(null,n),Xo:oM.bind(null,n),Yo:aM.bind(null,n)}),n.du.push(function(){var e=(0,Se.Z)(function*(t){t?(n.yu.ko(),yield Qg(n)):(yield n.yu.stop(),n.hu.length>0&&($e("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(t){return e.apply(this,arguments)}}())),n.yu}class DC{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,u){const d=Date.now()+r,m=new DC(e,t,d,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xg(n,e){if(Br("AsyncQueue",`${e}: ${n}`),Oc(n))return new Le(_e.UNAVAILABLE,`${e}: ${n}`);throw n}class em{constructor(e){this.comparator=e?(t,r)=>e(t,r)||tt.comparator(t.key,r.key):(t,r)=>tt.comparator(t.key,r.key),this.keyedMap=Ng(),this.sortedSet=new Sr(this.comparator)}static emptySet(e){return new em(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof em)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new em;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class GA{constructor(){this.pu=new Sr(tt.comparator)}track(e){const t=e.doc.key,r=this.pu.get(t);r?0!==e.type&&3===r.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==r.type?this.pu=this.pu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.pu=this.pu.remove(t):1===e.type&&2===r.type?this.pu=this.pu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):pt():this.pu=this.pu.insert(t,e)}Iu(){const e=[];return this.pu.inorderTraversal((t,r)=>{e.push(r)}),e}}class tm{constructor(e,t,r,o,u,d,m,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=b}static fromInitialDocuments(e,t,r,o){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new tm(e,t,em.emptySet(t),u,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class lM{constructor(){this.Tu=void 0,this.listeners=[]}}class cM{constructor(){this.queries=new gl(e=>W0(e),Sf),this.onlineState="Unknown",this.Eu=new Set}}function CC(n,e){return TC.apply(this,arguments)}function TC(){return TC=(0,Se.Z)(function*(n,e){const t=at(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new lM),o)try{u.Tu=yield t.onListen(r)}catch(d){const m=Xg(d,`Initialization of query '${Tv(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Au(t.onlineState),u.Tu&&e.Ru(u.Tu)&&xC(t)}),TC.apply(this,arguments)}function AC(n,e){return SC.apply(this,arguments)}function SC(){return SC=(0,Se.Z)(function*(n,e){const t=at(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),SC.apply(this,arguments)}function dM(n,e){const t=at(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const m of d.listeners)m.Ru(o)&&(r=!0);d.Tu=o}}r&&xC(t)}function hM(n,e,t){const r=at(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function xC(n){n.Eu.forEach(e=>{e.next()})}class MC{constructor(e,t,r){this.query=e,this.Pu=t,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}Ru(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new tm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),t=!0):this.Su(e,this.onlineState)&&(this.Du(e),t=!0),this.Vu=e,t}onError(e){this.Pu.error(e)}Au(e){this.onlineState=e;let t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}Su(e,t){return!e.fromCache||!(this.options.Cu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(e){e=tm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}class fM{constructor(e,t){this.payload=e,this.byteLength=t}xu(){return"metadata"in this.payload}}class zA{constructor(e){this.M=e}fi(e){return Ks(this.M,e)}di(e){return e.metadata.exists?ub(this.M,e.document,!1):ar.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}_i(e){return Ci(e)}}class pM{constructor(e,t,r){this.Nu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=WA(e)}ku(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=pn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new zA(this.M);for(const o of e)if(o.metadata.queries){const u=r.fi(o.metadata.name);for(const d of o.metadata.queries){const m=(t.get(d)||Tn()).add(u);t.set(d,m)}}return t}complete(){var e=this;return(0,Se.Z)(function*(){const t=yield function c(n,e,t,r){return h.apply(this,arguments)}(e.localStore,new zA(e.M),e.documents,e.Nu.id),r=e.Mu(e.documents);for(const o of e.queries)yield y(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Fu:t}})()}}function WA(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class qA{constructor(e){this.key=e}}class KA{constructor(e){this.key=e}}class ZA{constructor(e,t){this.query=e,this.$u=t,this.Bu=null,this.current=!1,this.Lu=Tn(),this.mutatedKeys=Tn(),this.Uu=zd(e),this.qu=new em(this.Uu)}get Ku(){return this.$u}Gu(e,t){const r=t?t.Qu:new GA,o=t?t.qu:this.qu;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const b=Iv(this.query)&&o.size===this.query.limit?o.last():null,A=Tf(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((O,N)=>{const J=o.get(O),ie=Av(this.query,N)?N:null,be=!!J&&this.mutatedKeys.has(J.key),Ke=!!ie&&(ie.hasLocalMutations||this.mutatedKeys.has(ie.key)&&ie.hasCommittedMutations);let vt=!1;J&&ie?J.data.isEqual(ie.data)?be!==Ke&&(r.track({type:3,doc:ie}),vt=!0):this.ju(J,ie)||(r.track({type:2,doc:ie}),vt=!0,(b&&this.Uu(ie,b)>0||A&&this.Uu(ie,A)<0)&&(m=!0)):!J&&ie?(r.track({type:0,doc:ie}),vt=!0):J&&!ie&&(r.track({type:1,doc:J}),vt=!0,(b||A)&&(m=!0)),vt&&(ie?(d=d.add(ie),u=Ke?u.add(O):u.delete(O)):(d=d.delete(O),u=u.delete(O)))}),Iv(this.query)||Tf(this.query))for(;d.size>this.query.limit;){const O=Iv(this.query)?d.last():d.first();d=d.delete(O.key),u=u.delete(O.key),r.track({type:1,doc:O})}return{qu:d,Qu:r,ni:m,mutatedKeys:u}}ju(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;const u=e.Qu.Iu();u.sort((A,O)=>function(N,J){const ie=be=>{switch(be){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return ie(N)-ie(J)}(A.type,O.type)||this.Uu(A.doc,O.doc)),this.Wu(r);const d=t?this.zu():[],m=0===this.Lu.size&&this.current?1:0,b=m!==this.Bu;return this.Bu=m,0!==u.length||b?{snapshot:new tm(this.query,e.qu,o,u,e.mutatedKeys,0===m,b,!1),Hu:d}:{Hu:d}}Au(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new GA,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}Wu(e){e&&(e.addedDocuments.forEach(t=>this.$u=this.$u.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.$u=this.$u.delete(t)),this.current=e.current)}zu(){if(!this.current)return[];const e=this.Lu;this.Lu=Tn(),this.qu.forEach(r=>{this.Ju(r.key)&&(this.Lu=this.Lu.add(r.key))});const t=[];return e.forEach(r=>{this.Lu.has(r)||t.push(new KA(r))}),this.Lu.forEach(r=>{e.has(r)||t.push(new qA(r))}),t}Yu(e){this.$u=e.li,this.Lu=Tn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Xu(){return tm.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class gM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mM{constructor(e){this.key=e,this.Zu=!1}}class yM{constructor(e,t,r,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.ta={},this.ea=new gl(m=>W0(m),Sf),this.na=new Map,this.sa=new Set,this.ia=new Sr(tt.comparator),this.ra=new Map,this.oa=new k,this.ua={},this.aa=new Map,this.ca=Qs.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function vM(n,e){return kC.apply(this,arguments)}function kC(){return kC=(0,Se.Z)(function*(n,e){const t=eT(n);let r,o;const u=t.ea.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.Xu();else{const d=yield Gf(t.localStore,Ao(e));t.isPrimaryClient&&qb(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield RC(t,e,r,"current"===m)}return o}),kC.apply(this,arguments)}function RC(n,e,t,r){return PC.apply(this,arguments)}function PC(){return PC=(0,Se.Z)(function*(n,e,t,r){n.la=(O,N,J)=>{return(ie=(0,Se.Z)(function*(be,Ke,vt,un){let ln=Ke.view.Gu(vt);ln.ni&&(ln=yield i(be.localStore,Ke.query,!1).then(({documents:cn})=>Ke.view.Gu(cn,ln)));const dn=un&&un.targetChanges.get(Ke.targetId),en=Ke.view.applyChanges(ln,be.isPrimaryClient,dn);return HC(be,Ke.targetId,en.Hu),en.snapshot}),function(be,Ke,vt,un){return ie.apply(this,arguments)})(n,O,N,J);var ie};const o=yield i(n.localStore,e,!0),u=new ZA(e,o.li),d=u.Gu(o.documents),m=Of.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),b=u.applyChanges(d,n.isPrimaryClient,m);HC(n,t,b.Hu);const A=new gM(e,t,u);return n.ea.set(e,A),n.na.has(t)?n.na.get(t).push(e):n.na.set(t,[e]),b.snapshot}),PC.apply(this,arguments)}function _M(n,e){return OC.apply(this,arguments)}function OC(){return OC=(0,Se.Z)(function*(n,e){const t=at(n),r=t.ea.get(e),o=t.na.get(r.targetId);if(o.length>1)return t.na.set(r.targetId,o.filter(u=>!Sf(u,e))),void t.ea.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield zf(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),h_(t.remoteStore,r.targetId),nm(t,r.targetId)}).catch(Du))):(nm(t,r.targetId),yield zf(t.localStore,r.targetId,!0))}),OC.apply(this,arguments)}function NC(){return NC=(0,Se.Z)(function*(n,e,t){const r=tT(n);try{const o=yield function(u,d){const m=at(u),b=Tr.now(),A=d.reduce((N,J)=>N.add(J.key),Tn());let O;return m.persistence.runTransaction("Locally write mutations","readwrite",N=>m.ci.Ks(N,A).next(J=>{O=J;const ie=[];for(const be of d){const Ke=TD(be,O.get(be.key));null!=Ke&&ie.push(new wu(be.key,Ke,bv(Ke.value.mapValue),jr.exists(!0)))}return m.Bs.addMutationBatch(N,b,ie,d)})).then(N=>(N.applyToLocalDocumentSet(O),{batchId:N.batchId,changes:O}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,m){let b=u.ua[u.currentUser.toKey()];b||(b=new Sr(Jt)),b=b.insert(d,m),u.ua[u.currentUser.toKey()]=b}(r,o.batchId,t),yield Vc(r,o.changes),yield Qg(r.remoteStore)}catch(o){const u=Xg(o,"Failed to persist write");t.reject(u)}}),NC.apply(this,arguments)}function YA(n,e){return FC.apply(this,arguments)}function FC(){return FC=(0,Se.Z)(function*(n,e){const t=at(n);try{const r=yield OA(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t.ra.get(u);d&&(jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Zu=!0:o.modifiedDocuments.size>0?jt(d.Zu):o.removedDocuments.size>0&&(jt(d.Zu),d.Zu=!1))}),yield Vc(t,r,e)}catch(r){yield Du(r)}}),FC.apply(this,arguments)}function QA(n,e,t){const r=at(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ea.forEach((u,d)=>{const m=d.view.Au(e);m.snapshot&&o.push(m.snapshot)}),function(u,d){const m=at(u);m.onlineState=d;let b=!1;m.queries.forEach((A,O)=>{for(const N of O.listeners)N.Au(d)&&(b=!0)}),b&&xC(m)}(r.eventManager,e),o.length&&r.ta.Qo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function bM(n,e,t){return LC.apply(this,arguments)}function LC(){return LC=(0,Se.Z)(function*(n,e,t){const r=at(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ra.get(e),u=o&&o.key;if(u){let d=new Sr(tt.comparator);d=d.insert(u,ar.newNoDocument(u,At.min()));const m=Tn().add(u),b=new Pf(At.min(),new Map,new zn(Jt),d,m);yield YA(r,b),r.ia=r.ia.remove(u),r.ra.delete(e),GC(r)}else yield zf(r.localStore,e,!1).then(()=>nm(r,e,t)).catch(Du)}),LC.apply(this,arguments)}function EM(n,e){return VC.apply(this,arguments)}function VC(){return VC=(0,Se.Z)(function*(n,e){const t=at(n),r=e.batch.batchId;try{const o=yield PA(t.localStore,e);$C(t,r,null),jC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Vc(t,o)}catch(o){yield Du(o)}}),VC.apply(this,arguments)}function IM(n,e,t){return BC.apply(this,arguments)}function BC(){return BC=(0,Se.Z)(function*(n,e,t){const r=at(n);try{const o=yield function(u,d){const m=at(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let A;return m.Bs.lookupMutationBatch(b,d).next(O=>(jt(null!==O),A=O.keys(),m.Bs.removeMutationBatch(b,O))).next(()=>m.Bs.performConsistencyCheck(b)).next(()=>m.ci.Ks(b,A))})}(r.localStore,e);$C(r,e,t),jC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Vc(r,o)}catch(o){yield Du(o)}}),BC.apply(this,arguments)}function UC(){return UC=(0,Se.Z)(function*(n,e){const t=at(n);ch(t.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=at(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.Bs.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.aa.get(r)||[];o.push(e),t.aa.set(r,o)}catch(r){const o=Xg(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),UC.apply(this,arguments)}function jC(n,e){(n.aa.get(e)||[]).forEach(t=>{t.resolve()}),n.aa.delete(e)}function $C(n,e,t){const r=at(n);let o=r.ua[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.ua[r.currentUser.toKey()]=o}}function nm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.na.get(e))n.ea.delete(r),t&&n.ta.fa(r,t);n.na.delete(e),n.isPrimaryClient&&n.oa.Pi(e).forEach(r=>{n.oa.containsKey(r)||JA(n,r)})}function JA(n,e){n.sa.delete(e.path.canonicalString());const t=n.ia.get(e);null!==t&&(h_(n.remoteStore,t),n.ia=n.ia.remove(e),n.ra.delete(t),GC(n))}function HC(n,e,t){for(const r of t)r instanceof qA?(n.oa.addReference(r.key,e),CM(n,r)):r instanceof KA?($e("SyncEngine","Document no longer in limbo: "+r.key),n.oa.removeReference(r.key,e),n.oa.containsKey(r.key)||JA(n,r.key)):pt()}function CM(n,e){const t=e.key,r=t.path.canonicalString();n.ia.get(t)||n.sa.has(r)||($e("SyncEngine","New document in limbo: "+t),n.sa.add(r),GC(n))}function GC(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const e=n.sa.values().next().value;n.sa.delete(e);const t=new tt(pn.fromString(e)),r=n.ca.next();n.ra.set(r,new mM(t)),n.ia=n.ia.insert(t,r),qb(n.remoteStore,new Iu(Ao(Ac(t.path)),r,2,zs.A))}}function Vc(n,e,t){return zC.apply(this,arguments)}function zC(){return zC=(0,Se.Z)(function*(n,e,t){const r=at(n),o=[],u=[],d=[];var m;r.ea.isEmpty()||(r.ea.forEach((m,b)=>{d.push(r.la(b,e,t).then(A=>{if(A){r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,A.fromCache?"not-current":"current"),o.push(A);const O=jb.Ys(b.targetId,A);u.push(O)}}))}),yield Promise.all(d),r.ta.Qo(o),yield(m=(0,Se.Z)(function*(b,A){const O=at(b);try{yield O.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>Ie.forEach(A,J=>Ie.forEach(J.Hs,ie=>O.persistence.referenceDelegate.addReference(N,J.targetId,ie)).next(()=>Ie.forEach(J.Js,ie=>O.persistence.referenceDelegate.removeReference(N,J.targetId,ie)))))}catch(N){if(!Oc(N))throw N;$e("LocalStore","Failed to update sequence numbers: "+N)}for(const N of A){const J=N.targetId;if(!N.fromCache){const ie=O.ii.get(J),Ke=ie.withLastLimboFreeSnapshotVersion(ie.snapshotVersion);O.ii=O.ii.insert(J,Ke)}}}),function(b,A){return m.apply(this,arguments)})(r.localStore,u))}),zC.apply(this,arguments)}function TM(n,e){return WC.apply(this,arguments)}function WC(){return WC=(0,Se.Z)(function*(n,e){const t=at(n);if(!t.currentUser.isEqual(e)){$e("SyncEngine","User change. New user:",e.toKey());const r=yield iC(t.localStore,e);t.currentUser=e,(o=t).aa.forEach(d=>{d.forEach(m=>{m.reject(new Le(_e.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.aa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vc(t,r.hi)}var o}),WC.apply(this,arguments)}function AM(n,e){const t=at(n),r=t.ra.get(e);if(r&&r.Zu)return Tn().add(r.key);{let o=Tn();const u=t.na.get(e);if(!u)return o;for(const d of u){const m=t.ea.get(d);o=o.unionWith(m.view.Ku)}return o}}function SM(n,e){return qC.apply(this,arguments)}function qC(){return qC=(0,Se.Z)(function*(n,e){const t=at(n),r=yield i(t.localStore,e.query,!0),o=e.view.Yu(r);return t.isPrimaryClient&&HC(t,e.targetId,o.Hu),o}),qC.apply(this,arguments)}function xM(n,e){return KC.apply(this,arguments)}function KC(){return KC=(0,Se.Z)(function*(n,e){const t=at(n);return a(t.localStore,e).then(r=>Vc(t,r))}),KC.apply(this,arguments)}function MM(n,e,t,r){return ZC.apply(this,arguments)}function ZC(){return ZC=(0,Se.Z)(function*(n,e,t,r){const o=at(n),u=yield function(d,m){const b=at(d),A=at(b.Bs);return b.persistence.runTransaction("Lookup mutation documents","readonly",O=>A.fn(O,m).next(N=>N?b.ci.Ks(O,N):Ie.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield Qg(o.remoteStore):"acknowledged"===t||"rejected"===t?($C(o,e,r||null),jC(o,e),m=e,at(at(o.localStore).Bs)._n(m)):pt(),yield Vc(o,u)):$e("SyncEngine","Cannot apply mutation batch with id: "+e)}),ZC.apply(this,arguments)}function YC(){return YC=(0,Se.Z)(function*(n,e){const t=at(n);if(eT(t),tT(t),!0===e&&!0!==t.ha){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield XA(t,r.toArray());t.ha=!0,yield EC(t.remoteStore,!0);for(const u of o)qb(t.remoteStore,u)}else if(!1===e&&!1!==t.ha){const r=[];let o=Promise.resolve();t.na.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(nm(t,d),zf(t.localStore,d,!0))),h_(t.remoteStore,d)}),yield o,yield XA(t,r),function(u){const d=at(u);d.ra.forEach((m,b)=>{h_(d.remoteStore,b)}),d.oa.bi(),d.ra=new Map,d.ia=new Sr(tt.comparator)}(t),t.ha=!1,yield EC(t.remoteStore,!1)}}),YC.apply(this,arguments)}function XA(n,e,t){return QC.apply(this,arguments)}function QC(){return QC=(0,Se.Z)(function*(n,e,t){const r=at(n),o=[],u=[];for(const d of e){let m;const b=r.na.get(d);if(b&&0!==b.length){m=yield Gf(r.localStore,Ao(b[0]));for(const A of b){const O=r.ea.get(A),N=yield SM(r,O);N.snapshot&&u.push(N.snapshot)}}else{const A=yield s(r.localStore,d);m=yield Gf(r.localStore,A),yield RC(r,eS(A),d,!1)}o.push(m)}return r.ta.Qo(u),o}),QC.apply(this,arguments)}function eS(n){return DD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function RM(n){const e=at(n);return at(at(e.localStore).persistence).Fs()}function PM(n,e,t,r){return JC.apply(this,arguments)}function JC(){return JC=(0,Se.Z)(function*(n,e,t,r){const o=at(n);if(o.ha)return void $e("SyncEngine","Ignoring unexpected query state notification.");const u=o.na.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield a(o.localStore,q0(u[0])),m=Pf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Vc(o,d,m);break}case"rejected":yield zf(o.localStore,e,!0),nm(o,e,r);break;default:pt()}}),JC.apply(this,arguments)}function OM(n,e,t){return XC.apply(this,arguments)}function XC(){return XC=(0,Se.Z)(function*(n,e,t){const r=eT(n);if(r.ha){for(const o of e){if(r.na.has(o)){$e("SyncEngine","Adding an already active target "+o);continue}const u=yield s(r.localStore,o),d=yield Gf(r.localStore,u);yield RC(r,eS(u),d.targetId,!1),qb(r.remoteStore,d)}for(const o of t)r.na.has(o)&&(yield zf(r.localStore,o,!1).then(()=>{h_(r.remoteStore,o),nm(r,o)}).catch(Du))}}),XC.apply(this,arguments)}function eT(n){const e=at(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=YA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bM.bind(null,e),e.ta.Qo=dM.bind(null,e.eventManager),e.ta.fa=hM.bind(null,e.eventManager),e}function tT(n){const e=at(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IM.bind(null,e),e}class tS{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Se.Z)(function*(){t.M=c_(e.databaseInfo.databaseId),t.sharedClientState=t._a(e),t.persistence=t.wa(e),yield t.persistence.start(),t.gcScheduler=t.ma(e),t.localStore=t.ga(e)})()}ma(e){return null}ga(e){return $b(this.persistence,new nC,e.initialUser,this.M)}wa(e){return new nt(Re.zi,this.M)}_a(e){return new Kg}terminate(){var e=this;return(0,Se.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class nS extends tS{constructor(e,t,r){super(),this.ya=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield t().call(r,e),yield r.ya.initialize(r,e),yield tT(r.ya.syncEngine),yield Qg(r.ya.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ga(e){return $b(this.persistence,new nC,e.initialUser,this.M)}ma(e){return new MA(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}wa(e){const t=o_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ys.withCacheSize(this.cacheSizeBytes):Ys.DEFAULT;return new Ub(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,FA(),Wb(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(e){return new Kg}}class FM extends nS{constructor(e,t){super(e,t,!1),this.ya=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Se.Z)(function*(){yield t().call(r,e);const o=r.ya.syncEngine;r.sharedClientState instanceof Kf&&(r.sharedClientState.syncEngine={Mr:MM.bind(null,o),Or:PM.bind(null,o),Fr:OM.bind(null,o),Fs:RM.bind(null,o),kr:xM.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var u=(0,Se.Z)(function*(d){yield function kM(n,e){return YC.apply(this,arguments)}(r.ya.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}_a(e){const t=FA();if(!Kf.vt(t))throw new Le(_e.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=o_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Kf(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class nT{initialize(e,t){var r=this;return(0,Se.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>QA(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=TM.bind(null,r.syncEngine),yield EC(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cM}createDatastore(e){const t=c_(e.databaseInfo.databaseId),r=new Kx(e.databaseInfo);return new Qx(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>QA(this.syncEngine,m,0),d=Zg.vt()?new Zg:new a_,new Xx(t,r,o,u,d);var t,r,o,u,d}createSyncEngine(e,t){return function(r,o,u,d,m,b,A){const O=new yM(r,o,u,d,m,b);return A&&(O.ha=!0),O}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Se.Z)(function*(t){const r=at(t);$e("RemoteStore","RemoteStore shutting down."),r.fu.add(5),yield Yg(r),r._u.shutdown(),r.wu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function rS(n,e=10240){let t=0;return{read:()=>(0,Se.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Se.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Zb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.pa(this.observer.next,e)}error(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Ia(){this.muted=!0}pa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class LM{constructor(e,t){this.Ta=e,this.M=t,this.metadata=new Di,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(r=>{r&&r.xu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ta.cancel()}getMetadata(){var e=this;return(0,Se.Z)(function*(){return e.metadata.promise})()}da(){var e=this;return(0,Se.Z)(function*(){return yield e.getMetadata(),e.Aa()})()}Aa(){var e=this;return(0,Se.Z)(function*(){const t=yield e.Ra();if(null===t)return null;const r=e.Ea.decode(t),o=Number(r);isNaN(o)&&e.Pa(`length string (${r}) is not valid number`);const u=yield e.ba(o);return new fM(JSON.parse(u),t.length+o)})()}Va(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ra(){var e=this;return(0,Se.Z)(function*(){for(;e.Va()<0&&!(yield e.va()););if(0===e.buffer.length)return null;const t=e.Va();t<0&&e.Pa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,Se.Z)(function*(){for(;t.buffer.length<e;)(yield t.va())&&t.Pa("Reached the end of bundle when more is expected.");const r=t.Ea.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Pa(e){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${e}`)}va(){var e=this;return(0,Se.Z)(function*(){const t=yield e.Ta.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class VM{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Se.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Le(_e.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Se.Z)(function*(u,d){const m=at(u),b=Mc(m.M)+"/documents",A={documents:d.map(ie=>th(m.M,ie))},O=yield m.ho("BatchGetDocuments",b,A),N=new Map;O.forEach(ie=>{const be=function RD(n,e){return"found"in e?function(t,r){jt(!!r.found);const o=Ks(t,r.found.name),u=Ci(r.found.updateTime),d=new ji({mapValue:{fields:r.found.fields}});return ar.newFoundDocument(o,u,d)}(n,e):"missing"in e?function(t,r){jt(!!r.missing),jt(!!r.readTime);const o=Ks(t,r.missing),u=Ci(r.readTime);return ar.newNoDocument(o,u)}(n,e):pt()}(m.M,ie);N.set(be.key.toString(),be)});const J=[];return d.forEach(ie=>{const be=N.get(ie.toString());jt(!!be),J.push(be)}),J}),function(u,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Rg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Se.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=tt.fromPath(o);e.mutations.push(new Rf(u,e.precondition(u)))}),yield(r=(0,Se.Z)(function*(o,u){const d=at(o),m=Mc(d.M)+"/documents",b={writes:u.map(A=>nh(d.M,A))};yield d.oo("Commit",m,b)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pt();t=At.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Le(_e.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?jr.updateTime(t):jr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(At.min()))throw new Le(_e.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jr.updateTime(t)}return jr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class BM{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.Sa=5,this.Do=new oC(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var e=this;this.Do.To((0,Se.Z)(function*(){const t=new VM(e.datastore),r=e.Ca(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.xa(u)}))}).catch(o=>{e.xa(o)})}))}Ca(e){try{const t=this.updateFunction(e);return!wc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}xa(e){this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(e)}Na(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Pg(t)}return!1}}class UM{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=ui.UNAUTHENTICATED,this.clientId=S0.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Se.Z)(function*(m){$e("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>($e("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Se.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Xg(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function iS(n,e){return rT.apply(this,arguments)}function rT(){return rT=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Se.Z)(function*(u){r.isEqual(u)||(yield iC(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),rT.apply(this,arguments)}function sS(n,e){return iT.apply(this,arguments)}function iT(){return iT=(0,Se.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield sT(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>HA(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>HA(e.remoteStore,u)),n.onlineComponents=e}),iT.apply(this,arguments)}function sT(n){return oT.apply(this,arguments)}function oT(){return oT=(0,Se.Z)(function*(n){return n.offlineComponents||($e("FirestoreClient","Using default OfflineComponentProvider"),yield iS(n,new tS)),n.offlineComponents}),oT.apply(this,arguments)}function Yb(n){return aT.apply(this,arguments)}function aT(){return aT=(0,Se.Z)(function*(n){return n.onlineComponents||($e("FirestoreClient","Using default OnlineComponentProvider"),yield sS(n,new nT)),n.onlineComponents}),aT.apply(this,arguments)}function oS(n){return sT(n).then(e=>e.persistence)}function uT(n){return sT(n).then(e=>e.localStore)}function aS(n){return Yb(n).then(e=>e.remoteStore)}function lT(n){return Yb(n).then(e=>e.syncEngine)}function rm(n){return cT.apply(this,arguments)}function cT(){return cT=(0,Se.Z)(function*(n){const e=yield Yb(n),t=e.eventManager;return t.onListen=vM.bind(null,e.syncEngine),t.onUnlisten=_M.bind(null,e.syncEngine),t}),cT.apply(this,arguments)}function uS(n,e,t={}){const r=new Di;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(o,u,d,m,b){const A=new Zb({next:N=>{u.enqueueAndForget(()=>AC(o,O));const J=N.docs.has(d);!J&&N.fromCache?b.reject(new Le(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):J&&N.fromCache&&m&&"server"===m.source?b.reject(new Le(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(N)},error:N=>b.reject(N)}),O=new MC(Ac(d.path),A,{includeMetadataChanges:!0,Cu:!0});return CC(o,O)}(yield rm(n),n.asyncQueue,e,t,r)})),r.promise}function lS(n,e,t={}){const r=new Di;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function(o,u,d,m,b){const A=new Zb({next:N=>{u.enqueueAndForget(()=>AC(o,O)),N.fromCache&&"server"===m.source?b.reject(new Le(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(N)},error:N=>b.reject(N)}),O=new MC(d,A,{includeMetadataChanges:!0,Cu:!0});return CC(o,O)}(yield rm(n),n.asyncQueue,e,t,r)})),r.promise}const cS=new Map;function dT(n,e,t){if(!t)throw new Le(_e.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function dS(n,e,t,r){if(!0===e&&!0===r)throw new Le(_e.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function hS(n){if(!tt.isDocumentKey(n))throw new Le(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fS(n){if(tt.isDocumentKey(n))throw new Le(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Qb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":pt()}function yn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Le(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Qb(n);throw new Le(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function pS(n,e){if(e<=0)throw new Le(_e.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class gS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Le(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Le(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,dS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class f_{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gS({}),this._settingsFrozen=!1,e instanceof mu?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Le(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(o.options.projectId)}(e))}get app(){if(!this._app)throw new Le(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Le(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gS(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new vA;switch(t.type){case"gapi":const r=t.client;return jt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new dD(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Le(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=cS.get(e);t&&($e("ComponentProvider","Removing Datastore"),cS.delete(e),t.terminate())}(this),Promise.resolve()}}class dr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dr(this.firestore,e,this._key)}}class Ts{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ts(this.firestore,e,this._query)}}class Dl extends Ts{constructor(e,t,r){super(e,t,Ac(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dr(this.firestore,null,new tt(e))}withConverter(e){return new Dl(this.firestore,e,this._path)}}function mS(n,e,...t){if(n=(0,nn.m9)(n),dT("collection","path",e),n instanceof f_){const r=pn.fromString(e,...t);return fS(r),new Dl(n,null,r)}{if(!(n instanceof dr||n instanceof Dl))throw new Le(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pn.fromString(e,...t));return fS(r),new Dl(n.firestore,null,r)}}function Jb(n,e,...t){if(n=(0,nn.m9)(n),1===arguments.length&&(e=S0.R()),dT("doc","path",e),n instanceof f_){const r=pn.fromString(e,...t);return hS(r),new dr(n,null,new tt(r))}{if(!(n instanceof dr||n instanceof Dl))throw new Le(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pn.fromString(e,...t));return hS(r),new dr(n.firestore,n instanceof Dl?n.converter:null,new tt(r))}}function yS(n,e){return n=(0,nn.m9)(n),e=(0,nn.m9)(e),(n instanceof dr||n instanceof Dl)&&(e instanceof dr||e instanceof Dl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function vS(n,e){return n=(0,nn.m9)(n),e=(0,nn.m9)(e),n instanceof Ts&&e instanceof Ts&&n.firestore===e.firestore&&Sf(n._query,e._query)&&n.converter===e.converter}class QM{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new oC(this,"async_queue_retry"),this.qa=()=>{const t=Wb();t&&$e("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Do.Ao()};const e=Wb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ka(),this.Ga(e)}enterRestrictedMode(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;const t=Wb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}enqueue(e){if(this.Ka(),this.Oa)return new Promise(()=>{});const t=new Di;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ma.push(e),this.Qa()))}Qa(){var e=this;return(0,Se.Z)(function*(){if(0!==e.Ma.length){try{yield e.Ma[0](),e.Ma.shift(),e.Do.reset()}catch(t){if(!Oc(t))throw t;$e("AsyncQueue","Operation failed with retryable error: "+t)}e.Ma.length>0&&e.Do.To(()=>e.Qa())}})()}Ga(e){const t=this.ka.then(()=>(this.Ba=!0,e().catch(r=>{throw this.$a=r,this.Ba=!1,Br("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Ba=!1,r))));return this.ka=t,t}enqueueAfterDelay(e,t,r){this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);const o=DC.createAndSchedule(this,e,t,r,u=>this.ja(u));return this.Fa.push(o),o}Ka(){this.$a&&pt()}verifyOperationInProgress(){}Wa(){var e=this;return(0,Se.Z)(function*(){let t;do{t=e.ka,yield t}while(t!==e.ka)})()}za(e){for(const t of this.Fa)if(t.timerId===e)return!0;return!1}Ha(e){return this.Wa().then(()=>{this.Fa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Fa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Wa()})}Ja(e){this.Ua.push(e)}ja(e){const t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}function hT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class JM{constructor(){this._progressObserver={},this._taskCompletionResolver=new Di,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class wr extends f_{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new QM,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||_S(this),this._firestoreClient.terminate()}}function e1(n=(0,tl.getApp)()){return(0,tl._getProvider)(n,"firestore").getImmediate()}function hi(n){return n._firestoreClient||_S(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function _S(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new pD(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new UM(n._authCredentials,n._appCheckCredentials,n._queue,r)}function wS(n,e,t){const r=new Di;return n.asyncQueue.enqueue((0,Se.Z)(function*(){try{yield iS(n,t),yield sS(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(u=o).name?u.code===_e.FAILED_PRECONDITION||u.code===_e.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var u})).then(()=>r.promise)}function bS(n){if(n._initialized||n._terminated)throw new Le(_e.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Bc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Le(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new li(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cl(Ur.fromBase64String(e))}catch(t){throw new Le(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Cl(Ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Zf{constructor(e){this._methodName=e}}class Xb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Le(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Le(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}}const l1=/^__.*__$/;class c1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new wu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yd(e,this.data,t,this.fieldTransforms)}}class ES{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new wu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function IS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class eE{constructor(e,t,r,o,u,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=o,void 0===u&&this.Ya(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(e){return new eE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Za({path:r,ec:!1});return o.nc(e),o}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Za({path:r,ec:!1});return o.Ya(),o}ic(e){return this.Za({path:void 0,ec:!0})}rc(e){return rE(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ya(){if(this.path)for(let e=0;e<this.path.length;e++)this.nc(this.path.get(e))}nc(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(IS(this.Xa)&&l1.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}class d1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||c_(e)}ac(e,t,r,o=!1){return new eE({Xa:e,methodName:t,uc:r,path:li.emptyPath(),ec:!1,oc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Yf(n){const e=n._freezeSettings(),t=c_(n._databaseId);return new d1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function tE(n,e,t,r,o,u={}){const d=n.ac(u.merge||u.mergeFields?2:0,e,t,o);mT("Data must be an object, but it was:",d,r);const m=TS(r,d);let b,A;if(u.merge)b=new dl(d.fieldMask),A=d.fieldTransforms;else if(u.mergeFields){const O=[];for(const N of u.mergeFields){const J=yT(e,N,t);if(!d.contains(J))throw new Le(_e.INVALID_ARGUMENT,`Field '${J}' is specified in your field mask but missing from your input data.`);SS(O,J)||O.push(J)}b=new dl(O),A=d.fieldTransforms.filter(N=>b.covers(N.field))}else b=null,A=d.fieldTransforms;return new c1(new ji(m),b,A)}class p_ extends Zf{_toFieldTransform(e){if(2!==e.Xa)throw e.rc(1===e.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof p_}}function DS(n,e,t){return new eE({Xa:3,uc:e.settings.uc,methodName:n._methodName,ec:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class fT extends Zf{_toFieldTransform(e){return new Mf(e.path,new Wd)}isEqual(e){return e instanceof fT}}class h1 extends Zf{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=DS(this,e,!0),r=this.cc.map(u=>Qf(u,t)),o=new Sc(r);return new Mf(e.path,o)}isEqual(e){return this===e}}class f1 extends Zf{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=DS(this,e,!0),r=this.cc.map(u=>Qf(u,t)),o=new xc(r);return new Mf(e.path,o)}isEqual(e){return this===e}}class p1 extends Zf{constructor(e,t){super(e),this.hc=t}_toFieldTransform(e){const t=new Kd(e.M,Mv(e.M,this.hc));return new Mf(e.path,t)}isEqual(e){return this===e}}function pT(n,e,t,r){const o=n.ac(1,e,t);mT("Data must be an object, but it was:",o,r);const u=[],d=ji.empty();cl(r,(b,A)=>{const O=nE(e,b,t);A=(0,nn.m9)(A);const N=o.sc(O);if(A instanceof p_)u.push(O);else{const J=Qf(A,N);null!=J&&(u.push(O),d.set(O,J))}});const m=new dl(u);return new ES(d,m,o.fieldTransforms)}function gT(n,e,t,r,o,u){const d=n.ac(1,e,t),m=[yT(e,r,t)],b=[o];if(u.length%2!=0)throw new Le(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let J=0;J<u.length;J+=2)m.push(yT(e,u[J])),b.push(u[J+1]);const A=[],O=ji.empty();for(let J=m.length-1;J>=0;--J)if(!SS(A,m[J])){const ie=m[J];let be=b[J];be=(0,nn.m9)(be);const Ke=d.sc(ie);if(be instanceof p_)A.push(ie);else{const vt=Qf(be,Ke);null!=vt&&(A.push(ie),O.set(ie,vt))}}const N=new dl(A);return new ES(O,N,d.fieldTransforms)}function CS(n,e,t,r=!1){return Qf(t,n.ac(r?4:3,e))}function Qf(n,e){if(AS(n=(0,nn.m9)(n)))return mT("Unsupported field value:",e,n),TS(n,e);if(n instanceof Zf)return function(t,r){if(!IS(r.Xa))throw r.rc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.rc(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ec&&4!==e.Xa)throw e.rc("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const d of t){let m=Qf(d,r.ic(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,nn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Mv(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Tr.fromDate(t);return{timestampValue:eh(r.M,o)}}if(t instanceof Tr){const o=new Tr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:eh(r.M,o)}}if(t instanceof Xb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Cl)return{bytesValue:Nf(r.M,t._byteString)};if(t instanceof dr){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.rc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Lg(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.rc(`Unsupported field value: ${Qb(t)}`)}(n,e)}function TS(n,e){const t={};return k0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cl(n,(r,o)=>{const u=Qf(o,e.tc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function AS(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Tr||n instanceof Xb||n instanceof Cl||n instanceof dr||n instanceof Zf)}function mT(n,e,t){if(!AS(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Qb(t);throw e.rc("an object"===r?n+" a custom object":n+" "+r)}var r}function yT(n,e,t){if((e=(0,nn.m9)(e))instanceof Bc)return e._internalPath;if("string"==typeof e)return nE(n,e);throw rE("Field path arguments must be of type string or ",n,!1,void 0,t)}const g1=new RegExp("[~\\*/\\[\\]]");function nE(n,e,t){if(e.search(g1)>=0)throw rE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Bc(...e.split("."))._internalPath}catch(r){throw rE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function rE(n,e,t,r,o){const u=r&&!r.isEmpty(),d=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let b="";return(u||d)&&(b+=" (found",u&&(b+=` in field ${r}`),d&&(b+=` in document ${o}`),b+=")"),new Le(_e.INVALID_ARGUMENT,m+n+b)}function SS(n,e){return n.some(t=>t.isEqual(e))}class g_{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new m1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(iE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class m1 extends g_{data(){return super.data()}}function iE(n,e){return"string"==typeof e?nE(n,e):e instanceof Bc?e._internalPath:e._delegate._internalPath}class Jf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uc extends g_{constructor(e,t,r,o,u,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new m_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(iE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class m_ extends Uc{data(e={}){return super.data(e)}}class hh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Jf(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new m_(this._firestore,this._userDataWriter,r.key,r,new Jf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Le(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new m_(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Jf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const m=new m_(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Jf(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,A=-1;return 0!==d.type&&(b=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),A=u.indexOf(d.doc.key)),{type:y1(d.type),doc:m,oldIndex:b,newIndex:A}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function y1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function xS(n,e){return n instanceof Uc&&e instanceof Uc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof hh&&e instanceof hh&&n._firestore===e._firestore&&vS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function MS(n){if(Tf(n)&&0===n.explicitOrderBy.length)throw new Le(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y_{}function fh(n,...e){for(const t of e)n=t._apply(n);return n}class v1 extends y_{constructor(e,t,r){super(),this.lc=e,this.fc=t,this.dc=r,this.type="where"}_apply(e){const t=Yf(e.firestore),r=function(o,u,d,m,b,A,O){let N;if(b.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new Le(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if("in"===A||"not-in"===A){FS(O,A);const ie=[];for(const be of O)ie.push(NS(m,o,be));N={arrayValue:{values:ie}}}else N=NS(m,o,O)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||FS(O,A),N=CS(d,"where",O,"in"===A||"not-in"===A);const J=ci.create(b,A,N);return function(ie,be){if(be.S()){const vt=Dv(ie);if(null!==vt&&!vt.isEqual(be.field))throw new Le(_e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${vt.toString()}' and '${be.field.toString()}'`);const un=Af(ie);null!==un&&LS(0,be.field,un)}const Ke=function(vt,un){for(const ln of vt.filters)if(un.indexOf(ln.op)>=0)return ln.op;return null}(ie,function(vt){switch(vt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(be.op));if(null!==Ke)throw new Le(_e.INVALID_ARGUMENT,Ke===be.op?`Invalid query. You cannot use more than one '${be.op.toString()}' filter.`:`Invalid query. You cannot use '${be.op.toString()}' filters with '${Ke.toString()}' filters.`)}(o,J),J}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new Ts(e.firestore,e.converter,function(o,u){const d=o.filters.concat([u]);return new _u(o.path,o.collectionGroup,o.explicitOrderBy.slice(),d,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class w1 extends y_{constructor(e,t){super(),this.lc=e,this._c=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Le(_e.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Le(_e.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Tc(o,u);return function(m,b){if(null===Af(m)){const A=Dv(m);null!==A&&LS(0,A,b.field)}}(r,d),d}(e._query,this.lc,this._c);return new Ts(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new _u(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class kS extends y_{constructor(e,t,r){super(),this.type=e,this.wc=t,this.mc=r}_apply(e){return new Ts(e.firestore,e.converter,z0(e._query,this.wc,this.mc))}}class RS extends y_{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=OS(e,this.type,this.gc,this.yc);return new Ts(e.firestore,e.converter,(o=t,new _u((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class PS extends y_{constructor(e,t,r){super(),this.type=e,this.gc=t,this.yc=r}_apply(e){const t=OS(e,this.type,this.gc,this.yc);return new Ts(e.firestore,e.converter,(o=t,new _u((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function OS(n,e,t,r){if(t[0]=(0,nn.m9)(t[0]),t[0]instanceof g_)return function(o,u,d,m,b){if(!m)throw new Le(_e.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const A=[];for(const O of Gd(o))if(O.field.isKeyField())A.push(bc(u,m.key));else{const N=m.data.field(O.field);if(bf(N))throw new Le(_e.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+O.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const J=O.field.canonicalString();throw new Le(_e.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${J}' (used as the orderBy) does not exist.`)}A.push(N)}return new Ws(A,b)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Yf(n.firestore);return function(u,d,m,b,A,O){const N=u.explicitOrderBy;if(A.length>N.length)throw new Le(_e.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const J=[];for(let ie=0;ie<A.length;ie++){const be=A[ie];if(N[ie].field.isKeyField()){if("string"!=typeof be)throw new Le(_e.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof be}`);if(!Cv(u)&&-1!==be.indexOf("/"))throw new Le(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${b}() must be a plain document ID, but '${be}' contains a slash.`);const Ke=u.path.child(pn.fromString(be));if(!tt.isDocumentKey(Ke))throw new Le(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${b}() must result in a valid document path, but '${Ke}' is not because it contains an odd number of segments.`);const vt=new tt(Ke);J.push(bc(d,vt))}else{const Ke=CS(m,b,be);J.push(Ke)}}return new Ws(J,O)}(n._query,n.firestore._databaseId,o,e,t,r)}}function NS(n,e,t){if("string"==typeof(t=(0,nn.m9)(t))){if(""===t)throw new Le(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cv(e)&&-1!==t.indexOf("/"))throw new Le(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(pn.fromString(t));if(!tt.isDocumentKey(r))throw new Le(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bc(n,new tt(r))}if(t instanceof dr)return bc(n,t._key);throw new Le(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qb(t)}.`)}function FS(n,e){if(!Array.isArray(n)||0===n.length)throw new Le(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Le(_e.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function LS(n,e,t){if(!t.isEqual(e))throw new Le(_e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class vT{convertValue(e,t="none"){switch(fl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _r(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_c(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pt()}}convertObject(e,t){const r={};return cl(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new Xb(_r(e.latitude),_r(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=O0(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ld(e));default:return null}}convertTimestamp(e){const t=hl(e);return new Tr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=pn.fromString(e);jt(Hv(r));const o=new mu(r.get(1),r.get(3)),u=new tt(r.popFirst(5));return o.isEqual(t)||Br(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function sE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class S1 extends vT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,t)}}class VS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Yf(e)}set(e,t,r){this._verifyNotCommitted();const o=ph(e,this._firestore),u=sE(o.converter,t,r),d=tE(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,jr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=ph(e,this._firestore);let d;return d="string"==typeof(t=(0,nn.m9)(t))||t instanceof Bc?gT(this._dataReader,"WriteBatch.update",u._key,t,r,o):pT(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,jr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ph(e,this._firestore);return this._mutations=this._mutations.concat(new Rg(t._key,jr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(_e.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ph(n,e){if((n=(0,nn.m9)(n)).firestore!==e)throw new Le(_e.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Xf extends vT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dr(this.firestore,null,t)}}function BS(n,e,t){n=yn(n,dr);const r=yn(n.firestore,wr),o=sE(n.converter,e,t);return im(r,[tE(Yf(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,jr.none())])}function US(n,e,t,...r){n=yn(n,dr);const o=yn(n.firestore,wr),u=Yf(o);let d;return d="string"==typeof(e=(0,nn.m9)(e))||e instanceof Bc?gT(u,"updateDoc",n._key,e,t,r):pT(u,"updateDoc",n._key,e),im(o,[d.toMutation(n._key,jr.exists(!0))])}function jS(n,...e){var t,r,o;n=(0,nn.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||hT(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges};if(hT(e[d])){const N=e[d];e[d]=null===(t=N.next)||void 0===t?void 0:t.bind(N),e[d+1]=null===(r=N.error)||void 0===r?void 0:r.bind(N),e[d+2]=null===(o=N.complete)||void 0===o?void 0:o.bind(N)}let b,A,O;if(n instanceof dr)A=yn(n.firestore,wr),O=Ac(n._key.path),b={next:N=>{e[d]&&e[d](_T(A,n,N))},error:e[d+1],complete:e[d+2]};else{const N=yn(n,Ts);A=yn(N.firestore,wr),O=N._query;const J=new Xf(A);b={next:ie=>{e[d]&&e[d](new hh(A,J,N,ie))},error:e[d+1],complete:e[d+2]},MS(n._query)}return function(N,J,ie,be){const Ke=new Zb(be),vt=new MC(J,Ke,ie);return N.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return CC(yield rm(N),vt)})),()=>{Ke.Ia(),N.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return AC(yield rm(N),vt)}))}}(hi(A),O,m,b)}function im(n,e){return function(t,r){const o=new Di;return t.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function wM(n,e,t){return NC.apply(this,arguments)}(yield lT(t),r,o)})),o.promise}(hi(n),e)}function _T(n,e,t){const r=t.docs.get(e._key),o=new Xf(n);return new Uc(n,o,e._key,r,new Jf(t.hasPendingWrites,t.fromCache),e.converter)}class V1 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Yf(e)}get(e){const t=ph(e,this._firestore),r=new S1(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return pt();const u=o[0];if(u.isFoundDocument())return new g_(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new g_(this._firestore,r,t._key,null,t.converter);throw pt()})}set(e,t,r){const o=ph(e,this._firestore),u=sE(o.converter,t,r),d=tE(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const u=ph(e,this._firestore);let d;return d="string"==typeof(t=(0,nn.m9)(t))||t instanceof Bc?gT(this._dataReader,"Transaction.update",u._key,t,r,o):pT(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=ph(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ph(e,this._firestore),r=new Xf(this._firestore);return super.get(e).then(o=>new Uc(this._firestore,r,t._key,o._document,new Jf(!1,!1),t.converter))}}function wT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Le("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function HS(){if("undefined"==typeof Uint8Array)throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function GS(){if(!function fD(){return"undefined"!=typeof atob}())throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Od=tl.SDK_VERSION,(0,tl._registerComponent)(new Qh.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),u=new wr(o,new Eg(t.getProvider("auth-internal")),new wf(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,tl.registerVersion)(gv,"3.4.8",n),(0,tl.registerVersion)(gv,"3.4.8","esm2017")}();class v_{constructor(e){this._delegate=e}static fromBase64String(e){return GS(),new v_(Cl.fromBase64String(e))}static fromUint8Array(e){return HS(),new v_(Cl.fromUint8Array(e))}toBase64(){return GS(),this._delegate.toBase64()}toUint8Array(){return HS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function bT(n){return function q1(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class K1{enableIndexedDbPersistence(e,t){return function t1(n,e){bS(n=yn(n,wr));const t=hi(n),r=n._freezeSettings(),o=new nT;return wS(t,o,new nS(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function n1(n){bS(n=yn(n,wr));const e=hi(n),t=n._freezeSettings(),r=new nT;return wS(e,r,new FM(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function r1(n){if(n._initialized&&!n._terminated)throw new Le(_e.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Di;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Se.Z)(function*(){try{yield(t=(0,Se.Z)(function*(r){if(!Na.vt())return Promise.resolve();const o=r+"main";yield Na.delete(o)}),function(r){return t.apply(this,arguments)})(o_(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class zS{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof mu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Nd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function ZM(n,e,t,r={}){var o;const u=(n=yn(n,f_))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Nd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=ui.MOCK_USER;else{d=(0,nn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Le(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ui(b)}n._authCredentials=new A0(new lD(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function s1(n){return function jM(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield oS(n),t=yield aS(n);return e.setNetworkEnabled(!0),function(r){const o=at(r);return o.fu.delete(0),d_(o)}(t)}))}(hi(n=yn(n,wr)))}(this._delegate)}disableNetwork(){return function o1(n){return function $M(n){return n.asyncQueue.enqueue((0,Se.Z)(function*(){const e=yield oS(n),t=yield aS(n);return e.setNetworkEnabled(!1),(r=(0,Se.Z)(function*(o){const u=at(o);u.fu.add(0),yield Yg(u),u.wu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(hi(n=yn(n,wr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,dS("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function i1(n){return function(e){const t=new Di;return e.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return function DM(n,e){return UC.apply(this,arguments)}(yield lT(e),t)})),t.promise}(hi(n=yn(n,wr)))}(this._delegate)}onSnapshotsInSync(e){return function L1(n,e){return function zM(n,e){const t=new Zb(e);return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield rm(n),o=t,at(r).Eu.add(o),void o.next();var r,o})),()=>{t.Ia(),n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return r=yield rm(n),o=t,void at(r).Eu.delete(o);var r,o}))}}(hi(n=yn(n,wr)),hT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new sm(this,mS(this._delegate,e))}catch(t){throw Js(t,"collection()","Firestore.collection()")}}doc(e){try{return new Fa(this,Jb(this._delegate,e))}catch(t){throw Js(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Xs(this,function YM(n,e){if(n=yn(n,f_),dT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Le(_e.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ts(n,null,(t=e,new _u(pn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Js(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function B1(n,e){return function WM(n,e){const t=new Di;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){const r=yield(o=n,Yb(o).then(u=>u.datastore));var o;new BM(n.asyncQueue,r,e,t).run()})),t.promise}(hi(n=yn(n,wr)),t=>e(new V1(n,t)))}(this._delegate,t=>e(new WS(this,t)))}batch(){return hi(this._delegate),new qS(new VS(this._delegate,e=>im(this._delegate,e)))}loadBundle(e){return function a1(n,e){const t=hi(n=yn(n,wr)),r=new JM;return function qM(n,e,t,r){const o=function(u,d){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,b=function(b,A){if(b instanceof Uint8Array)return rS(b,A);if(b instanceof ArrayBuffer)return rS(new Uint8Array(b),A);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new LM(b,d);var b}(t,c_(e));n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){!function NM(n,e,t){const r=at(n);var o;(o=(0,Se.Z)(function*(u,d,m){try{const b=yield d.getMetadata();if(yield function(J,ie){const be=at(J),Ke=Ci(ie.createTime);return be.persistence.runTransaction("hasNewerBundle","readonly",vt=>be._s.getBundleMetadata(vt,ie.id)).then(vt=>!!vt&&vt.createTime.compareTo(Ke)>=0)}(u.localStore,b))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(J=b).totalDocuments,bytesLoaded:J.totalBytes,totalDocuments:J.totalDocuments,totalBytes:J.totalBytes}),Promise.resolve(new Set);m._updateProgress(WA(b));const A=new pM(b,u.localStore,d.M);let O=yield d.da();for(;O;){const J=yield A.ku(O);J&&m._updateProgress(J),O=yield d.da()}const N=yield A.complete();return yield Vc(u,N.Fu,void 0),yield function(J,ie){const be=at(J);return be.persistence.runTransaction("Save bundle","readwrite",Ke=>be._s.saveBundleMetadata(Ke,ie))}(u.localStore,b),m._completeWith(N.progress),Promise.resolve(N.Ou)}catch(b){return Nd("SyncEngine",`Loading bundle failed with ${b}`),m._failWith(b),Promise.resolve(new Set)}var J}),function(u,d,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield lT(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function u1(n,e){return function KM(n,e){return n.asyncQueue.enqueue((0,Se.Z)(function*(){return function(t,r){const o=at(t);return o.persistence.runTransaction("Get named query","readonly",u=>o._s.getNamedQuery(u,r))}(yield uT(n),e)}))}(hi(n=yn(n,wr)),e).then(t=>t?new Ts(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Xs(this,t):null)}}class oE extends vT{constructor(e){super(),this.firestore=e}convertBytes(e){return new v_(new Cl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Fa.forKey(t,this.firestore,null)}}class WS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new oE(e)}get(e){const t=tp(e);return this._delegate.get(t).then(r=>new __(this._firestore,new Uc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=tp(e);return r?(wT("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=tp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=tp(e);return this._delegate.delete(t),this}}class qS{constructor(e){this._delegate=e}set(e,t,r){const o=tp(e);return r?(wT("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=tp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=tp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ep{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new m_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new w_(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=ep.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new ep(e,new oE(e),t),o.set(t,u)),u}}ep.INSTANCES=new WeakMap;class Fa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new oE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Fa(t,new dr(t._delegate,r,new tt(e)))}static forKey(e,t,r){return new Fa(t,new dr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new sm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new sm(this.firestore,mS(this._delegate,e))}catch(t){throw Js(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,nn.m9)(e))instanceof dr&&yS(this._delegate,e)}set(e,t){t=wT("DocumentReference.set",t);try{return t?BS(this._delegate,e,t):BS(this._delegate,e)}catch(r){throw Js(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?US(this._delegate,e):US(this._delegate,e,t,...r)}catch(o){throw Js(o,"updateDoc()","DocumentReference.update()")}}delete(){return function N1(n){return im(yn(n.firestore,wr),[new Rg(n._key,jr.none())])}(this._delegate)}onSnapshot(...e){const t=KS(e),r=ZS(e,o=>new __(this.firestore,new Uc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return jS(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function M1(n){n=yn(n,dr);const e=yn(n.firestore,wr),t=hi(e),r=new Xf(e);return function HM(n,e){const t=new Di;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(o,u,d){try{const m=yield function(b,A){const O=at(b);return O.persistence.runTransaction("read document","readonly",N=>O.ci.Ls(N,A))}(o,u);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Le(_e.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const b=Xg(m,`Failed to get document '${u} from cache`);d.reject(b)}}),function(o,u,d){return r.apply(this,arguments)})(yield uT(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Uc(e,r,n._key,o,new Jf(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function k1(n){n=yn(n,dr);const e=yn(n.firestore,wr);return uS(hi(e),n._key,{source:"server"}).then(t=>_T(e,n,t))}(this._delegate):function x1(n){n=yn(n,dr);const e=yn(n.firestore,wr);return uS(hi(e),n._key).then(t=>_T(e,n,t))}(this._delegate),t.then(r=>new __(this.firestore,new Uc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Fa(this.firestore,this._delegate.withConverter(e?ep.getInstance(this.firestore,e):null))}}function Js(n,e,t){return n.message=n.message.replace(e,t),n}function KS(n){for(const e of n)if("object"==typeof e&&!bT(e))return e;return{}}function ZS(n,e){var t,r;let o;return o=bT(n[0])?n[0]:bT(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class __{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Fa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return xS(this._delegate,e._delegate)}}class w_ extends __{data(e){const t=this._delegate.data(e);return function T0(n,e){n||pt()}(void 0!==t),t}}class Xs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new oE(e)}where(e,t,r){try{return new Xs(this.firestore,fh(this._delegate,function _1(n,e,t){const r=e,o=iE("where",n);return new v1(o,r,t)}(e,t,r)))}catch(o){throw Js(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Xs(this.firestore,fh(this._delegate,function b1(n,e="asc"){const t=e,r=iE("orderBy",n);return new w1(r,t)}(e,t)))}catch(r){throw Js(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Xs(this.firestore,fh(this._delegate,function E1(n){return pS("limit",n),new kS("limit",n,"F")}(e)))}catch(t){throw Js(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Xs(this.firestore,fh(this._delegate,function I1(n){return pS("limitToLast",n),new kS("limitToLast",n,"L")}(e)))}catch(t){throw Js(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Xs(this.firestore,fh(this._delegate,function D1(...n){return new RS("startAt",n,!0)}(...e)))}catch(t){throw Js(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Xs(this.firestore,fh(this._delegate,function C1(...n){return new RS("startAfter",n,!1)}(...e)))}catch(t){throw Js(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Xs(this.firestore,fh(this._delegate,function T1(...n){return new PS("endBefore",n,!1)}(...e)))}catch(t){throw Js(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Xs(this.firestore,fh(this._delegate,function A1(...n){return new PS("endAt",n,!0)}(...e)))}catch(t){throw Js(t,"endAt()","Query.endAt()")}}isEqual(e){return vS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function P1(n){n=yn(n,Ts);const e=yn(n.firestore,wr),t=hi(e),r=new Xf(e);return function GM(n,e){const t=new Di;return n.asyncQueue.enqueueAndForget((0,Se.Z)(function*(){return(r=(0,Se.Z)(function*(o,u,d){try{const m=yield i(o,u,!0),b=new ZA(u,m.li),A=b.Gu(m.documents),O=b.applyChanges(A,!1);d.resolve(O.snapshot)}catch(m){const b=Xg(m,`Failed to execute query '${u} against cache`);d.reject(b)}}),function(o,u,d){return r.apply(this,arguments)})(yield uT(n),e,t);var r})),t.promise}(t,n._query).then(o=>new hh(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function O1(n){n=yn(n,Ts);const e=yn(n.firestore,wr),t=hi(e),r=new Xf(e);return lS(t,n._query,{source:"server"}).then(o=>new hh(e,r,n,o))}(this._delegate):function R1(n){n=yn(n,Ts);const e=yn(n.firestore,wr),t=hi(e),r=new Xf(e);return MS(n._query),lS(t,n._query).then(o=>new hh(e,r,n,o))}(this._delegate),t.then(r=>new ET(this.firestore,new hh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=KS(e),r=ZS(e,o=>new ET(this.firestore,new hh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return jS(this._delegate,t,r)}withConverter(e){return new Xs(this.firestore,this._delegate.withConverter(e?ep.getInstance(this.firestore,e):null))}}class Y1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new w_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ET{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new w_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Y1(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new w_(this._firestore,r))})}isEqual(e){return xS(this._delegate,e._delegate)}}class sm extends Xs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Fa(this.firestore,e):null}doc(e){try{return new Fa(this.firestore,void 0===e?Jb(this._delegate):Jb(this._delegate,e))}catch(t){throw Js(t,"doc()","CollectionReference.doc()")}}add(e){return function F1(n,e){const t=yn(n.firestore,wr),r=Jb(n),o=sE(n.converter,e);return im(t,[tE(Yf(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,jr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Fa(this.firestore,t))}isEqual(e){return yS(this._delegate,e._delegate)}withConverter(e){return new sm(this.firestore,this._delegate.withConverter(e?ep.getInstance(this.firestore,e):null))}}function tp(n){return yn(n,dr)}class IT{constructor(...e){this._delegate=new Bc(...e)}static documentId(){return new IT(li.keyField().canonicalString())}isEqual(e){return(e=(0,nn.m9)(e))instanceof Bc&&this._delegate._internalPath.isEqual(e._internalPath)}}class np{constructor(e){this._delegate=e}static serverTimestamp(){const e=function j1(){return new fT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new np(e)}static delete(){const e=function U1(){return new p_("deleteField")}();return e._methodName="FieldValue.delete",new np(e)}static arrayUnion(...e){const t=function $1(...n){return new h1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new np(t)}static arrayRemove(...e){const t=function H1(...n){return new f1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new np(t)}static increment(e){const t=function G1(n){return new p1("increment",n)}(e);return t._methodName="FieldValue.increment",new np(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Q1={Firestore:zS,GeoPoint:Xb,Timestamp:Tr,Blob:v_,Transaction:WS,WriteBatch:qS,DocumentReference:Fa,DocumentSnapshot:__,Query:Xs,QueryDocumentSnapshot:w_,QuerySnapshot:ET,CollectionReference:sm,FieldPath:IT,FieldValue:np,setLogLevel:function Z1(n){!function uD(n){To.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function X1(n){(function J1(n,e){n.INTERNAL.registerComponent(new Qh.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},Q1)))})(n,(e,t)=>new zS(e,t,new K1)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(Zo.Z);var ek=L(6451),aE=L(5363),tk=L(6063);class nk extends ts.x{constructor(e=1/0,t=1/0,r=tk.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!o&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const d=t.now();let m=0;for(let b=1;b<r.length&&r[b]<=d;b+=2)m=b;m&&r.splice(0,m+1)}}}var rk=L(3099);function YS(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,rk.B)({connector:()=>new nk(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function QS(n,e){return(0,va.m)(e)?sr(()=>n,e):sr(()=>n)}var DT=L(9468),rp=L(5867);class om{constructor(e){return e}}class JS{constructor(){return(0,rp.C6)()}}const CT=new p.OlP("angularfire2._apps"),sk={provide:om,useFactory:function ik(n){return n&&1===n.length?n[0]:new om((0,rp.Mq)())},deps:[[new p.FiY,CT]]},ok={provide:JS,deps:[[new p.FiY,CT]]};function ak(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new om(r)}}let uk=(()=>{class n{constructor(t){(0,rp.KN)("angularfire",Gn.q4.full,"core"),(0,rp.KN)("angularfire",Gn.q4.full,"app"),(0,rp.KN)("angular",p.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.Lbi))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[sk,ok]}),n})();function lk(n,...e){return{ngModule:uk,providers:[{provide:CT,useFactory:ak(n),multi:!0,deps:[p.R0b,p.zs3,Gn.HU,...e]}]}}const ck=(0,Gn.u3)(rp.ZF,!0),XS=new Map,dk={activated:!1,tokenObservers:[]},hk={initialized:!1,enabled:!1};function Hi(n){return XS.get(n)||dk}function Cu(n,e){XS.set(n,e)}function uE(){return hk}class yk{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Se.Z)(function*(){t.stop();try{t.pending=new nn.BH,yield function vk(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new nn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const eo=new nn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function tx(n){if(!Hi(n).activated)throw eo.create("use-before-activation",{appName:n.name})}function ST(n,e){return xT.apply(this,arguments)}function xT(){return xT=(0,Se.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const N=yield o.getHeartbeatsHeader();N&&(r["X-Firebase-Client"]=N)}const u={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,u)}catch(N){throw eo.create("fetch-network-error",{originalErrorMessage:N.message})}if(200!==d.status)throw eo.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(N){throw eo.create("fetch-parse-error",{originalErrorMessage:N.message})}const b=m.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw eo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const A=1e3*Number(b[1]),O=Date.now();return{token:m.attestationToken,expireTimeMillis:O+A,issuedAtTimeMillis:O}}),xT.apply(this,arguments)}function Ik(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const b_="firebase-app-check-store";let dE=null;function rx(){return dE||(dE=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(eo.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(b_,{keyPath:"compositeKey"})}}catch(t){e(eo.create("storage-open",{originalErrorMessage:t.message}))}}),dE)}function MT(){return MT=(0,Se.Z)(function*(n,e){const r=(yield rx()).transaction(b_,"readwrite"),u=r.objectStore(b_).put({compositeKey:n,value:e});return new Promise((d,m)=>{u.onsuccess=b=>{d()},r.onerror=b=>{var A;m(eo.create("storage-set",{originalErrorMessage:null===(A=b.target.error)||void 0===A?void 0:A.message}))}})}),MT.apply(this,arguments)}const E_=new fu.Yd("@firebase/app-check");function ax(n,e){return(0,nn.hl)()?function Ak(n,e){return function ix(n,e){return MT.apply(this,arguments)}(function ox(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{E_.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function ux(){return uE().enabled}function lx(){return OT.apply(this,arguments)}function OT(){return OT=(0,Se.Z)(function*(){const n=uE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),OT.apply(this,arguments)}const Pk={error:"UNKNOWN_ERROR"};function Ok(n){return nn.US.encodeString(JSON.stringify(n),!1)}function hE(n){return NT.apply(this,arguments)}function NT(){return NT=(0,Se.Z)(function*(n,e=!1){const t=n.app;tx(t);const r=Hi(t);let u,o=r.token;if(!o){const b=yield r.cachedTokenPromise;b&&fE(b)&&(o=b)}if(!e&&o&&fE(o))return{token:o.token};let m,d=!1;if(ux()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ST(Ik(t,yield lx()),n.heartbeatServiceProvider).then(A=>(r.exchangeTokenPromise=void 0,A)),d=!0);const b=yield r.exchangeTokenPromise;return yield ax(t,b),Cu(t,Object.assign(Object.assign({},r),{token:b})),{token:b.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(b=>(r.exchangeTokenPromise=void 0,b)),d=!0),o=yield r.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?E_.warn(b.message):E_.error(b),u=b}return o?(m={token:o.token},Cu(t,Object.assign(Object.assign({},r),{token:o})),yield ax(t,o)):m=Fk(u),d&&dx(t,m),m}),NT.apply(this,arguments)}function LT(n,e){const t=Hi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Cu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function cx(n){const{app:e}=n,t=Hi(e);let r=t.tokenRefresher;r||(r=function Nk(n){const{app:e}=n;return new yk((0,Se.Z)(function*(){let r;if(r=Hi(e).token?yield hE(n,!0):yield hE(n),r.error)throw r.error}),()=>!0,()=>{const t=Hi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Cu(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function dx(n,e){const t=Hi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function fE(n){return n.expireTimeMillis-Date.now()>0}function Fk(n){return{token:Ok(Pk),error:n}}class Lk{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Hi(this.app);for(const t of e)LT(this.app,t.next);return Promise.resolve()}}const _x="app-check-internal";!function Qk(){(0,tl._registerComponent)(new Qh.wA("app-check",n=>function Vk(n,e){return new Lk(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(_x).initialize()})),(0,tl._registerComponent)(new Qh.wA(_x,n=>function Bk(n){return{getToken:e=>hE(n,e),addTokenListener:e=>function FT(n,e,t,r){const{app:o}=n,u=Hi(o),d={next:t,error:r,type:e};if(Cu(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&fE(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),cx(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>cx(n))}(n,"INTERNAL",e),removeTokenListener:e=>LT(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,tl.registerVersion)("@firebase/app-check","0.5.6")}();class gE{constructor(){return(0,Gn.vb)("app-check")}}"undefined"!=typeof window&&window;var nR=L(127);const bx=new p.OlP("angularfire2.auth.use-emulator"),Ex=new p.OlP("angularfire2.auth.settings"),Ix=new p.OlP("angularfire2.auth.tenant-id"),Dx=new p.OlP("angularfire2.auth.langugage-code"),Cx=new p.OlP("angularfire2.auth.use-device-language"),Tx=new p.OlP("angularfire.auth.persistence"),Ax=(n,e,t,r,o,u,d,m)=>(0,Io.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=e.runOutsideAngular(()=>n.auth());if(t&&b.useEmulator(...t),r&&(b.tenantId=r),b.languageCode=o,u&&b.useDeviceLanguage(),d)for(const[A,O]of Object.entries(d))b.settings[A]=O;return m&&b.setPersistence(m),b},[t,r,o,u,d,m]);let Sx=(()=>{class n{constructor(t,r,o,u,d,m,b,A,O,N,J,ie){const be=new ts.x,Ke=Et(void 0).pipe((0,aE.Q)(d.outsideAngular),sr(()=>u.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,5881)))),(0,bt.U)(()=>(0,Io.on)(t,u,r)),(0,bt.U)(vt=>Ax(vt,u,m,A,O,N,b,J)),YS({bufferSize:1,refCount:!1}));if(mi(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Et(null);else{Ke.pipe(Uo()).subscribe();const un=Ke.pipe(sr(en=>en.getRedirectResult().then(cn=>cn,()=>null)),Gn.iC,YS({bufferSize:1,refCount:!1})),ln=Ke.pipe(sr(en=>new w.y(cn=>({unsubscribe:u.runOutsideAngular(()=>en.onAuthStateChanged(kn=>cn.next(kn),kn=>cn.error(kn),()=>cn.complete()))})))),dn=Ke.pipe(sr(en=>new w.y(cn=>({unsubscribe:u.runOutsideAngular(()=>en.onIdTokenChanged(kn=>cn.next(kn),kn=>cn.error(kn),()=>cn.complete()))}))));this.authState=un.pipe(QS(ln),(0,DT.R)(d.outsideAngular),(0,aE.Q)(d.insideAngular)),this.user=un.pipe(QS(dn),(0,DT.R)(d.outsideAngular),(0,aE.Q)(d.insideAngular)),this.idToken=this.user.pipe(sr(en=>en?(0,Vn.D)(en.getIdToken()):Et(null))),this.idTokenResult=this.user.pipe(sr(en=>en?(0,Vn.D)(en.getIdTokenResult()):Et(null))),this.credential=(0,ek.T)(un,be,this.authState.pipe(Bs(en=>!en))).pipe((0,bt.U)(en=>(null==en?void 0:en.user)?en:null),(0,DT.R)(d.outsideAngular),(0,aE.Q)(d.insideAngular))}return(0,Io.pX)(this,Ke,u,{spy:{apply:(vt,un,ln)=>{(vt.startsWith("signIn")||vt.startsWith("createUser"))&&ln.then(dn=>be.next(dn))}}})}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Io.Dh),p.LFG(Io.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Gn.HU),p.LFG(bx,8),p.LFG(Ex,8),p.LFG(Ix,8),p.LFG(Dx,8),p.LFG(Cx,8),p.LFG(Tx,8),p.LFG(gE,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function xx(n,e){return function iR(n,e=gA.z){return new w.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function $T(n,e){return xx(n,e).pipe((0,bt.U)(t=>({payload:t,type:"query"})))}function mE(n,e){return $T(n,e).pipe(ns(void 0),Yh(),(0,bt.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const b=o.find(O=>O.doc.ref.isEqual(d.ref)),A=null==t?void 0:t.payload.docs.find(O=>O.ref.isEqual(d.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(d.metadata)||!b&&A&&JSON.stringify(A.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),u}))}function Mx(n,e,t){return mE(n,t).pipe(Pi((r,o)=>function oR(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function aR(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return HT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return HT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return HT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function xI(n,e=Bn.y){return n=null!=n?n:Uw,(0,Or.e)((t,r)=>{let o,u=!0;t.subscribe((0,Yn.x)(r,d=>{const m=e(d);(u||!n(o,m))&&(u=!1,o=m,r.next(d))}))})}(),(0,bt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function HT(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function kx(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Rx{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=mE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,bt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(ns(void 0),Yh(),Bs(([r,o])=>o.length>0||!r),(0,bt.U)(([r,o])=>o),Gn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Pi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=kx(e);return Mx(this.query,t,this.afs.schedulers.outsideAngular).pipe(Gn.iC)}valueChanges(e={}){return $T(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Gn.iC)}get(e){return(0,Vn.D)(this.query.get(e)).pipe(Gn.iC)}add(e){return this.ref.add(e)}doc(e){return new Px(this.ref.doc(e),this.afs)}}class Px{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=Fx(r,t);return new Rx(o,u,this.afs)}snapshotChanges(){return function sR(n,e){return xx(n,e).pipe(ns(void 0),Yh(),(0,bt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Gn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,bt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Vn.D)(this.ref.get(e)).pipe(Gn.iC)}}class uR{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?mE(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Bs(t=>t.length>0),Gn.iC):mE(this.query,this.afs.schedulers.outsideAngular).pipe(Gn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Pi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=kx(e);return Mx(this.query,t,this.afs.schedulers.outsideAngular).pipe(Gn.iC)}valueChanges(e={}){return $T(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Gn.iC)}get(e){return(0,Vn.D)(this.query.get(e)).pipe(Gn.iC)}}const Ox=new p.OlP("angularfire2.enableFirestorePersistence"),Nx=new p.OlP("angularfire2.firestore.persistenceSettings"),lR=new p.OlP("angularfire2.firestore.settings"),cR=new p.OlP("angularfire2.firestore.use-emulator");function Fx(n,e=(t=>t)){return{query:e(n),ref:n}}let Lx=(()=>{class n{constructor(t,r,o,u,d,m,b,A,O,N,J,ie,be,Ke,vt,un,ln){this.schedulers=b;const dn=(0,Io.on)(t,m,r),en=O;N&&Ax(dn,m,J,be,Ke,vt,ie,un),[this.firestore,this.persistenceEnabled$]=(0,Io.cc)(`${dn.name}.firestore`,"AngularFirestore",dn.name,()=>{const cn=m.runOutsideAngular(()=>dn.firestore());if(u&&cn.settings(u),en&&cn.useEmulator(...en),o&&!mi(d)){const kn=()=>{try{return(0,Vn.D)(cn.enablePersistence(A||void 0).then(()=>!0,()=>!1))}catch(As){return"undefined"!=typeof console&&console.warn(As),Et(!1)}};return[cn,m.runOutsideAngular(kn)]}return[cn,Et(!1)]},[u,en,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=Fx(o,r),m=this.schedulers.ngZone.run(()=>u);return new Rx(m,d,this)}collectionGroup(t,r){const o=r||(d=>d),u=this.firestore.collectionGroup(t);return new uR(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new Px(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Io.Dh),p.LFG(Io.xv,8),p.LFG(Ox,8),p.LFG(lR,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(Gn.HU),p.LFG(Nx,8),p.LFG(cR,8),p.LFG(Sx,8),p.LFG(bx,8),p.LFG(Ex,8),p.LFG(Ix,8),p.LFG(Dx,8),p.LFG(Cx,8),p.LFG(Tx,8),p.LFG(gE,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),dR=(()=>{class n{constructor(){nR.Z.registerVersion("angularfire",Gn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Ox,useValue:!0},{provide:Nx,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[Lx]}),n})(),I_=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("task").add(t)}getAll(t){return this._client.collection("task").valueChanges({idField:"id"}).pipe((0,bt.U)(r=>((n,e)=>{if(void 0===e)return n;const t=Object.keys(e);return n.filter(o=>((o,u,d)=>void 0===o.find(m=>u[m]!==d[m]))(t,o,e))})(r,t)))}remove(t){this._client.doc("task/"+t).delete()}set(t){console.log(t.id),this._client.doc("task/"+t.id).update(t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Lx))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),fR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[I_,{provide:dy,useExisting:I_},{provide:Fw,useExisting:I_},{provide:Lw,useExisting:I_},{provide:hy,useExisting:I_}],imports:[[dR]]}),n})(),pR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[],imports:[[oo,Ku.forChild([{path:"",component:AI}]),SI,fR]]}),n})();const gR=[{path:"home",loadChildren:()=>K_},{path:"task",loadChildren:()=>pR}];let mR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[Ku.forRoot(gR),K_],Ku]}),n})(),yR=(()=>{class n{constructor(){this.Date1=new Date}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["lib-data-picker"]],decls:2,vars:3,template:function(t,r){1&t&&(p._uU(0),p.ALo(1,"date")),2&t&&p.hij("\nDate is : ",p.lcZ(1,1,r.Date1),"\n")},pipes:[Wi],encapsulation:2,changeDetection:0}),n})(),vR=(()=>{class n{constructor(){this.title="todoapp2"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-root"]],decls:22,vars:0,consts:[[1,"navbar-custom"],[1,"container"],[1,"navbar-brand","d-flex","align-items-center"],[1,"container","my-4"],[1,"fw-bold"],[1,"mb-5"],[1,"row","row-cols-1","row-cols-md-3","g-3"],[1,"col"],[1,"card"],["src","https://blog.strefakursow.pl/content/images/2021/08/Co-zamiast-Office-a-Darmowe-pakiety-biurowe--libre--open-office--google-.png","width","349","height","180","alt","foto1",1,"card-img-top"],["src","https://etechnologie.pl/wp-content/uploads/2019/01/darmowe-szkolenia.jpg","width","349","height","180","alt","foto2",1,"card-img-top"],["src","https://mdbcdn.b-cdn.net/img/new/standard/city/044.webp","width","349","height","180","alt","foto3",1,"card-img-top"]],template:function(t,r){1&t&&(p.TgZ(0,"header")(1,"div",0)(2,"div",1)(3,"a",2)(4,"strong"),p._uU(5,"Awsome TODO App"),p.qZA()()()()(),p.TgZ(6,"div",3)(7,"p",4),p._uU(8,"TODAY"),p.qZA(),p._UZ(9,"lib-data-picker")(10,"hr",5)(11,"router-outlet"),p.TgZ(12,"div",6)(13,"div",7)(14,"div",8),p._UZ(15,"img",9),p.qZA()(),p.TgZ(16,"div",7)(17,"div",8),p._UZ(18,"img",10),p.qZA()(),p.TgZ(19,"div",7)(20,"div",8),p._UZ(21,"img",11),p.qZA()()()())},directives:[yR,Yl],styles:[".navbar-custom[_ngcontent-%COMP%]{background-color:#7749f8}.button[_ngcontent-%COMP%]{background-color:green}"]}),n})();const GT_firebase={projectId:"todoapp2-f4299",appId:"1:37824696185:web:b4a72bb9609df227f5e9a8",storageBucket:"todoapp2-f4299.appspot.com",locationId:"europe-west",apiKey:"AIzaSyAPXDGGHHHPic6XyPvvDsMq20Rtl04xGlY",authDomain:"todoapp2-f4299.firebaseapp.com",messagingSenderId:"37824696185"};L(573);class Bx{constructor(){return(0,Gn.vb)("auth")}}class qT{constructor(e){return e}}const Ux="firestore",KT=new p.OlP("angularfire2.firestore-instances");function DR(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new qT(r)}}const CR={provide:class ER{constructor(){return(0,Gn.vb)(Ux)}},deps:[[new p.FiY,KT]]},TR={provide:qT,useFactory:function IR(n,e){const t=(0,Gn.JM)(Ux,n,e);return t&&new qT(t)},deps:[[new p.FiY,KT],om]};let AR=(()=>{class n{constructor(){(0,rp.KN)("angularfire",Gn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[TR,CR]}),n})();function SR(n,...e){return{ngModule:AR,providers:[{provide:KT,useFactory:DR(n),multi:!0,deps:[p.R0b,p.zs3,Gn.HU,JS,[new p.FiY,Bx],[new p.FiY,gE],...e]}]}}const xR=(0,Gn.u3)(e1,!0);let MR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n,bootstrap:[vR]}),n.\u0275inj=p.cJS({providers:[],imports:[[Io.hO.initializeApp(GT_firebase),Lm,Os,mR,lk(()=>ck(GT_firebase)),SR(()=>xR())]]}),n})();(0,p.G48)(),po().bootstrapModule(MR).catch(n=>console.error(n))},5867:(mt,xe,L)=>{"use strict";L.d(xe,{C6:()=>p.getApps,KN:()=>p.registerVersion,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=L(9681);(0,p.registerVersion)("firebase","9.6.11","app")},127:(mt,xe,L)=>{"use strict";L.d(xe,{Z:()=>p.Z});var p=L(3942);p.Z.registerVersion("firebase","9.6.11","app-compat")},5881:(mt,xe,L)=>{"use strict";L.r(xe);var p=L(5861),j=L(3942),P=L(573),ae=L(2090),ge=(L(9681),L(1877),L(4859));function pe(){return window}function W(){return(W=(0,p.Z)(function*(F,U,H){var fe;const{BuildInfo:je}=pe();(0,P.ap)(U.sessionId,"AuthEvent did not contain a session ID");const Je=yield Ae(U.sessionId),wt={};return(0,P.aq)()?wt.ibi=je.packageName:(0,P.ar)()?wt.apn=je.packageName:(0,P.as)(F,"operation-not-supported-in-this-environment"),je.displayName&&(wt.appDisplayName=je.displayName),wt.sessionId=Je,(0,P.at)(F,H,U.type,void 0,null!==(fe=U.eventId)&&void 0!==fe?fe:void 0,wt)})).apply(this,arguments)}function We(){return(We=(0,p.Z)(function*(F){const{BuildInfo:U}=pe(),H={};(0,P.aq)()?H.iosBundleId=U.packageName:(0,P.ar)()?H.androidPackageName=U.packageName:(0,P.as)(F,"operation-not-supported-in-this-environment"),yield(0,P.au)(F,H)})).apply(this,arguments)}function Ue(){return(Ue=(0,p.Z)(function*(F,U,H){const{cordova:fe}=pe();let je=()=>{};try{yield new Promise((Je,wt)=>{let ut=null;function Rt(){var Qt;Je();const br=null===(Qt=fe.plugins.browsertab)||void 0===Qt?void 0:Qt.close;"function"==typeof br&&br(),"function"==typeof(null==H?void 0:H.close)&&H.close()}function Cn(){ut||(ut=window.setTimeout(()=>{wt((0,P.av)(F,"redirect-cancelled-by-user"))},2e3))}function tr(){"visible"===(null==document?void 0:document.visibilityState)&&Cn()}U.addPassiveListener(Rt),document.addEventListener("resume",Cn,!1),(0,P.ar)()&&document.addEventListener("visibilitychange",tr,!1),je=()=>{U.removePassiveListener(Rt),document.removeEventListener("resume",Cn,!1),document.removeEventListener("visibilitychange",tr,!1),ut&&window.clearTimeout(ut)}})}finally{je()}})).apply(this,arguments)}function Ae(F){return st.apply(this,arguments)}function st(){return(st=(0,p.Z)(function*(F){const U=qe(F),H=yield crypto.subtle.digest("SHA-256",U);return Array.from(new Uint8Array(H)).map(je=>je.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function qe(F){if((0,P.ap)(/[0-9a-zA-Z]+/.test(F),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(F);const U=new ArrayBuffer(F.length),H=new Uint8Array(U);for(let fe=0;fe<F.length;fe++)H[fe]=F.charCodeAt(fe);return H}class Pe extends P.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(U=>{this.resolveInialized=U})}addPassiveListener(U){this.passiveListeners.add(U)}removePassiveListener(U){this.passiveListeners.delete(U)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(U){return this.resolveInialized(),this.passiveListeners.forEach(H=>H(U)),super.onEvent(U)}initialized(){var U=this;return(0,p.Z)(function*(){yield U.initPromise})()}}function re(F){return Y.apply(this,arguments)}function Y(){return(Y=(0,p.Z)(function*(F){const U=yield ue()._get(de(F));return U&&(yield ue()._remove(de(F))),U})).apply(this,arguments)}function ne(){const F=[],U="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let H=0;H<20;H++){const fe=Math.floor(Math.random()*U.length);F.push(U.charAt(fe))}return F.join("")}function ue(){return(0,P.ax)(P.b)}function de(F){return(0,P.ay)("authEvent",F.config.apiKey,F.name)}function Be(F){if(!(null==F?void 0:F.includes("?")))return{};const[U,...H]=F.split("?");return(0,ae.zd)(H.join("?"))}function Ge(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.av)("no-auth-event")}}function $t(){var F;return(null===(F=null==self?void 0:self.location)||void 0===F?void 0:F.protocol)||null}function An(F=(0,ae.z$)()){return!("file:"!==$t()&&"ionic:"!==$t()||!F.toLowerCase().match(/iphone|ipad|ipod|android/))}function xr(){try{const F=self.localStorage,U=P.aG();if(F)return F.setItem(U,"1"),F.removeItem(U),!function Qr(F=(0,ae.z$)()){return function ur(){return(0,ae.w1)()&&11===(null==document?void 0:document.documentMode)}()||function hr(F=(0,ae.z$)()){return/Edge\/\d+/.test(F)}(F)}()||(0,ae.hl)()}catch(F){return qn()&&(0,ae.hl)()}return!1}function qn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function fr(){return(function Yt(){return"http:"===$t()||"https:"===$t()}()||(0,ae.ru)()||An())&&!function Wn(){return(0,ae.b$)()||(0,ae.UG)()}()&&xr()&&!qn()}function Mr(){return An()&&"undefined"!=typeof document}function Sn(){return(Sn=(0,p.Z)(function*(){return!!Mr()&&new Promise(F=>{const U=setTimeout(()=>{F(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(U),F(!0)})})})).apply(this,arguments)}const Vt={LOCAL:"local",NONE:"none",SESSION:"session"},Pn=P.aw,Hr="persistence";function _t(F){return xn.apply(this,arguments)}function xn(){return(xn=(0,p.Z)(function*(F){yield F._initializationPromise;const U=Lt(),H=P.ay(Hr,F.config.apiKey,F.name);U&&U.setItem(H,F._getPersistence())})).apply(this,arguments)}function Lt(){var F;try{return(null===(F=function Un(){return"undefined"!=typeof window?window:null}())||void 0===F?void 0:F.sessionStorage)||null}catch(U){return null}}const it=P.aw;class Ze{constructor(){this.browserResolver=P.ax(P.k),this.cordovaResolver=P.ax(class Xt{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aA}_initialize(U){var H=this;return(0,p.Z)(function*(){const fe=U._key();let je=H.eventManagers.get(fe);return je||(je=new Pe(U),H.eventManagers.set(fe,je),H.attachCallbackListeners(U,je)),je})()}_openPopup(U){(0,P.as)(U,"operation-not-supported-in-this-environment")}_openRedirect(U,H,fe,je){var Je=this;return(0,p.Z)(function*(){!function we(F){var U,H,fe,je,Je,wt,ut,Rt,Cn,tr;const Qt=pe();(0,P.aw)("function"==typeof(null===(U=null==Qt?void 0:Qt.universalLinks)||void 0===U?void 0:U.subscribe),F,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.aw)(void 0!==(null===(H=null==Qt?void 0:Qt.BuildInfo)||void 0===H?void 0:H.packageName),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.aw)("function"==typeof(null===(Je=null===(je=null===(fe=null==Qt?void 0:Qt.cordova)||void 0===fe?void 0:fe.plugins)||void 0===je?void 0:je.browsertab)||void 0===Je?void 0:Je.openUrl),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aw)("function"==typeof(null===(Rt=null===(ut=null===(wt=null==Qt?void 0:Qt.cordova)||void 0===wt?void 0:wt.plugins)||void 0===ut?void 0:ut.browsertab)||void 0===Rt?void 0:Rt.isAvailable),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aw)("function"==typeof(null===(tr=null===(Cn=null==Qt?void 0:Qt.cordova)||void 0===Cn?void 0:Cn.InAppBrowser)||void 0===tr?void 0:tr.open),F,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(U);const wt=yield Je._initialize(U);yield wt.initialized(),wt.resetRedirect(),(0,P.aB)(),yield Je._originValidation(U);const ut=function Ce(F,U,H=null){return{type:U,eventId:H,urlResponse:null,sessionId:ne(),postBody:null,tenantId:F.tenantId,error:(0,P.av)(F,"no-auth-event")}}(U,fe,je);yield function Xe(F,U){return ue()._set(de(F),U)}(U,ut);const Rt=yield function K(F,U,H){return W.apply(this,arguments)}(U,ut,H),Cn=yield function Fe(F){const{cordova:U}=pe();return new Promise(H=>{U.plugins.browsertab.isAvailable(fe=>{let je=null;fe?U.plugins.browsertab.openUrl(F):je=U.InAppBrowser.open(F,(0,P.ao)()?"_blank":"_system","location=yes"),H(je)})})}(Rt);return function Ve(F,U,H){return Ue.apply(this,arguments)}(U,wt,Cn)})()}_isIframeWebStorageSupported(U,H){throw new Error("Method not implemented.")}_originValidation(U){const H=U._key();return this.originValidationPromises[H]||(this.originValidationPromises[H]=function se(F){return We.apply(this,arguments)}(U)),this.originValidationPromises[H]}attachCallbackListeners(U,H){const{universalLinks:fe,handleOpenURL:je,BuildInfo:Je}=pe(),wt=setTimeout((0,p.Z)(function*(){yield re(U),H.onEvent(Ge())}),500),ut=function(){var tr=(0,p.Z)(function*(Qt){clearTimeout(wt);const br=yield re(U);let fi=null;br&&(null==Qt?void 0:Qt.url)&&(fi=function Qe(F,U){var H,fe;const je=function me(F){const U=Be(F),H=U.link?decodeURIComponent(U.link):void 0,fe=Be(H).link,je=U.deep_link_id?decodeURIComponent(U.deep_link_id):void 0;return Be(je).link||je||fe||H||F}(U);if(je.includes("/__/auth/callback")){const Je=Be(je),wt=Je.firebaseError?function he(F){try{return JSON.parse(F)}catch(U){return null}}(decodeURIComponent(Je.firebaseError)):null,ut=null===(fe=null===(H=null==wt?void 0:wt.code)||void 0===H?void 0:H.split("auth/"))||void 0===fe?void 0:fe[1],Rt=ut?(0,P.av)(ut):null;return Rt?{type:F.type,eventId:F.eventId,tenantId:F.tenantId,error:Rt,urlResponse:null,sessionId:null,postBody:null}:{type:F.type,eventId:F.eventId,tenantId:F.tenantId,sessionId:F.sessionId,urlResponse:je,postBody:null}}return null}(br,Qt.url)),H.onEvent(fi||Ge())});return function(br){return tr.apply(this,arguments)}}();void 0!==fe&&"function"==typeof fe.subscribe&&fe.subscribe(null,ut);const Rt=je,Cn=`${Je.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var tr=(0,p.Z)(function*(Qt){if(Qt.toLowerCase().startsWith(Cn)&&ut({url:Qt}),"function"==typeof Rt)try{Rt(Qt)}catch(br){console.error(br)}});return function(Qt){return tr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aA}_initialize(U){var H=this;return(0,p.Z)(function*(){return yield H.selectUnderlyingResolver(),H.assertedUnderlyingResolver._initialize(U)})()}_openPopup(U,H,fe,je){var Je=this;return(0,p.Z)(function*(){return yield Je.selectUnderlyingResolver(),Je.assertedUnderlyingResolver._openPopup(U,H,fe,je)})()}_openRedirect(U,H,fe,je){var Je=this;return(0,p.Z)(function*(){return yield Je.selectUnderlyingResolver(),Je.assertedUnderlyingResolver._openRedirect(U,H,fe,je)})()}_isIframeWebStorageSupported(U,H){this.assertedUnderlyingResolver._isIframeWebStorageSupported(U,H)}_originValidation(U){return this.assertedUnderlyingResolver._originValidation(U)}get _shouldInitProactively(){return Mr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return it(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var U=this;return(0,p.Z)(function*(){if(U.underlyingResolver)return;const H=yield function rt(){return Sn.apply(this,arguments)}();U.underlyingResolver=H?U.cordovaResolver:U.browserResolver})()}}function Rr(F){return F.unwrap()}function Ct(F){return Nn(F)}function Nn(F){const{_tokenResponse:U}=F instanceof ae.ZR?F.customData:F;if(!U)return null;if(!(F instanceof ae.ZR)&&"temporaryProof"in U&&"phoneNumber"in U)return P.P.credentialFromResult(F);const H=U.providerId;if(!H||H===P.o.PASSWORD)return null;let fe;switch(H){case P.o.GOOGLE:fe=P.N;break;case P.o.FACEBOOK:fe=P.M;break;case P.o.GITHUB:fe=P.Q;break;case P.o.TWITTER:fe=P.V;break;default:const{oauthIdToken:je,oauthAccessToken:Je,oauthTokenSecret:wt,pendingToken:ut,nonce:Rt}=U;return Je||wt||je||ut?ut?H.startsWith("saml.")?P.aJ._create(H,ut):P.I._fromParams({providerId:H,signInMethod:H,pendingToken:ut,idToken:je,accessToken:Je}):new P.T(H).credential({idToken:je,accessToken:Je,rawNonce:Rt}):null}return F instanceof ae.ZR?fe.credentialFromError(F):fe.credentialFromResult(F)}function on(F,U){return U.catch(H=>{throw H instanceof ae.ZR&&function Ti(F,U){var H;const fe=null===(H=U.customData)||void 0===H?void 0:H._tokenResponse;if("auth/multi-factor-auth-required"===U.code)U.resolver=new Kt(F,P.am(F,U));else if(fe){const je=Nn(U),Je=U;je&&(Je.credential=je,Je.tenantId=fe.tenantId||void 0,Je.email=fe.email||void 0,Je.phoneNumber=fe.phoneNumber||void 0)}}(F,H),H}).then(H=>{const je=H.user;return{operationType:H.operationType,credential:Ct(H),additionalUserInfo:P.ak(H),user:Ye.getOrCreate(je)}})}function yt(F,U){return jn.apply(this,arguments)}function jn(){return(jn=(0,p.Z)(function*(F,U){const H=yield U;return{verificationId:H.verificationId,confirm:fe=>on(F,H.confirm(fe))}})).apply(this,arguments)}class Kt{constructor(U,H){this.resolver=H,this.auth=function Gr(F){return F.wrapped()}(U)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(U){return on(Rr(this.auth),this.resolver.resolveSignIn(U))}}class Ye{constructor(U){this._delegate=U,this.multiFactor=P.an(U)}static getOrCreate(U){return Ye.USER_MAP.has(U)||Ye.USER_MAP.set(U,new Ye(U)),Ye.USER_MAP.get(U)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(U){return this._delegate.getIdTokenResult(U)}getIdToken(U){return this._delegate.getIdToken(U)}linkAndRetrieveDataWithCredential(U){return this.linkWithCredential(U)}linkWithCredential(U){var H=this;return(0,p.Z)(function*(){return on(H.auth,P.Y(H._delegate,U))})()}linkWithPhoneNumber(U,H){var fe=this;return(0,p.Z)(function*(){return yt(fe.auth,P.l(fe._delegate,U,H))})()}linkWithPopup(U){var H=this;return(0,p.Z)(function*(){return on(H.auth,P.d(H._delegate,U,Ze))})()}linkWithRedirect(U){var H=this;return(0,p.Z)(function*(){return yield _t(P.aC(H.auth)),P.g(H._delegate,U,Ze)})()}reauthenticateAndRetrieveDataWithCredential(U){return this.reauthenticateWithCredential(U)}reauthenticateWithCredential(U){var H=this;return(0,p.Z)(function*(){return on(H.auth,P.Z(H._delegate,U))})()}reauthenticateWithPhoneNumber(U,H){return yt(this.auth,P.r(this._delegate,U,H))}reauthenticateWithPopup(U){return on(this.auth,P.e(this._delegate,U,Ze))}reauthenticateWithRedirect(U){var H=this;return(0,p.Z)(function*(){return yield _t(P.aC(H.auth)),P.h(H._delegate,U,Ze)})()}sendEmailVerification(U){return P.aa(this._delegate,U)}unlink(U){var H=this;return(0,p.Z)(function*(){return yield P.aj(H._delegate,U),H})()}updateEmail(U){return P.af(this._delegate,U)}updatePassword(U){return P.ag(this._delegate,U)}updatePhoneNumber(U){return P.u(this._delegate,U)}updateProfile(U){return P.ae(this._delegate,U)}verifyBeforeUpdateEmail(U,H){return P.ab(this._delegate,U,H)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ye.USER_MAP=new WeakMap;const le=P.aw;let ot=(()=>{class F{constructor(H,fe){if(this.app=H,fe.isInitialized())return this._delegate=fe.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:je}=H.options;le(je,"invalid-api-key",{appName:H.name}),le(je,"invalid-api-key",{appName:H.name});const Je="undefined"!=typeof window?Ze:void 0;this._delegate=fe.initialize({options:{persistence:Bt(je,H.name),popupRedirectResolver:Je}}),this._delegate._updateErrorMap(P.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ye.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(H){this._delegate.languageCode=H}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(H){this._delegate.tenantId=H}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(H,fe){P.E(this._delegate,H,fe)}applyActionCode(H){return P.a1(this._delegate,H)}checkActionCode(H){return P.a2(this._delegate,H)}confirmPasswordReset(H,fe){return P.a0(this._delegate,H,fe)}createUserWithEmailAndPassword(H,fe){var je=this;return(0,p.Z)(function*(){return on(je._delegate,P.a4(je._delegate,H,fe))})()}fetchProvidersForEmail(H){return this.fetchSignInMethodsForEmail(H)}fetchSignInMethodsForEmail(H){return P.a9(this._delegate,H)}isSignInWithEmailLink(H){return P.a7(this._delegate,H)}getRedirectResult(){var H=this;return(0,p.Z)(function*(){le(fr(),H._delegate,"operation-not-supported-in-this-environment");const fe=yield P.j(H._delegate,Ze);return fe?on(H._delegate,Promise.resolve(fe)):{credential:null,user:null}})()}addFrameworkForLogging(H){!function Ot(F,U){(0,P.aC)(F)._logFramework(U)}(this._delegate,H)}onAuthStateChanged(H,fe,je){const{next:Je,error:wt,complete:ut}=gt(H,fe,je);return this._delegate.onAuthStateChanged(Je,wt,ut)}onIdTokenChanged(H,fe,je){const{next:Je,error:wt,complete:ut}=gt(H,fe,je);return this._delegate.onIdTokenChanged(Je,wt,ut)}sendSignInLinkToEmail(H,fe){return P.a6(this._delegate,H,fe)}sendPasswordResetEmail(H,fe){return P.$(this._delegate,H,fe||void 0)}setPersistence(H){var fe=this;return(0,p.Z)(function*(){let je;switch(function On(F,U){Pn(Object.values(Vt).includes(U),F,"invalid-persistence-type"),(0,ae.b$)()?Pn(U!==Vt.SESSION,F,"unsupported-persistence-type"):(0,ae.UG)()?Pn(U===Vt.NONE,F,"unsupported-persistence-type"):qn()?Pn(U===Vt.NONE||U===Vt.LOCAL&&(0,ae.hl)(),F,"unsupported-persistence-type"):Pn(U===Vt.NONE||xr(),F,"unsupported-persistence-type")}(fe._delegate,H),H){case Vt.SESSION:je=P.a;break;case Vt.LOCAL:je=(yield P.ax(P.i)._isAvailable())?P.i:P.b;break;case Vt.NONE:je=P.K;break;default:return P.as("argument-error",{appName:fe._delegate.name})}return fe._delegate.setPersistence(je)})()}signInAndRetrieveDataWithCredential(H){return this.signInWithCredential(H)}signInAnonymously(){return on(this._delegate,P.W(this._delegate))}signInWithCredential(H){return on(this._delegate,P.X(this._delegate,H))}signInWithCustomToken(H){return on(this._delegate,P._(this._delegate,H))}signInWithEmailAndPassword(H,fe){return on(this._delegate,P.a5(this._delegate,H,fe))}signInWithEmailLink(H,fe){return on(this._delegate,P.a8(this._delegate,H,fe))}signInWithPhoneNumber(H,fe){return yt(this._delegate,P.s(this._delegate,H,fe))}signInWithPopup(H){var fe=this;return(0,p.Z)(function*(){return le(fr(),fe._delegate,"operation-not-supported-in-this-environment"),on(fe._delegate,P.c(fe._delegate,H,Ze))})()}signInWithRedirect(H){var fe=this;return(0,p.Z)(function*(){return le(fr(),fe._delegate,"operation-not-supported-in-this-environment"),yield _t(fe._delegate),P.f(fe._delegate,H,Ze)})()}updateCurrentUser(H){return this._delegate.updateCurrentUser(H)}verifyPasswordResetCode(H){return P.a3(this._delegate,H)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return F.Persistence=Vt,F})();function gt(F,U,H){let fe=F;"function"!=typeof F&&({next:fe,error:U,complete:H}=F);const je=fe;return{next:wt=>je(wt&&Ye.getOrCreate(wt)),error:U,complete:H}}function Bt(F,U){const H=function kr(F,U){const H=Lt();if(!H)return[];const fe=P.ay(Hr,F,U);switch(H.getItem(fe)){case Vt.NONE:return[P.K];case Vt.LOCAL:return[P.i,P.a];case Vt.SESSION:return[P.a];default:return[]}}(F,U);if("undefined"!=typeof self&&!H.includes(P.i)&&H.push(P.i),"undefined"!=typeof window)for(const fe of[P.b,P.a])H.includes(fe)||H.push(fe);return H.includes(P.K)||H.push(P.K),H}class Ut{constructor(){this.providerId="phone",this._delegate=new P.P(Rr(j.Z.auth()))}static credential(U,H){return P.P.credential(U,H)}verifyPhoneNumber(U,H){return this._delegate.verifyPhoneNumber(U,H)}unwrap(){return this._delegate}}Ut.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,Ut.PROVIDER_ID=P.P.PROVIDER_ID;const q=P.aw;class ${constructor(U,H,fe=j.Z.app()){var je;q(null===(je=fe.options)||void 0===je?void 0:je.apiKey,"invalid-api-key",{appName:fe.name}),this._delegate=new P.R(U,H,fe.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ye(F){F.INTERNAL.registerComponent(new ge.wA("auth-compat",U=>{const H=U.getProvider("app-compat").getImmediate(),fe=U.getProvider("auth");return new ot(H,fe)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.L,FacebookAuthProvider:P.M,GithubAuthProvider:P.Q,GoogleAuthProvider:P.N,OAuthProvider:P.T,SAMLAuthProvider:P.U,PhoneAuthProvider:Ut,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:$,TwitterAuthProvider:P.V,Auth:ot,AuthCredential:P.G,Error:ae.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),F.registerVersion("@firebase/auth-compat","0.2.12")}(j.Z)},8306:(mt,xe,L)=>{"use strict";L.d(xe,{y:()=>K});var p=L(2961),j=L(727),P=L(8822),ae=L(4671);var ge=L(2416),pe=L(576),ve=L(2806);let K=(()=>{class Fe{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const we=new Fe;return we.source=this,we.operator=Ue,we}subscribe(Ue,we,Ae){const st=function We(Fe){return Fe&&Fe instanceof p.Lv||function se(Fe){return Fe&&(0,pe.m)(Fe.next)&&(0,pe.m)(Fe.error)&&(0,pe.m)(Fe.complete)}(Fe)&&(0,j.Nn)(Fe)}(Ue)?Ue:new p.Hp(Ue,we,Ae);return(0,ve.x)(()=>{const{operator:qe,source:Oe}=this;st.add(qe?qe.call(st,Oe):Oe?this._subscribe(st):this._trySubscribe(st))}),st}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(we){Ue.error(we)}}forEach(Ue,we){return new(we=W(we))((Ae,st)=>{const qe=new p.Hp({next:Oe=>{try{Ue(Oe)}catch(Pe){st(Pe),qe.unsubscribe()}},error:st,complete:Ae});this.subscribe(qe)})}_subscribe(Ue){var we;return null===(we=this.source)||void 0===we?void 0:we.subscribe(Ue)}[P.L](){return this}pipe(...Ue){return function Ee(Fe){return 0===Fe.length?ae.y:1===Fe.length?Fe[0]:function(Ue){return Fe.reduce((we,Ae)=>Ae(we),Ue)}}(Ue)(this)}toPromise(Ue){return new(Ue=W(Ue))((we,Ae)=>{let st;this.subscribe(qe=>st=qe,qe=>Ae(qe),()=>we(st))})}}return Fe.create=Ve=>new Fe(Ve),Fe})();function W(Fe){var Ve;return null!==(Ve=null!=Fe?Fe:ge.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(mt,xe,L)=>{"use strict";L.d(xe,{x:()=>ge});var p=L(8306),j=L(727);const ae=(0,L(3888).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=L(8737),Ee=L(2806);let ge=(()=>{class ve extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const se=new pe(this,this);return se.operator=W,se}_throwIfClosed(){if(this.closed)throw new ae}next(W){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(W)}})}error(W){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:se}=this;for(;se.length;)se.shift().error(W)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:se,isStopped:We,observers:Fe}=this;return se||We?j.Lc:(this.currentObservers=null,Fe.push(W),new j.w0(()=>{this.currentObservers=null,(0,oe.P)(Fe,W)}))}_checkFinalizedStatuses(W){const{hasError:se,thrownError:We,isStopped:Fe}=this;se?W.error(We):Fe&&W.complete()}asObservable(){const W=new p.y;return W.source=this,W}}return ve.create=(K,W)=>new pe(K,W),ve})();class pe extends ge{constructor(K,W){super(),this.destination=K,this.source=W}next(K){var W,se;null===(se=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===se||se.call(W,K)}error(K){var W,se;null===(se=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===se||se.call(W,K)}complete(){var K,W;null===(W=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===W||W.call(K)}_subscribe(K){var W,se;return null!==(se=null===(W=this.source)||void 0===W?void 0:W.subscribe(K))&&void 0!==se?se:j.Lc}}},2961:(mt,xe,L)=>{"use strict";L.d(xe,{Hp:()=>Ue,Lv:()=>se});var p=L(576),j=L(727),P=L(2416),ae=L(7849);function oe(){}const Ee=ve("C",void 0,void 0);function ve(Oe,Pe,Ce){return{kind:Oe,value:Pe,error:Ce}}var K=L(3410),W=L(2806);class se extends j.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,j.Nn)(Pe)&&Pe.add(this)):this.destination=qe}static create(Pe,Ce,Xe){return new Ue(Pe,Ce,Xe)}next(Pe){this.isStopped?st(function pe(Oe){return ve("N",Oe,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?st(function ge(Oe){return ve("E",void 0,Oe)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?st(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const We=Function.prototype.bind;function Fe(Oe,Pe){return We.call(Oe,Pe)}class Ve{constructor(Pe){this.partialObserver=Pe}next(Pe){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(Pe)}catch(Xe){we(Xe)}}error(Pe){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(Pe)}catch(Xe){we(Xe)}else we(Pe)}complete(){const{partialObserver:Pe}=this;if(Pe.complete)try{Pe.complete()}catch(Ce){we(Ce)}}}class Ue extends se{constructor(Pe,Ce,Xe){let re;if(super(),(0,p.m)(Pe)||!Pe)re={next:null!=Pe?Pe:void 0,error:null!=Ce?Ce:void 0,complete:null!=Xe?Xe:void 0};else{let Y;this&&P.v.useDeprecatedNextContext?(Y=Object.create(Pe),Y.unsubscribe=()=>this.unsubscribe(),re={next:Pe.next&&Fe(Pe.next,Y),error:Pe.error&&Fe(Pe.error,Y),complete:Pe.complete&&Fe(Pe.complete,Y)}):re=Pe}this.destination=new Ve(re)}}function we(Oe){P.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Oe):(0,ae.h)(Oe)}function st(Oe,Pe){const{onStoppedNotification:Ce}=P.v;Ce&&K.z.setTimeout(()=>Ce(Oe,Pe))}const qe={closed:!0,next:oe,error:function Ae(Oe){throw Oe},complete:oe}},727:(mt,xe,L)=>{"use strict";L.d(xe,{Lc:()=>Ee,w0:()=>oe,Nn:()=>ge});var p=L(576);const P=(0,L(3888).d)(ve=>function(W){ve(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((se,We)=>`${We+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var ae=L(8737);class oe{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Fe of W)Fe.remove(this);else W.remove(this);const{initialTeardown:se}=this;if((0,p.m)(se))try{se()}catch(Fe){K=Fe instanceof P?Fe.errors:[Fe]}const{_finalizers:We}=this;if(We){this._finalizers=null;for(const Fe of We)try{pe(Fe)}catch(Ve){K=null!=K?K:[],Ve instanceof P?K=[...K,...Ve.errors]:K.push(Ve)}}if(K)throw new P(K)}}add(K){var W;if(K&&K!==this)if(this.closed)pe(K);else{if(K instanceof oe){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(K)}}_hasParent(K){const{_parentage:W}=this;return W===K||Array.isArray(W)&&W.includes(K)}_addParent(K){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(K),W):W?[W,K]:K}_removeParent(K){const{_parentage:W}=this;W===K?this._parentage=null:Array.isArray(W)&&(0,ae.P)(W,K)}remove(K){const{_finalizers:W}=this;W&&(0,ae.P)(W,K),K instanceof oe&&K._removeParent(this)}}oe.EMPTY=(()=>{const ve=new oe;return ve.closed=!0,ve})();const Ee=oe.EMPTY;function ge(ve){return ve instanceof oe||ve&&"closed"in ve&&(0,p.m)(ve.remove)&&(0,p.m)(ve.add)&&(0,p.m)(ve.unsubscribe)}function pe(ve){(0,p.m)(ve)?ve():ve.unsubscribe()}},2416:(mt,xe,L)=>{"use strict";L.d(xe,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(mt,xe,L)=>{"use strict";L.d(xe,{E:()=>j});const j=new(L(8306).y)(oe=>oe.complete())},8996:(mt,xe,L)=>{"use strict";L.d(xe,{D:()=>Pe});var p=L(8421),j=L(5363),P=L(9468),Ee=L(8306),pe=L(2202),ve=L(576),K=L(9672);function se(Ce,Xe){if(!Ce)throw new Error("Iterable cannot be null");return new Ee.y(re=>{(0,K.f)(re,Xe,()=>{const Y=Ce[Symbol.asyncIterator]();(0,K.f)(re,Xe,()=>{Y.next().then(Qe=>{Qe.done?re.complete():re.next(Qe.value)})},0,!0)})})}var We=L(3670),Fe=L(8239),Ve=L(1144),Ue=L(6495),we=L(2206),Ae=L(4532),st=L(3260);function Pe(Ce,Xe){return Xe?function Oe(Ce,Xe){if(null!=Ce){if((0,We.c)(Ce))return function ae(Ce,Xe){return(0,p.Xf)(Ce).pipe((0,P.R)(Xe),(0,j.Q)(Xe))}(Ce,Xe);if((0,Ve.z)(Ce))return function ge(Ce,Xe){return new Ee.y(re=>{let Y=0;return Xe.schedule(function(){Y===Ce.length?re.complete():(re.next(Ce[Y++]),re.closed||this.schedule())})})}(Ce,Xe);if((0,Fe.t)(Ce))return function oe(Ce,Xe){return(0,p.Xf)(Ce).pipe((0,P.R)(Xe),(0,j.Q)(Xe))}(Ce,Xe);if((0,we.D)(Ce))return se(Ce,Xe);if((0,Ue.T)(Ce))return function W(Ce,Xe){return new Ee.y(re=>{let Y;return(0,K.f)(re,Xe,()=>{Y=Ce[pe.h](),(0,K.f)(re,Xe,()=>{let Qe,ne;try{({value:Qe,done:ne}=Y.next())}catch(ue){return void re.error(ue)}ne?re.complete():re.next(Qe)},0,!0)}),()=>(0,ve.m)(null==Y?void 0:Y.return)&&Y.return()})}(Ce,Xe);if((0,st.L)(Ce))return function qe(Ce,Xe){return se((0,st.Q)(Ce),Xe)}(Ce,Xe)}throw(0,Ae.z)(Ce)}(Ce,Xe):(0,p.Xf)(Ce)}},8421:(mt,xe,L)=>{"use strict";L.d(xe,{Xf:()=>We});var p=L(655),j=L(1144),P=L(8239),ae=L(8306),oe=L(3670),Ee=L(2206),ge=L(4532),pe=L(6495),ve=L(3260),K=L(576),W=L(7849),se=L(8822);function We(Oe){if(Oe instanceof ae.y)return Oe;if(null!=Oe){if((0,oe.c)(Oe))return function Fe(Oe){return new ae.y(Pe=>{const Ce=Oe[se.L]();if((0,K.m)(Ce.subscribe))return Ce.subscribe(Pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,j.z)(Oe))return function Ve(Oe){return new ae.y(Pe=>{for(let Ce=0;Ce<Oe.length&&!Pe.closed;Ce++)Pe.next(Oe[Ce]);Pe.complete()})}(Oe);if((0,P.t)(Oe))return function Ue(Oe){return new ae.y(Pe=>{Oe.then(Ce=>{Pe.closed||(Pe.next(Ce),Pe.complete())},Ce=>Pe.error(Ce)).then(null,W.h)})}(Oe);if((0,Ee.D)(Oe))return Ae(Oe);if((0,pe.T)(Oe))return function we(Oe){return new ae.y(Pe=>{for(const Ce of Oe)if(Pe.next(Ce),Pe.closed)return;Pe.complete()})}(Oe);if((0,ve.L)(Oe))return function st(Oe){return Ae((0,ve.Q)(Oe))}(Oe)}throw(0,ge.z)(Oe)}function Ae(Oe){return new ae.y(Pe=>{(function qe(Oe,Pe){var Ce,Xe,re,Y;return(0,p.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,p.KL)(Oe);!(Xe=yield Ce.next()).done;)if(Pe.next(Xe.value),Pe.closed)return}catch(Qe){re={error:Qe}}finally{try{Xe&&!Xe.done&&(Y=Ce.return)&&(yield Y.call(Ce))}finally{if(re)throw re.error}}Pe.complete()})})(Oe,Pe).catch(Ce=>Pe.error(Ce))})}},6451:(mt,xe,L)=>{"use strict";L.d(xe,{T:()=>Ee});var p=L(8189),j=L(8421),P=L(515),ae=L(7669),oe=L(8996);function Ee(...ge){const pe=(0,ae.yG)(ge),ve=(0,ae._6)(ge,1/0),K=ge;return K.length?1===K.length?(0,j.Xf)(K[0]):(0,p.J)(ve)((0,oe.D)(K,pe)):P.E}},5403:(mt,xe,L)=>{"use strict";L.d(xe,{x:()=>j});var p=L(2961);function j(ae,oe,Ee,ge,pe){return new P(ae,oe,Ee,ge,pe)}class P extends p.Lv{constructor(oe,Ee,ge,pe,ve,K){super(oe),this.onFinalize=ve,this.shouldUnsubscribe=K,this._next=Ee?function(W){try{Ee(W)}catch(se){oe.error(se)}}:super._next,this._error=pe?function(W){try{pe(W)}catch(se){oe.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(W){oe.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(mt,xe,L)=>{"use strict";L.d(xe,{U:()=>P});var p=L(4482),j=L(5403);function P(ae,oe){return(0,p.e)((Ee,ge)=>{let pe=0;Ee.subscribe((0,j.x)(ge,ve=>{ge.next(ae.call(oe,ve,pe++))}))})}},8189:(mt,xe,L)=>{"use strict";L.d(xe,{J:()=>P});var p=L(5577),j=L(4671);function P(ae=1/0){return(0,p.z)(j.y,ae)}},5577:(mt,xe,L)=>{"use strict";L.d(xe,{z:()=>pe});var p=L(4004),j=L(8421),P=L(4482),ae=L(9672),oe=L(5403),ge=L(576);function pe(ve,K,W=1/0){return(0,ge.m)(K)?pe((se,We)=>(0,p.U)((Fe,Ve)=>K(se,Fe,We,Ve))((0,j.Xf)(ve(se,We))),W):("number"==typeof K&&(W=K),(0,P.e)((se,We)=>function Ee(ve,K,W,se,We,Fe,Ve,Ue){const we=[];let Ae=0,st=0,qe=!1;const Oe=()=>{qe&&!we.length&&!Ae&&K.complete()},Pe=Xe=>Ae<se?Ce(Xe):we.push(Xe),Ce=Xe=>{Fe&&K.next(Xe),Ae++;let re=!1;(0,j.Xf)(W(Xe,st++)).subscribe((0,oe.x)(K,Y=>{null==We||We(Y),Fe?Pe(Y):K.next(Y)},()=>{re=!0},void 0,()=>{if(re)try{for(Ae--;we.length&&Ae<se;){const Y=we.shift();Ve?(0,ae.f)(K,Ve,()=>Ce(Y)):Ce(Y)}Oe()}catch(Y){K.error(Y)}}))};return ve.subscribe((0,oe.x)(K,Pe,()=>{qe=!0,Oe()})),()=>{null==Ue||Ue()}}(se,We,ve,W)))}},5363:(mt,xe,L)=>{"use strict";L.d(xe,{Q:()=>ae});var p=L(9672),j=L(4482),P=L(5403);function ae(oe,Ee=0){return(0,j.e)((ge,pe)=>{ge.subscribe((0,P.x)(pe,ve=>(0,p.f)(pe,oe,()=>pe.next(ve),Ee),()=>(0,p.f)(pe,oe,()=>pe.complete(),Ee),ve=>(0,p.f)(pe,oe,()=>pe.error(ve),Ee)))})}},3099:(mt,xe,L)=>{"use strict";L.d(xe,{B:()=>Ee});var p=L(8996),j=L(5698),P=L(7579),ae=L(2961),oe=L(4482);function Ee(pe={}){const{connector:ve=(()=>new P.x),resetOnError:K=!0,resetOnComplete:W=!0,resetOnRefCountZero:se=!0}=pe;return We=>{let Fe=null,Ve=null,Ue=null,we=0,Ae=!1,st=!1;const qe=()=>{null==Ve||Ve.unsubscribe(),Ve=null},Oe=()=>{qe(),Fe=Ue=null,Ae=st=!1},Pe=()=>{const Ce=Fe;Oe(),null==Ce||Ce.unsubscribe()};return(0,oe.e)((Ce,Xe)=>{we++,!st&&!Ae&&qe();const re=Ue=null!=Ue?Ue:ve();Xe.add(()=>{we--,0===we&&!st&&!Ae&&(Ve=ge(Pe,se))}),re.subscribe(Xe),Fe||(Fe=new ae.Hp({next:Y=>re.next(Y),error:Y=>{st=!0,qe(),Ve=ge(Oe,K,Y),re.error(Y)},complete:()=>{Ae=!0,qe(),Ve=ge(Oe,W),re.complete()}}),(0,p.D)(Ce).subscribe(Fe))})(We)}}function ge(pe,ve,...K){return!0===ve?(pe(),null):!1===ve?null:ve(...K).pipe((0,j.q)(1)).subscribe(()=>pe())}},9468:(mt,xe,L)=>{"use strict";L.d(xe,{R:()=>j});var p=L(4482);function j(P,ae=0){return(0,p.e)((oe,Ee)=>{Ee.add(P.schedule(()=>oe.subscribe(Ee),ae))})}},5698:(mt,xe,L)=>{"use strict";L.d(xe,{q:()=>ae});var p=L(515),j=L(4482),P=L(5403);function ae(oe){return oe<=0?()=>p.E:(0,j.e)((Ee,ge)=>{let pe=0;Ee.subscribe((0,P.x)(ge,ve=>{++pe<=oe&&(ge.next(ve),oe<=pe&&ge.complete())}))})}},8505:(mt,xe,L)=>{"use strict";L.d(xe,{b:()=>oe});var p=L(576),j=L(4482),P=L(5403),ae=L(4671);function oe(Ee,ge,pe){const ve=(0,p.m)(Ee)||ge||pe?{next:Ee,error:ge,complete:pe}:Ee;return ve?(0,j.e)((K,W)=>{var se;null===(se=ve.subscribe)||void 0===se||se.call(ve);let We=!0;K.subscribe((0,P.x)(W,Fe=>{var Ve;null===(Ve=ve.next)||void 0===Ve||Ve.call(ve,Fe),W.next(Fe)},()=>{var Fe;We=!1,null===(Fe=ve.complete)||void 0===Fe||Fe.call(ve),W.complete()},Fe=>{var Ve;We=!1,null===(Ve=ve.error)||void 0===Ve||Ve.call(ve,Fe),W.error(Fe)},()=>{var Fe,Ve;We&&(null===(Fe=ve.unsubscribe)||void 0===Fe||Fe.call(ve)),null===(Ve=ve.finalize)||void 0===Ve||Ve.call(ve)}))}):ae.y}},4408:(mt,xe,L)=>{"use strict";L.d(xe,{o:()=>oe});var p=L(727);class j extends p.w0{constructor(ge,pe){super()}schedule(ge,pe=0){return this}}const P={setInterval(Ee,ge,...pe){const{delegate:ve}=P;return(null==ve?void 0:ve.setInterval)?ve.setInterval(Ee,ge,...pe):setInterval(Ee,ge,...pe)},clearInterval(Ee){const{delegate:ge}=P;return((null==ge?void 0:ge.clearInterval)||clearInterval)(Ee)},delegate:void 0};var ae=L(8737);class oe extends j{constructor(ge,pe){super(ge,pe),this.scheduler=ge,this.work=pe,this.pending=!1}schedule(ge,pe=0){if(this.closed)return this;this.state=ge;const ve=this.id,K=this.scheduler;return null!=ve&&(this.id=this.recycleAsyncId(K,ve,pe)),this.pending=!0,this.delay=pe,this.id=this.id||this.requestAsyncId(K,this.id,pe),this}requestAsyncId(ge,pe,ve=0){return P.setInterval(ge.flush.bind(ge,this),ve)}recycleAsyncId(ge,pe,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return pe;P.clearInterval(pe)}execute(ge,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(ge,pe);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,pe){let K,ve=!1;try{this.work(ge)}catch(W){ve=!0,K=W||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:ge,scheduler:pe}=this,{actions:ve}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ve,this),null!=ge&&(this.id=this.recycleAsyncId(pe,ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(mt,xe,L)=>{"use strict";L.d(xe,{v:()=>P});var p=L(6063);class j{constructor(oe,Ee=j.now){this.schedulerActionCtor=oe,this.now=Ee}schedule(oe,Ee=0,ge){return new this.schedulerActionCtor(this,oe).schedule(ge,Ee)}}j.now=p.l.now;class P extends j{constructor(oe,Ee=j.now){super(oe,Ee),this.actions=[],this._active=!1,this._scheduled=void 0}flush(oe){const{actions:Ee}=this;if(this._active)return void Ee.push(oe);let ge;this._active=!0;do{if(ge=oe.execute(oe.state,oe.delay))break}while(oe=Ee.shift());if(this._active=!1,ge){for(;oe=Ee.shift();)oe.unsubscribe();throw ge}}}},4986:(mt,xe,L)=>{"use strict";L.d(xe,{z:()=>P});var p=L(4408);const P=new(L(7565).v)(p.o)},6063:(mt,xe,L)=>{"use strict";L.d(xe,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(mt,xe,L)=>{"use strict";L.d(xe,{z:()=>p});const p={setTimeout(j,P,...ae){const{delegate:oe}=p;return(null==oe?void 0:oe.setTimeout)?oe.setTimeout(j,P,...ae):setTimeout(j,P,...ae)},clearTimeout(j){const{delegate:P}=p;return((null==P?void 0:P.clearTimeout)||clearTimeout)(j)},delegate:void 0}},2202:(mt,xe,L)=>{"use strict";L.d(xe,{h:()=>j});const j=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(mt,xe,L)=>{"use strict";L.d(xe,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(mt,xe,L)=>{"use strict";L.d(xe,{_6:()=>Ee,jO:()=>ae,yG:()=>oe});var p=L(576);function P(ge){return ge[ge.length-1]}function ae(ge){return(0,p.m)(P(ge))?ge.pop():void 0}function oe(ge){return function j(ge){return ge&&(0,p.m)(ge.schedule)}(P(ge))?ge.pop():void 0}function Ee(ge,pe){return"number"==typeof P(ge)?ge.pop():pe}},8737:(mt,xe,L)=>{"use strict";function p(j,P){if(j){const ae=j.indexOf(P);0<=ae&&j.splice(ae,1)}}L.d(xe,{P:()=>p})},3888:(mt,xe,L)=>{"use strict";function p(j){const ae=j(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}L.d(xe,{d:()=>p})},2806:(mt,xe,L)=>{"use strict";L.d(xe,{O:()=>ae,x:()=>P});var p=L(2416);let j=null;function P(oe){if(p.v.useDeprecatedSynchronousErrorHandling){const Ee=!j;if(Ee&&(j={errorThrown:!1,error:null}),oe(),Ee){const{errorThrown:ge,error:pe}=j;if(j=null,ge)throw pe}}else oe()}function ae(oe){p.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=oe)}},9672:(mt,xe,L)=>{"use strict";function p(j,P,ae,oe=0,Ee=!1){const ge=P.schedule(function(){ae(),Ee?j.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(j.add(ge),!Ee)return ge}L.d(xe,{f:()=>p})},4671:(mt,xe,L)=>{"use strict";function p(j){return j}L.d(xe,{y:()=>p})},1144:(mt,xe,L)=>{"use strict";L.d(xe,{z:()=>p});const p=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(mt,xe,L)=>{"use strict";L.d(xe,{D:()=>j});var p=L(576);function j(P){return Symbol.asyncIterator&&(0,p.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(mt,xe,L)=>{"use strict";function p(j){return"function"==typeof j}L.d(xe,{m:()=>p})},3670:(mt,xe,L)=>{"use strict";L.d(xe,{c:()=>P});var p=L(8822),j=L(576);function P(ae){return(0,j.m)(ae[p.L])}},6495:(mt,xe,L)=>{"use strict";L.d(xe,{T:()=>P});var p=L(2202),j=L(576);function P(ae){return(0,j.m)(null==ae?void 0:ae[p.h])}},8239:(mt,xe,L)=>{"use strict";L.d(xe,{t:()=>j});var p=L(576);function j(P){return(0,p.m)(null==P?void 0:P.then)}},3260:(mt,xe,L)=>{"use strict";L.d(xe,{L:()=>ae,Q:()=>P});var p=L(655),j=L(576);function P(oe){return(0,p.FC)(this,arguments,function*(){const ge=oe.getReader();try{for(;;){const{value:pe,done:ve}=yield(0,p.qq)(ge.read());if(ve)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(pe)}}finally{ge.releaseLock()}})}function ae(oe){return(0,j.m)(null==oe?void 0:oe.getReader)}},4482:(mt,xe,L)=>{"use strict";L.d(xe,{A:()=>j,e:()=>P});var p=L(576);function j(ae){return(0,p.m)(null==ae?void 0:ae.lift)}function P(ae){return oe=>{if(j(oe))return oe.lift(function(Ee){try{return ae(Ee,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(mt,xe,L)=>{"use strict";L.d(xe,{h:()=>P});var p=L(2416),j=L(3410);function P(ae){j.z.setTimeout(()=>{const{onUnhandledError:oe}=p.v;if(!oe)throw ae;oe(ae)})}},4532:(mt,xe,L)=>{"use strict";function p(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(xe,{z:()=>p})},5226:function(mt){mt.exports=function(){"use strict";const xe="SweetAlert2:",p=w=>w.charAt(0).toUpperCase()+w.slice(1),j=w=>Array.prototype.slice.call(w),P=w=>{console.warn("".concat(xe," ").concat("object"==typeof w?w.join(" "):w))},ae=w=>{console.error("".concat(xe," ").concat(w))},oe=[],ge=(w,I)=>{(w=>{oe.includes(w)||(oe.push(w),P(w))})('"'.concat(w,'" is deprecated and will be removed in the next major release. Please use "').concat(I,'" instead.'))},pe=w=>"function"==typeof w?w():w,ve=w=>w&&"function"==typeof w.toPromise,K=w=>ve(w)?w.toPromise():Promise.resolve(w),W=w=>w&&Promise.resolve(w)===w,We={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Fe=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ve={},Ue=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],we=w=>Object.prototype.hasOwnProperty.call(We,w),Ae=w=>-1!==Fe.indexOf(w),st=w=>Ve[w],qe=w=>{we(w)||P('Unknown parameter "'.concat(w,'"'))},Oe=w=>{Ue.includes(w)&&P('The parameter "'.concat(w,'" is incompatible with toasts'))},Pe=w=>{st(w)&&ge(w,st(w))},re=w=>{const I={};for(const x in w)I[w[x]]="swal2-"+w[x];return I},Y=re(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),Qe=re(["success","warning","info","question","error"]),ne=()=>document.body.querySelector(".".concat(Y.container)),ue=w=>{const I=ne();return I?I.querySelector(w):null},de=w=>ue(".".concat(w)),he=()=>de(Y.popup),me=()=>de(Y.icon),Be=()=>de(Y.title),St=()=>de(Y["html-container"]),Xt=()=>de(Y.image),sn=()=>de(Y["progress-steps"]),Ge=()=>de(Y["validation-message"]),Ot=()=>ue(".".concat(Y.actions," .").concat(Y.confirm)),bn=()=>ue(".".concat(Y.actions," .").concat(Y.deny)),qt=()=>ue(".".concat(Y.loader)),$t=()=>ue(".".concat(Y.actions," .").concat(Y.cancel)),Yt=()=>de(Y.actions),An=()=>de(Y.footer),Wn=()=>de(Y["timer-progress-bar"]),ur=()=>de(Y.close),Qr=()=>{const w=j(he().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((x,z)=>{const Me=parseInt(x.getAttribute("tabindex")),lt=parseInt(z.getAttribute("tabindex"));return Me>lt?1:Me<lt?-1:0}),I=j(he().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(x=>"-1"!==x.getAttribute("tabindex"));return(w=>{const I=[];for(let x=0;x<w.length;x++)-1===I.indexOf(w[x])&&I.push(w[x]);return I})(w.concat(I)).filter(x=>Ct(x))},xr=()=>Sn(document.body,Y.shown)&&!Sn(document.body,Y["toast-shown"])&&!Sn(document.body,Y["no-backdrop"]),qn=()=>he()&&Sn(he(),Y.toast),Mr={previousBodyPadding:null},rt=(w,I)=>{if(w.textContent="",I){const z=(new DOMParser).parseFromString(I,"text/html");j(z.querySelector("head").childNodes).forEach(Me=>{w.appendChild(Me)}),j(z.querySelector("body").childNodes).forEach(Me=>{w.appendChild(Me)})}},Sn=(w,I)=>{if(!I)return!1;const x=I.split(/\s+/);for(let z=0;z<x.length;z++)if(!w.classList.contains(x[z]))return!1;return!0},Vt=(w,I,x)=>{if(((w,I)=>{j(w.classList).forEach(x=>{!Object.values(Y).includes(x)&&!Object.values(Qe).includes(x)&&!Object.values(I.showClass).includes(x)&&w.classList.remove(x)})})(w,I),I.customClass&&I.customClass[x]){if("string"!=typeof I.customClass[x]&&!I.customClass[x].forEach)return P("Invalid type of customClass.".concat(x,'! Expected string or iterable object, got "').concat(typeof I.customClass[x],'"'));_t(w,I.customClass[x])}},Pn=(w,I)=>{if(!I)return null;switch(I){case"select":case"textarea":case"file":return w.querySelector(".".concat(Y.popup," > .").concat(Y[I]));case"checkbox":return w.querySelector(".".concat(Y.popup," > .").concat(Y.checkbox," input"));case"radio":return w.querySelector(".".concat(Y.popup," > .").concat(Y.radio," input:checked"))||w.querySelector(".".concat(Y.popup," > .").concat(Y.radio," input:first-child"));case"range":return w.querySelector(".".concat(Y.popup," > .").concat(Y.range," input"));default:return w.querySelector(".".concat(Y.popup," > .").concat(Y.input))}},Hr=w=>{if(w.focus(),"file"!==w.type){const I=w.value;w.value="",w.value=I}},On=(w,I,x)=>{!w||!I||("string"==typeof I&&(I=I.split(/\s+/).filter(Boolean)),I.forEach(z=>{Array.isArray(w)?w.forEach(Me=>{x?Me.classList.add(z):Me.classList.remove(z)}):x?w.classList.add(z):w.classList.remove(z)}))},_t=(w,I)=>{On(w,I,!0)},xn=(w,I)=>{On(w,I,!1)},kr=(w,I)=>{const x=j(w.childNodes);for(let z=0;z<x.length;z++)if(Sn(x[z],I))return x[z]},Lt=(w,I,x)=>{x==="".concat(parseInt(x))&&(x=parseInt(x)),x||0===parseInt(x)?w.style[I]="number"==typeof x?"".concat(x,"px"):x:w.style.removeProperty(I)},it=function(w){w.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Ze=w=>{w.style.display="none"},Rr=(w,I,x,z)=>{const Me=w.querySelector(I);Me&&(Me.style[x]=z)},Gr=(w,I,x)=>{I?it(w,x):Ze(w)},Ct=w=>!(!w||!(w.offsetWidth||w.offsetHeight||w.getClientRects().length)),Nn=w=>w.scrollHeight>w.clientHeight,on=w=>{const I=window.getComputedStyle(w),x=parseFloat(I.getPropertyValue("animation-duration")||"0"),z=parseFloat(I.getPropertyValue("transition-duration")||"0");return x>0||z>0},yt=function(w){let I=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const x=Wn();Ct(x)&&(I&&(x.style.transition="none",x.style.width="100%"),setTimeout(()=>{x.style.transition="width ".concat(w/1e3,"s linear"),x.style.width="0%"},10))},Kt=()=>"undefined"==typeof window||"undefined"==typeof document,le={},gt=w=>new Promise(I=>{if(!w)return I();const x=window.scrollX,z=window.scrollY;le.restoreFocusTimeout=setTimeout(()=>{le.previousActiveElement&&le.previousActiveElement.focus?(le.previousActiveElement.focus(),le.previousActiveElement=null):document.body&&document.body.focus(),I()},100),window.scrollTo(x,z)}),Bt='\n <div aria-labelledby="'.concat(Y.title,'" aria-describedby="').concat(Y["html-container"],'" class="').concat(Y.popup,'" tabindex="-1">\n   <button type="button" class="').concat(Y.close,'"></button>\n   <ul class="').concat(Y["progress-steps"],'"></ul>\n   <div class="').concat(Y.icon,'"></div>\n   <img class="').concat(Y.image,'" />\n   <h2 class="').concat(Y.title,'" id="').concat(Y.title,'"></h2>\n   <div class="').concat(Y["html-container"],'" id="').concat(Y["html-container"],'"></div>\n   <input class="').concat(Y.input,'" />\n   <input type="file" class="').concat(Y.file,'" />\n   <div class="').concat(Y.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(Y.select,'"></select>\n   <div class="').concat(Y.radio,'"></div>\n   <label for="').concat(Y.checkbox,'" class="').concat(Y.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(Y.label,'"></span>\n   </label>\n   <textarea class="').concat(Y.textarea,'"></textarea>\n   <div class="').concat(Y["validation-message"],'" id="').concat(Y["validation-message"],'"></div>\n   <div class="').concat(Y.actions,'">\n     <div class="').concat(Y.loader,'"></div>\n     <button type="button" class="').concat(Y.confirm,'"></button>\n     <button type="button" class="').concat(Y.deny,'"></button>\n     <button type="button" class="').concat(Y.cancel,'"></button>\n   </div>\n   <div class="').concat(Y.footer,'"></div>\n   <div class="').concat(Y["timer-progress-bar-container"],'">\n     <div class="').concat(Y["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),q=()=>{le.currentInstance.resetValidationMessage()},U=w=>{const I=(()=>{const w=ne();return!!w&&(w.remove(),xn([document.documentElement,document.body],[Y["no-backdrop"],Y["toast-shown"],Y["has-column"]]),!0)})();if(Kt())return void ae("SweetAlert2 requires document to initialize");const x=document.createElement("div");x.className=Y.container,I&&_t(x,Y["no-transition"]),rt(x,Bt);const z=(w=>"string"==typeof w?document.querySelector(w):w)(w.target);z.appendChild(x),(w=>{const I=he();I.setAttribute("role",w.toast?"alert":"dialog"),I.setAttribute("aria-live",w.toast?"polite":"assertive"),w.toast||I.setAttribute("aria-modal","true")})(w),(w=>{"rtl"===window.getComputedStyle(w).direction&&_t(ne(),Y.rtl)})(z),(()=>{const w=he(),I=kr(w,Y.input),x=kr(w,Y.file),z=w.querySelector(".".concat(Y.range," input")),Me=w.querySelector(".".concat(Y.range," output")),lt=kr(w,Y.select),vn=w.querySelector(".".concat(Y.checkbox," input")),Bn=kr(w,Y.textarea);I.oninput=q,x.onchange=q,lt.onchange=q,vn.onchange=q,Bn.oninput=q,z.oninput=()=>{q(),Me.value=z.value},z.onchange=()=>{q(),z.nextSibling.value=z.value}})(),H(x,w)},H=(w,I)=>{if(I.toast)return;const x=(w=>w[Math.floor(Math.random()*w.length)])([{text:"\u0428\u0412\u0410\u0420\u0426\u0415\u041d\u0415\u0413\u0413\u0415\u0420 \u043e\u0431\u0440\u0430\u0442\u0438\u043b\u0441\u044f <br> \u043a \u0420\u0423\u0421\u0421\u041a\u041e\u041c\u0423 \u041d\u0410\u0420\u041e\u0414\u0423 \u043e \u0432\u043e\u0439\u043d\u0435",youtubeId:"fWClXZd9c78"},{text:"\u0420\u0423\u0421\u0421\u041a\u0418\u0419 \u041f\u0410\u0422\u0420\u0418\u041e\u0422 <br> \u043e\u0442\u043a\u0440\u044b\u043b \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0442\u0430\u0439\u043d\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"_RjBNkn88yA"},{text:"\u0413\u0415\u0420\u041e\u0419 \u041d\u041e\u0412\u041e\u0420\u041e\u0421\u0421\u0418\u0418 \u0421\u0422\u0420\u0415\u041b\u041a\u041e\u0412 <br> \u0434\u0430\u043b \u043e\u0446\u0435\u043d\u043a\u0443 \u0445\u043e\u0434\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"yUmzQT4C8JY"},{text:"\u0424\u0418\u041d\u0421\u041a\u0418\u0419 \u0414\u0420\u0423\u0413 \u0420\u041e\u0421\u0421\u0418\u0418 <br> \u0433\u043e\u0432\u043e\u0440\u0438\u0442 \u041f\u041e-\u0420\u0423\u0421\u0421\u041a\u0418 \u043e \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"hkCYb6edUrQ"}]);if("ru"===navigator.language&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const z=document.createElement("div");z.className=Y["no-war"],rt(z,'<a href="https://www.youtube.com/watch?v='.concat(x.youtubeId,'" target="_blank">').concat(x.text,"</a>")),w.appendChild(z),w.style.paddingTop="4em"}},fe=(w,I)=>{w instanceof HTMLElement?I.appendChild(w):"object"==typeof w?je(w,I):w&&rt(I,w)},je=(w,I)=>{w.jquery?Je(I,w):rt(I,w.toString())},Je=(w,I)=>{if(w.textContent="",0 in I)for(let x=0;x in I;x++)w.appendChild(I[x].cloneNode(!0));else w.appendChild(I.cloneNode(!0))},wt=(()=>{if(Kt())return!1;const w=document.createElement("div"),I={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const x in I)if(Object.prototype.hasOwnProperty.call(I,x)&&void 0!==w.style[x])return I[x];return!1})(),Rt=(w,I)=>{const x=Yt(),z=qt();I.showConfirmButton||I.showDenyButton||I.showCancelButton?it(x):Ze(x),Vt(x,I,"actions"),function Cn(w,I,x){const z=Ot(),Me=bn(),lt=$t();Qt(z,"confirm",x),Qt(Me,"deny",x),Qt(lt,"cancel",x),function tr(w,I,x,z){if(!z.buttonsStyling)return xn([w,I,x],Y.styled);_t([w,I,x],Y.styled),z.confirmButtonColor&&(w.style.backgroundColor=z.confirmButtonColor,_t(w,Y["default-outline"])),z.denyButtonColor&&(I.style.backgroundColor=z.denyButtonColor,_t(I,Y["default-outline"])),z.cancelButtonColor&&(x.style.backgroundColor=z.cancelButtonColor,_t(x,Y["default-outline"]))}(z,Me,lt,x),x.reverseButtons&&(x.toast?(w.insertBefore(lt,z),w.insertBefore(Me,z)):(w.insertBefore(lt,I),w.insertBefore(Me,I),w.insertBefore(z,I)))}(x,z,I),rt(z,I.loaderHtml),Vt(z,I,"loader")};function Qt(w,I,x){Gr(w,x["show".concat(p(I),"Button")],"inline-block"),rt(w,x["".concat(I,"ButtonText")]),w.setAttribute("aria-label",x["".concat(I,"ButtonAriaLabel")]),w.className=Y[I],Vt(w,x,"".concat(I,"Button")),_t(w,x["".concat(I,"ButtonClass")])}const na=(w,I)=>{const x=ne();!x||(function br(w,I){"string"==typeof I?w.style.background=I:I||_t([document.documentElement,document.body],Y["no-backdrop"])}(x,I.backdrop),function fi(w,I){I in Y?_t(w,Y[I]):(P('The "position" parameter is not valid, defaulting to "center"'),_t(w,Y.center))}(x,I.position),function Jn(w,I){if(I&&"string"==typeof I){const x="grow-".concat(I);x in Y&&_t(w,Y[x])}}(x,I.grow),Vt(x,I,"container"))};var ct={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const et=["input","file","range","select","radio","checkbox","textarea"],gn=w=>{if(!Kn[w.input])return ae('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(w.input,'"'));const I=Fn(w.input),x=Kn[w.input](I,w);it(x),setTimeout(()=>{Hr(x)})},Gi=(w,I)=>{const x=Pn(he(),w);if(x){(w=>{for(let I=0;I<w.attributes.length;I++){const x=w.attributes[I].name;["type","value","style"].includes(x)||w.removeAttribute(x)}})(x);for(const z in I)x.setAttribute(z,I[z])}},nr=w=>{const I=Fn(w.input);w.customClass&&_t(I,w.customClass.input)},lr=(w,I)=>{(!w.placeholder||I.inputPlaceholder)&&(w.placeholder=I.inputPlaceholder)},hn=(w,I,x)=>{if(x.inputLabel){w.id=Y.input;const z=document.createElement("label"),Me=Y["input-label"];z.setAttribute("for",w.id),z.className=Me,_t(z,x.customClass.inputLabel),z.innerText=x.inputLabel,I.insertAdjacentElement("beforebegin",z)}},Fn=w=>{const I=Y[w]?Y[w]:Y.input;return kr(he(),I)},Kn={},Nt=(w,I)=>{["string","number"].includes(typeof I.inputValue)?w.value="".concat(I.inputValue):W(I.inputValue)||P('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof I.inputValue,'"'))};Kn.text=Kn.email=Kn.password=Kn.number=Kn.tel=Kn.url=(w,I)=>(Nt(w,I),hn(w,w,I),lr(w,I),w.type=I.input,w),Kn.file=(w,I)=>(hn(w,w,I),lr(w,I),w),Kn.range=(w,I)=>{const x=w.querySelector("input"),z=w.querySelector("output");return x.value=I.inputValue,x.type=I.input,z.value=I.inputValue,hn(x,w,I),w},Kn.select=(w,I)=>{if(w.textContent="",I.inputPlaceholder){const x=document.createElement("option");rt(x,I.inputPlaceholder),x.value="",x.disabled=!0,x.selected=!0,w.appendChild(x)}return hn(w,w,I),w},Kn.radio=w=>(w.textContent="",w),Kn.checkbox=(w,I)=>{const x=Pn(he(),"checkbox");x.value="1",x.id=Y.checkbox,x.checked=Boolean(I.inputValue);const z=w.querySelector("span");return rt(z,I.inputPlaceholder),w},Kn.textarea=(w,I)=>{Nt(w,I),lr(w,I),hn(w,w,I);return setTimeout(()=>{if("MutationObserver"in window){const z=parseInt(window.getComputedStyle(he()).width);new MutationObserver(()=>{const lt=w.offsetWidth+(z=>parseInt(window.getComputedStyle(z).marginLeft)+parseInt(window.getComputedStyle(z).marginRight))(w);he().style.width=lt>z?"".concat(lt,"px"):null}).observe(w,{attributes:!0,attributeFilter:["style"]})}}),w};const ra=(w,I)=>{const x=St();Vt(x,I,"htmlContainer"),I.html?(fe(I.html,x),it(x,"block")):I.text?(x.textContent=I.text,it(x,"block")):Ze(x),((w,I)=>{const x=he(),z=ct.innerParams.get(w),Me=!z||I.input!==z.input;et.forEach(lt=>{const vn=Y[lt],Bn=kr(x,vn);Gi(lt,I.inputAttributes),Bn.className=vn,Me&&Ze(Bn)}),I.input&&(Me&&gn(I),nr(I))})(w,I)},rr=(w,I)=>{for(const x in Qe)I.icon!==x&&xn(w,Qe[x]);_t(w,Qe[I.icon]),to(w,I),ds(),Vt(w,I,"icon")},ds=()=>{const w=he(),I=window.getComputedStyle(w).getPropertyValue("background-color"),x=w.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let z=0;z<x.length;z++)x[z].style.backgroundColor=I},mn=(w,I)=>{w.textContent="",rt(w,I.iconHtml?Va(I.iconHtml):"success"===I.icon?'\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n':"error"===I.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Va({question:"?",warning:"!",info:"i"}[I.icon]))},to=(w,I)=>{if(I.iconColor){w.style.color=I.iconColor,w.style.borderColor=I.iconColor;for(const x of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Rr(w,x,"backgroundColor",I.iconColor);Rr(w,".swal2-success-ring","borderColor",I.iconColor)}},Va=w=>'<div class="'.concat(Y["icon-content"],'">').concat(w,"</div>"),no=(w,I)=>{const x=sn();if(!I.progressSteps||0===I.progressSteps.length)return Ze(x);it(x),x.textContent="",I.currentProgressStep>=I.progressSteps.length&&P("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),I.progressSteps.forEach((z,Me)=>{const lt=(w=>{const I=document.createElement("li");return _t(I,Y["progress-step"]),rt(I,w),I})(z);if(x.appendChild(lt),Me===I.currentProgressStep&&_t(lt,Y["active-progress-step"]),Me!==I.progressSteps.length-1){const vn=(w=>{const I=document.createElement("li");return _t(I,Y["progress-step-line"]),w.progressStepsDistance&&(I.style.width=w.progressStepsDistance),I})(I);x.appendChild(vn)}})},Ba=(w,I)=>{w.className="".concat(Y.popup," ").concat(Ct(w)?I.showClass.popup:""),I.toast?(_t([document.documentElement,document.body],Y["toast-shown"]),_t(w,Y.toast)):_t(w,Y.modal),Vt(w,I,"popup"),"string"==typeof I.customClass&&_t(w,I.customClass),I.icon&&_t(w,Y["icon-".concat(I.icon)])},So=(w,I)=>{((w,I)=>{const x=ne(),z=he();I.toast?(Lt(x,"width",I.width),z.style.width="100%",z.insertBefore(qt(),me())):Lt(z,"width",I.width),Lt(z,"padding",I.padding),I.color&&(z.style.color=I.color),I.background&&(z.style.background=I.background),Ze(Ge()),Ba(z,I)})(0,I),na(0,I),no(0,I),((w,I)=>{const x=ct.innerParams.get(w),z=me();x&&I.icon===x.icon?(mn(z,I),rr(z,I)):I.icon||I.iconHtml?I.icon&&-1===Object.keys(Qe).indexOf(I.icon)?(ae('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(I.icon,'"')),Ze(z)):(it(z),mn(z,I),rr(z,I),_t(z,I.showClass.icon)):Ze(z)})(w,I),((w,I)=>{const x=Xt();if(!I.imageUrl)return Ze(x);it(x,""),x.setAttribute("src",I.imageUrl),x.setAttribute("alt",I.imageAlt),Lt(x,"width",I.imageWidth),Lt(x,"height",I.imageHeight),x.className=Y.image,Vt(x,I,"image")})(0,I),((w,I)=>{const x=Be();Gr(x,I.title||I.titleText,"block"),I.title&&fe(I.title,x),I.titleText&&(x.innerText=I.titleText),Vt(x,I,"title")})(0,I),((w,I)=>{const x=ur();rt(x,I.closeButtonHtml),Vt(x,I,"closeButton"),Gr(x,I.showCloseButton),x.setAttribute("aria-label",I.closeButtonAriaLabel)})(0,I),ra(w,I),Rt(0,I),((w,I)=>{const x=An();Gr(x,I.footer),I.footer&&fe(I.footer,x),Vt(x,I,"footer")})(0,I),"function"==typeof I.didRender&&I.didRender(he())},qr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Tl=()=>{j(document.body.children).forEach(I=>{I.hasAttribute("data-previous-aria-hidden")?(I.setAttribute("aria-hidden",I.getAttribute("data-previous-aria-hidden")),I.removeAttribute("data-previous-aria-hidden")):I.removeAttribute("aria-hidden")})},xi=["swal-title","swal-html","swal-footer"],Tu=w=>{const I={};return j(w.querySelectorAll("swal-param")).forEach(x=>{Wi(x,["name","value"]);const z=x.getAttribute("name"),Me=x.getAttribute("value");"boolean"==typeof We[z]&&"false"===Me&&(I[z]=!1),"object"==typeof We[z]&&(I[z]=JSON.parse(Me))}),I},Al=w=>{const I={};return j(w.querySelectorAll("swal-button")).forEach(x=>{Wi(x,["type","color","aria-label"]);const z=x.getAttribute("type");I["".concat(z,"ButtonText")]=x.innerHTML,I["show".concat(p(z),"Button")]=!0,x.hasAttribute("color")&&(I["".concat(z,"ButtonColor")]=x.getAttribute("color")),x.hasAttribute("aria-label")&&(I["".concat(z,"ButtonAriaLabel")]=x.getAttribute("aria-label"))}),I},xo=w=>{const I={},x=w.querySelector("swal-image");return x&&(Wi(x,["src","width","height","alt"]),x.hasAttribute("src")&&(I.imageUrl=x.getAttribute("src")),x.hasAttribute("width")&&(I.imageWidth=x.getAttribute("width")),x.hasAttribute("height")&&(I.imageHeight=x.getAttribute("height")),x.hasAttribute("alt")&&(I.imageAlt=x.getAttribute("alt"))),I},io=w=>{const I={},x=w.querySelector("swal-icon");return x&&(Wi(x,["type","color"]),x.hasAttribute("type")&&(I.icon=x.getAttribute("type")),x.hasAttribute("color")&&(I.iconColor=x.getAttribute("color")),I.iconHtml=x.innerHTML),I},Au=w=>{const I={},x=w.querySelector("swal-input");x&&(Wi(x,["type","label","placeholder","value"]),I.input=x.getAttribute("type")||"text",x.hasAttribute("label")&&(I.inputLabel=x.getAttribute("label")),x.hasAttribute("placeholder")&&(I.inputPlaceholder=x.getAttribute("placeholder")),x.hasAttribute("value")&&(I.inputValue=x.getAttribute("value")));const z=w.querySelectorAll("swal-input-option");return z.length&&(I.inputOptions={},j(z).forEach(Me=>{Wi(Me,["value"]);const lt=Me.getAttribute("value");I.inputOptions[lt]=Me.innerHTML})),I},$c=(w,I)=>{const x={};for(const z in I){const Me=I[z],lt=w.querySelector(Me);lt&&(Wi(lt,[]),x[Me.replace(/^swal-/,"")]=lt.innerHTML.trim())}return x},Hc=w=>{const I=xi.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);j(w.children).forEach(x=>{const z=x.tagName.toLowerCase();-1===I.indexOf(z)&&P("Unrecognized element <".concat(z,">"))})},Wi=(w,I)=>{j(w.attributes).forEach(x=>{-1===I.indexOf(x.name)&&P(['Unrecognized attribute "'.concat(x.name,'" on <').concat(w.tagName.toLowerCase(),">."),"".concat(I.length?"Allowed attributes are: ".concat(I.join(", ")):"To set the value, use HTML within the element.")])})};var xs={email:(w,I)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(w)?Promise.resolve():Promise.resolve(I||"Invalid email address"),url:(w,I)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(w)?Promise.resolve():Promise.resolve(I||"Invalid URL")};function hs(w){(function Gc(w){w.inputValidator||Object.keys(xs).forEach(I=>{w.input===I&&(w.inputValidator=xs[I])})})(w),w.showLoaderOnConfirm&&!w.preConfirm&&P("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function gh(w){(!w.target||"string"==typeof w.target&&!document.querySelector(w.target)||"string"!=typeof w.target&&!w.target.appendChild)&&(P('Target parameter is not valid, defaulting to "body"'),w.target="body")}(w),"string"==typeof w.title&&(w.title=w.title.split("\n").join("<br />")),U(w)}class Su{constructor(I,x){this.callback=I,this.remaining=x,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(I){const x=this.running;return x&&this.stop(),this.remaining+=I,x&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const sa=()=>{null===Mr.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Mr.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Mr.previousBodyPadding+(()=>{const w=document.createElement("div");w.className=Y["scrollbar-measure"],document.body.appendChild(w);const I=w.getBoundingClientRect().width-w.clientWidth;return document.body.removeChild(w),I})(),"px"))},Jr=()=>{const w=navigator.userAgent,I=!!w.match(/iPad/i)||!!w.match(/iPhone/i),x=!!w.match(/WebKit/i);I&&x&&!w.match(/CriOS/i)&&he().scrollHeight>window.innerHeight-44&&(ne().style.paddingBottom="".concat(44,"px"))},Sl=()=>{const w=ne();let I;w.ontouchstart=x=>{I=so(x)},w.ontouchmove=x=>{I&&(x.preventDefault(),x.stopPropagation())}},so=w=>{const I=w.target,x=ne();return!(oa(w)||xl(w)||I!==x&&(Nn(x)||"INPUT"===I.tagName||"TEXTAREA"===I.tagName||Nn(St())&&St().contains(I)))},oa=w=>w.touches&&w.touches.length&&"stylus"===w.touches[0].touchType,xl=w=>w.touches&&w.touches.length>1,gi=w=>{const I=ne(),x=he();"function"==typeof w.willOpen&&w.willOpen(x);const Me=window.getComputedStyle(document.body).overflowY;Ln(I,x,w),setTimeout(()=>{aa(I,x)},10),xr()&&(Ro(I,w.scrollbarPadding,Me),j(document.body.children).forEach(I=>{I===ne()||I.contains(ne())||(I.hasAttribute("aria-hidden")&&I.setAttribute("data-previous-aria-hidden",I.getAttribute("aria-hidden")),I.setAttribute("aria-hidden","true"))})),!qn()&&!le.previousActiveElement&&(le.previousActiveElement=document.activeElement),"function"==typeof w.didOpen&&setTimeout(()=>w.didOpen(x)),xn(I,Y["no-transition"])},Mi=w=>{const I=he();if(w.target!==I)return;const x=ne();I.removeEventListener(wt,Mi),x.style.overflowY="auto"},aa=(w,I)=>{wt&&on(I)?(w.style.overflowY="hidden",I.addEventListener(wt,Mi)):w.style.overflowY="auto"},Ro=(w,I,x)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Sn(document.body,Y.iosfix)){const I=document.body.scrollTop;document.body.style.top="".concat(-1*I,"px"),_t(document.body,Y.iosfix),Sl(),Jr()}})(),I&&"hidden"!==x&&sa(),setTimeout(()=>{w.scrollTop=0})},Ln=(w,I,x)=>{_t(w,x.showClass.backdrop),I.style.setProperty("opacity","0","important"),it(I,"grid"),setTimeout(()=>{_t(I,x.showClass.popup),I.style.removeProperty("opacity")},10),_t([document.documentElement,document.body],Y.shown),x.heightAuto&&x.backdrop&&!x.toast&&_t([document.documentElement,document.body],Y["height-auto"])},mi=w=>{let I=he();I||new mr,I=he();const x=qt();qn()?Ze(me()):zc(I,w),it(x),I.setAttribute("data-loading",!0),I.setAttribute("aria-busy",!0),I.focus()},zc=(w,I)=>{const x=Yt(),z=qt();!I&&Ct(Ot())&&(I=Ot()),it(x),I&&(Ze(I),z.setAttribute("data-button-to-replace",I.className)),z.parentNode.insertBefore(z,I),_t([w,x],Y.loading)},xu=w=>w.checked?1:0,ua=w=>w.checked?w.value:null,fs=w=>w.files.length?null!==w.getAttribute("multiple")?w.files:w.files[0]:null,Ms=(w,I)=>{const x=he(),z=Me=>En[I.input](x,Ki(Me),I);ve(I.inputOptions)||W(I.inputOptions)?(mi(Ot()),K(I.inputOptions).then(Me=>{w.hideLoading(),z(Me)})):"object"==typeof I.inputOptions?z(I.inputOptions):ae("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof I.inputOptions))},ja=(w,I)=>{const x=w.getInput();Ze(x),K(I.inputValue).then(z=>{x.value="number"===I.input?parseFloat(z)||0:"".concat(z),it(x),x.focus(),w.hideLoading()}).catch(z=>{ae("Error in inputValue promise: ".concat(z)),x.value="",it(x),x.focus(),w.hideLoading()})},En={select:(w,I,x)=>{const z=kr(w,Y.select),Me=(lt,vn,Bn)=>{const bt=document.createElement("option");bt.value=Bn,rt(bt,vn),bt.selected=ps(Bn,x.inputValue),lt.appendChild(bt)};I.forEach(lt=>{const vn=lt[0],Bn=lt[1];if(Array.isArray(Bn)){const bt=document.createElement("optgroup");bt.label=vn,bt.disabled=!1,z.appendChild(bt),Bn.forEach(vs=>Me(bt,vs[1],vs[0]))}else Me(z,Bn,vn)}),z.focus()},radio:(w,I,x)=>{const z=kr(w,Y.radio);I.forEach(lt=>{const vn=lt[0],Bn=lt[1],bt=document.createElement("input"),vs=document.createElement("label");bt.type="radio",bt.name=Y.radio,bt.value=vn,ps(vn,x.inputValue)&&(bt.checked=!0);const ya=document.createElement("span");rt(ya,Bn),ya.className=Y.label,vs.appendChild(bt),vs.appendChild(ya),z.appendChild(vs)});const Me=z.querySelectorAll("input");Me.length&&Me[0].focus()}},Ki=w=>{const I=[];return"undefined"!=typeof Map&&w instanceof Map?w.forEach((x,z)=>{let Me=x;"object"==typeof Me&&(Me=Ki(Me)),I.push([z,Me])}):Object.keys(w).forEach(x=>{let z=w[x];"object"==typeof z&&(z=Ki(z)),I.push([x,z])}),I},ps=(w,I)=>I&&I.toString()===w.toString();function fn(){const w=ct.innerParams.get(this);if(!w)return;const I=ct.domCache.get(this);Ze(I.loader),qn()?w.icon&&it(me()):$a(I),xn([I.popup,I.actions],Y.loading),I.popup.removeAttribute("aria-busy"),I.popup.removeAttribute("data-loading"),I.confirmButton.disabled=!1,I.denyButton.disabled=!1,I.cancelButton.disabled=!1}const $a=w=>{const I=w.popup.getElementsByClassName(w.loader.getAttribute("data-button-to-replace"));I.length?it(I[0],"inline-block"):!Ct(Ot())&&!Ct(bn())&&!Ct($t())&&Ze(w.actions)};var Xr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Zn=()=>Ot()&&Ot().click(),Ir=w=>{w.keydownTarget&&w.keydownHandlerAdded&&(w.keydownTarget.removeEventListener("keydown",w.keydownHandler,{capture:w.keydownListenerCapture}),w.keydownHandlerAdded=!1)},Yi=(w,I,x)=>{const z=Qr();if(z.length)return(I+=x)===z.length?I=0:-1===I&&(I=z.length-1),z[I].focus();he().focus()},ks=["ArrowRight","ArrowDown"],yi=["ArrowLeft","ArrowUp"],ki=(w,I,x)=>{const z=ct.innerParams.get(w);!z||I.isComposing||229===I.keyCode||(z.stopKeydownPropagation&&I.stopPropagation(),"Enter"===I.key?Qi(w,I,z):"Tab"===I.key?It(I,z):[...ks,...yi].includes(I.key)?Po(I.key):"Escape"===I.key&&Mu(I,z,x))},Qi=(w,I,x)=>{if(pe(x.allowEnterKey)&&I.target&&w.getInput()&&I.target.outerHTML===w.getInput().outerHTML){if(["textarea","file"].includes(x.input))return;Zn(),I.preventDefault()}},It=(w,I)=>{const x=w.target,z=Qr();let Me=-1;for(let lt=0;lt<z.length;lt++)if(x===z[lt]){Me=lt;break}Yi(0,Me,w.shiftKey?-1:1),w.stopPropagation(),w.preventDefault()},Po=w=>{if(![Ot(),bn(),$t()].includes(document.activeElement))return;const Me=ks.includes(w)?"nextElementSibling":"previousElementSibling";let lt=document.activeElement;for(let vn=0;vn<Yt().children.length;vn++){if(lt=lt[Me],!lt)return;if(Ct(lt)&&lt instanceof HTMLButtonElement)break}lt instanceof HTMLButtonElement&&lt.focus()},Mu=(w,I,x)=>{pe(I.allowEscapeKey)&&(w.preventDefault(),x(qr.esc))};function Rs(w,I,x,z){qn()?Xi(w,z):(gt(x).then(()=>Xi(w,z)),Ir(le)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(I.setAttribute("style","display:none !important"),I.removeAttribute("class"),I.innerHTML=""):I.remove(),xr()&&(null!==Mr.previousBodyPadding&&(document.body.style.paddingRight="".concat(Mr.previousBodyPadding,"px"),Mr.previousBodyPadding=null),(()=>{if(Sn(document.body,Y.iosfix)){const w=parseInt(document.body.style.top,10);xn(document.body,Y.iosfix),document.body.style.top="",document.body.scrollTop=-1*w}})(),Tl()),function ku(){xn([document.documentElement,document.body],[Y.shown,Y["height-auto"],Y["no-backdrop"],Y["toast-shown"]])}()}function Ji(w){w=kl(w);const I=Xr.swalPromiseResolve.get(this),x=Oo(this);this.isAwaitingPromise()?w.isDismissed||(Ft(this),I(w)):x&&I(w)}const Oo=w=>{const I=he();if(!I)return!1;const x=ct.innerParams.get(w);if(!x||Sn(I,x.hideClass.popup))return!1;xn(I,x.showClass.popup),_t(I,x.hideClass.popup);const z=ne();return xn(z,x.showClass.backdrop),_t(z,x.hideClass.backdrop),In(w,I,x),!0};const Ft=w=>{w.isAwaitingPromise()&&(ct.awaitingPromise.delete(w),ct.innerParams.get(w)||w._destroy())},kl=w=>void 0===w?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},w),In=(w,I,x)=>{const z=ne(),Me=wt&&on(I);"function"==typeof x.willClose&&x.willClose(I),Me?ca(w,I,z,x.returnFocus,x.didClose):Rs(w,z,x.returnFocus,x.didClose)},ca=(w,I,x,z,Me)=>{le.swalCloseEventFinishedCallback=Rs.bind(null,w,x,z,Me),I.addEventListener(wt,function(lt){lt.target===I&&(le.swalCloseEventFinishedCallback(),delete le.swalCloseEventFinishedCallback)})},Xi=(w,I)=>{setTimeout(()=>{"function"==typeof I&&I.bind(w.params)(),w._destroy()})};function ti(w,I,x){const z=ct.domCache.get(w);I.forEach(Me=>{z[Me].disabled=x})}function da(w,I){if(!w)return!1;if("radio"===w.type){const z=w.parentNode.parentNode.querySelectorAll("input");for(let Me=0;Me<z.length;Me++)z[Me].disabled=I}else w.disabled=I}const fo=w=>{const I={};return Object.keys(w).forEach(x=>{Ae(x)?I[x]=w[x]:P("Invalid parameter to update: ".concat(x))}),I};const Rl=w=>{Ps(w),delete w.params,delete le.keydownHandler,delete le.keydownTarget,delete le.currentInstance},Ps=w=>{w.isAwaitingPromise()?(ha(ct,w),ct.awaitingPromise.set(w,!0)):(ha(Xr,w),ha(ct,w))},ha=(w,I)=>{for(const x in w)w[x].delete(I)};var po=Object.freeze({hideLoading:fn,disableLoading:fn,getInput:function uo(w){const I=ct.innerParams.get(w||this),x=ct.domCache.get(w||this);return x?Pn(x.popup,I.input):null},close:Ji,isAwaitingPromise:function Ml(){return!!ct.awaitingPromise.get(this)},rejectPromise:function ke(w){const I=Xr.swalPromiseReject.get(this);Ft(this),I&&I(w)},handleAwaitingPromise:Ft,closePopup:Ji,closeModal:Ji,closeToast:Ji,enableButtons:function No(){ti(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Wc(){ti(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function Ha(){return da(this.getInput(),!1)},disableInput:function lo(){return da(this.getInput(),!0)},showValidationMessage:function co(w){const I=ct.domCache.get(this),x=ct.innerParams.get(this);rt(I.validationMessage,w),I.validationMessage.className=Y["validation-message"],x.customClass&&x.customClass.validationMessage&&_t(I.validationMessage,x.customClass.validationMessage),it(I.validationMessage);const z=this.getInput();z&&(z.setAttribute("aria-invalid",!0),z.setAttribute("aria-describedby",Y["validation-message"]),Hr(z),_t(z,Y.inputerror))},resetValidationMessage:function ir(){const w=ct.domCache.get(this);w.validationMessage&&Ze(w.validationMessage);const I=this.getInput();I&&(I.removeAttribute("aria-invalid"),I.removeAttribute("aria-describedby"),xn(I,Y.inputerror))},getProgressSteps:function Ri(){return ct.domCache.get(this).progressSteps},update:function ho(w){const I=he(),x=ct.innerParams.get(this);if(!I||Sn(I,x.hideClass.popup))return P("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const z=fo(w),Me=Object.assign({},x,z);So(this,Me),ct.innerParams.set(this,Me),Object.defineProperties(this,{params:{value:Object.assign({},this.params,w),writable:!1,enumerable:!0}})},_destroy:function Zr(){const w=ct.domCache.get(this),I=ct.innerParams.get(this);I?(w.popup&&le.swalCloseEventFinishedCallback&&(le.swalCloseEventFinishedCallback(),delete le.swalCloseEventFinishedCallback),le.deferDisposalTimer&&(clearTimeout(le.deferDisposalTimer),delete le.deferDisposalTimer),"function"==typeof I.didDestroy&&I.didDestroy(),Rl(this)):Ps(this)}});const fa=(w,I)=>{const x=ct.innerParams.get(w);if(!x.input)return ae('The "input" parameter is needed to be set when using returnInputValueOn'.concat(p(I)));const z=((w,I)=>{const x=w.getInput();if(!x)return null;switch(I.input){case"checkbox":return xu(x);case"radio":return ua(x);case"file":return fs(x);default:return I.inputAutoTrim?x.value.trim():x.value}})(w,x);x.inputValidator?za(w,z,I):w.getInput().checkValidity()?"deny"===I?go(w,z):Fo(w,z):(w.enableButtons(),w.showValidationMessage(x.validationMessage))},za=(w,I,x)=>{const z=ct.innerParams.get(w);w.disableInput(),Promise.resolve().then(()=>K(z.inputValidator(I,z.validationMessage))).then(lt=>{w.enableButtons(),w.enableInput(),lt?w.showValidationMessage(lt):"deny"===x?go(w,I):Fo(w,I)})},go=(w,I)=>{const x=ct.innerParams.get(w||void 0);x.showLoaderOnDeny&&mi(bn()),x.preDeny?(ct.awaitingPromise.set(w||void 0,!0),Promise.resolve().then(()=>K(x.preDeny(I,x.validationMessage))).then(Me=>{!1===Me?(w.hideLoading(),Ft(w)):w.closePopup({isDenied:!0,value:void 0===Me?I:Me})}).catch(Me=>gs(w||void 0,Me))):w.closePopup({isDenied:!0,value:I})},mo=(w,I)=>{w.closePopup({isConfirmed:!0,value:I})},gs=(w,I)=>{w.rejectPromise(I)},Fo=(w,I)=>{const x=ct.innerParams.get(w||void 0);x.showLoaderOnConfirm&&mi(),x.preConfirm?(w.resetValidationMessage(),ct.awaitingPromise.set(w||void 0,!0),Promise.resolve().then(()=>K(x.preConfirm(I,x.validationMessage))).then(Me=>{Ct(Ge())||!1===Me?(w.hideLoading(),Ft(w)):mo(w,void 0===Me?I:Me)}).catch(Me=>gs(w||void 0,Me))):mo(w,I)},Ru=(w,I,x)=>{I.popup.onclick=()=>{const z=ct.innerParams.get(w);z&&(Ns(z)||z.timer||z.input)||x(qr.close)}},Ns=w=>w.showConfirmButton||w.showDenyButton||w.showCancelButton||w.showCloseButton;let vi=!1;const Wa=w=>{w.popup.onmousedown=()=>{w.container.onmouseup=function(I){w.container.onmouseup=void 0,I.target===w.container&&(vi=!0)}}},Pr=w=>{w.container.onmousedown=()=>{w.popup.onmouseup=function(I){w.popup.onmouseup=void 0,(I.target===w.popup||w.popup.contains(I.target))&&(vi=!0)}}},ms=(w,I,x)=>{I.container.onclick=z=>{const Me=ct.innerParams.get(w);vi?vi=!1:z.target===I.container&&pe(Me.allowOutsideClick)&&x(qr.backdrop)}},Pu=w=>w instanceof Element||(w=>"object"==typeof w&&w.jquery)(w);const ys=()=>{if(le.timeout)return(()=>{const w=Wn(),I=parseInt(window.getComputedStyle(w).width);w.style.removeProperty("transition"),w.style.width="100%";const z=I/parseInt(window.getComputedStyle(w).width)*100;w.style.removeProperty("transition"),w.style.width="".concat(z,"%")})(),le.timeout.stop()},yo=()=>{if(le.timeout){const w=le.timeout.start();return yt(w),w}};let Za=!1;const ga={};const ma=w=>{for(let I=w.target;I&&I!==document;I=I.parentNode)for(const x in ga){const z=I.getAttribute(x);if(z)return void ga[x].fire({template:z})}};var Lo=Object.freeze({isValidParameter:we,isUpdatableParameter:Ae,isDeprecatedParameter:st,argsToParams:w=>{const I={};return"object"!=typeof w[0]||Pu(w[0])?["title","html","icon"].forEach((x,z)=>{const Me=w[z];"string"==typeof Me||Pu(Me)?I[x]=Me:void 0!==Me&&ae("Unexpected type of ".concat(x,'! Expected "string" or "Element", got ').concat(typeof Me))}):Object.assign(I,w[0]),I},isVisible:()=>Ct(he()),clickConfirm:Zn,clickDeny:()=>bn()&&bn().click(),clickCancel:()=>$t()&&$t().click(),getContainer:ne,getPopup:he,getTitle:Be,getHtmlContainer:St,getImage:Xt,getIcon:me,getInputLabel:()=>de(Y["input-label"]),getCloseButton:ur,getActions:Yt,getConfirmButton:Ot,getDenyButton:bn,getCancelButton:$t,getLoader:qt,getFooter:An,getTimerProgressBar:Wn,getFocusableElements:Qr,getValidationMessage:Ge,isLoading:()=>he().hasAttribute("data-loading"),fire:function op(){const w=this;for(var I=arguments.length,x=new Array(I),z=0;z<I;z++)x[z]=arguments[z];return new w(...x)},mixin:function qa(w){return class I extends(this){_main(z,Me){return super._main(z,Object.assign({},w,Me))}}},showLoading:mi,enableLoading:mi,getTimerLeft:()=>le.timeout&&le.timeout.getTimerLeft(),stopTimer:ys,resumeTimer:yo,toggleTimer:()=>{const w=le.timeout;return w&&(w.running?ys():yo())},increaseTimer:w=>{if(le.timeout){const I=le.timeout.increase(w);return yt(I,!0),I}},isTimerRunning:()=>le.timeout&&le.timeout.isRunning(),bindClickHandler:function es(){ga[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Za||(document.body.addEventListener("click",ma),Za=!0)}});let Ya;class _i{constructor(){if("undefined"==typeof window)return;Ya=this;for(var I=arguments.length,x=new Array(I),z=0;z<I;z++)x[z]=arguments[z];const Me=Object.freeze(this.constructor.argsToParams(x));Object.defineProperties(this,{params:{value:Me,writable:!1,enumerable:!0,configurable:!0}});const lt=this._main(this.params);ct.promise.set(this,lt)}_main(I){let x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(w=>{!w.backdrop&&w.allowOutsideClick&&P('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const I in w)qe(I),w.toast&&Oe(I),Pe(I)})(Object.assign({},x,I)),le.currentInstance&&(le.currentInstance._destroy(),xr()&&Tl()),le.currentInstance=this;const z=Nl(I,x);hs(z),Object.freeze(z),le.timeout&&(le.timeout.stop(),delete le.timeout),clearTimeout(le.restoreFocusTimeout);const Me=mh(this);return So(this,z),ct.innerParams.set(this,z),Nu(this,Me,z)}then(I){return ct.promise.get(this).then(I)}finally(I){return ct.promise.get(this).finally(I)}}const Nu=(w,I,x)=>new Promise((z,Me)=>{const lt=vn=>{w.closePopup({isDismissed:!0,dismiss:vn})};Xr.swalPromiseResolve.set(w,z),Xr.swalPromiseReject.set(w,Me),I.confirmButton.onclick=()=>(w=>{const I=ct.innerParams.get(w);w.disableButtons(),I.input?fa(w,"confirm"):Fo(w,!0)})(w),I.denyButton.onclick=()=>(w=>{const I=ct.innerParams.get(w);w.disableButtons(),I.returnInputValueOnDeny?fa(w,"deny"):go(w,!1)})(w),I.cancelButton.onclick=()=>((w,I)=>{w.disableButtons(),I(qr.cancel)})(w,lt),I.closeButton.onclick=()=>lt(qr.close),((w,I,x)=>{ct.innerParams.get(w).toast?Ru(w,I,x):(Wa(I),Pr(I),ms(w,I,x))})(w,I,lt),((w,I,x,z)=>{Ir(I),x.toast||(I.keydownHandler=Me=>ki(w,Me,z),I.keydownTarget=x.keydownListenerCapture?window:he(),I.keydownListenerCapture=x.keydownListenerCapture,I.keydownTarget.addEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!0)})(w,le,x,lt),((w,I)=>{"select"===I.input||"radio"===I.input?Ms(w,I):["text","email","number","tel","textarea"].includes(I.input)&&(ve(I.inputValue)||W(I.inputValue))&&(mi(Ot()),ja(w,I))})(w,x),gi(x),Vn(le,x,lt),gr(I,x),setTimeout(()=>{I.container.scrollTop=0})}),Nl=(w,I)=>{const x=(w=>{const I="string"==typeof w.template?document.querySelector(w.template):w.template;if(!I)return{};const x=I.content;return Hc(x),Object.assign(Tu(x),Al(x),xo(x),io(x),Au(x),$c(x,xi))})(w),z=Object.assign({},We,I,x,w);return z.showClass=Object.assign({},We.showClass,z.showClass),z.hideClass=Object.assign({},We.hideClass,z.hideClass),z},mh=w=>{const I={popup:he(),container:ne(),actions:Yt(),confirmButton:Ot(),denyButton:bn(),cancelButton:$t(),loader:qt(),closeButton:ur(),validationMessage:Ge(),progressSteps:sn()};return ct.domCache.set(w,I),I},Vn=(w,I,x)=>{const z=Wn();Ze(z),I.timer&&(w.timeout=new Su(()=>{x("timer"),delete w.timeout},I.timer),I.timerProgressBar&&(it(z),Vt(z,I,"timerProgressBar"),setTimeout(()=>{w.timeout&&w.timeout.running&&yt(I.timer)})))},gr=(w,I)=>{if(!I.toast){if(!pe(I.allowEnterKey))return ts();Et(w,I)||Yi(0,-1,1)}},Et=(w,I)=>I.focusDeny&&Ct(w.denyButton)?(w.denyButton.focus(),!0):I.focusCancel&&Ct(w.cancelButton)?(w.cancelButton.focus(),!0):!(!I.focusConfirm||!Ct(w.confirmButton)||(w.confirmButton.focus(),0)),ts=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(_i.prototype,po),Object.assign(_i,Lo),Object.keys(po).forEach(w=>{_i[w]=function(){if(Ya)return Ya[w](...arguments)}}),_i.DismissReason=qr,_i.version="11.4.10";const mr=_i;return mr.default=mr,mr}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(xe,L){var p=xe.createElement("style");if(xe.getElementsByTagName("head")[0].appendChild(p),p.styleSheet)p.styleSheet.disabled||(p.styleSheet.cssText=L);else try{p.innerHTML=L}catch(j){p.innerText=L}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-no-war{display:flex;position:fixed;z-index:1061;top:0;left:0;align-items:center;justify-content:center;width:100%;height:3.375em;background:#20232a;color:#fff;text-align:center}.swal2-no-war a{color:#61dafb;text-decoration:none}.swal2-no-war a:hover{text-decoration:underline}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(mt,xe,L)=>{"use strict";function ae(ne,ue){var de={};for(var he in ne)Object.prototype.hasOwnProperty.call(ne,he)&&ue.indexOf(he)<0&&(de[he]=ne[he]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(he=Object.getOwnPropertySymbols(ne);me<he.length;me++)ue.indexOf(he[me])<0&&Object.prototype.propertyIsEnumerable.call(ne,he[me])&&(de[he[me]]=ne[he[me]])}return de}function pe(ne,ue,de,he){return new(de||(de=Promise))(function(Be,St){function Xt(Ot){try{Ge(he.next(Ot))}catch(bn){St(bn)}}function sn(Ot){try{Ge(he.throw(Ot))}catch(bn){St(bn)}}function Ge(Ot){Ot.done?Be(Ot.value):function me(Be){return Be instanceof de?Be:new de(function(St){St(Be)})}(Ot.value).then(Xt,sn)}Ge((he=he.apply(ne,ue||[])).next())})}function we(ne){return this instanceof we?(this.v=ne,this):new we(ne)}function Ae(ne,ue,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,he=de.apply(ne,ue||[]),Be=[];return me={},St("next"),St("throw"),St("return"),me[Symbol.asyncIterator]=function(){return this},me;function St(Rn){he[Rn]&&(me[Rn]=function(qt){return new Promise(function($t,Yt){Be.push([Rn,qt,$t,Yt])>1||Xt(Rn,qt)})})}function Xt(Rn,qt){try{!function sn(Rn){Rn.value instanceof we?Promise.resolve(Rn.value.v).then(Ge,Ot):bn(Be[0][2],Rn)}(he[Rn](qt))}catch($t){bn(Be[0][3],$t)}}function Ge(Rn){Xt("next",Rn)}function Ot(Rn){Xt("throw",Rn)}function bn(Rn,qt){Rn(qt),Be.shift(),Be.length&&Xt(Be[0][0],Be[0][1])}}function qe(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,ue=ne[Symbol.asyncIterator];return ue?ue.call(ne):(ne=function se(ne){var ue="function"==typeof Symbol&&Symbol.iterator,de=ue&&ne[ue],he=0;if(de)return de.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&he>=ne.length&&(ne=void 0),{value:ne&&ne[he++],done:!ne}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),de={},he("next"),he("throw"),he("return"),de[Symbol.asyncIterator]=function(){return this},de);function he(Be){de[Be]=ne[Be]&&function(St){return new Promise(function(Xt,sn){!function me(Be,St,Xt,sn){Promise.resolve(sn).then(function(Ge){Be({value:Ge,done:Xt})},St)}(Xt,sn,(St=ne[Be](St)).done,St.value)})}}}L.d(xe,{FC:()=>Ae,KL:()=>qe,_T:()=>ae,mG:()=>pe,qq:()=>we})},5e3:(mt,xe,L)=>{"use strict";L.d(xe,{$8M:()=>tu,$Z:()=>e0,AFp:()=>vb,ALo:()=>Z0,AaK:()=>pe,CHM:()=>kl,CRH:()=>qs,CZH:()=>zv,CqO:()=>o0,EJc:()=>jD,EpF:()=>r0,F4k:()=>s0,FYo:()=>Oa,FiY:()=>ss,G48:()=>ZD,GfV:()=>$0,Gpc:()=>W,JOm:()=>xa,LFG:()=>ze,LSH:()=>nd,Lbi:()=>VD,NdJ:()=>pu,OlP:()=>Qn,Oqu:()=>ul,PXZ:()=>Yv,Q6J:()=>wd,QGY:()=>al,Qsj:()=>mD,R0b:()=>ea,RDi:()=>fs,Rgc:()=>kf,SBq:()=>vu,Sil:()=>Ie,Suo:()=>tb,TTD:()=>so,TgZ:()=>sf,VLi:()=>Cb,X6Q:()=>KD,XFs:()=>rt,Xpm:()=>Ut,Y36:()=>_d,YKP:()=>Tc,YNc:()=>Yp,Yjl:()=>je,Yz7:()=>qt,ZZ4:()=>Hf,_Bn:()=>V0,_UZ:()=>hc,_Vd:()=>Bd,_c5:()=>rC,_uU:()=>Zy,aQg:()=>uh,c2e:()=>BD,cJS:()=>Yt,cg1:()=>Rd,dDg:()=>Iu,deG:()=>ap,dqk:()=>Ct,eFA:()=>Ab,ekj:()=>Wy,g9A:()=>wb,h0i:()=>Ws,hGG:()=>$b,hij:()=>fg,iGM:()=>Fv,ifc:()=>Lt,ip1:()=>yb,kL8:()=>uv,lG2:()=>fe,lcZ:()=>kv,n5z:()=>Vl,oAB:()=>F,oxw:()=>Bi,q4F:()=>Ud,qLn:()=>wp,qOj:()=>Jh,qZA:()=>ng,sBO:()=>Nb,sIi:()=>Cr,s_b:()=>Zd,soG:()=>jg,tBr:()=>bs,tb:()=>bb,tp0:()=>os,uIk:()=>Wp,vHH:()=>Ve,vpe:()=>Xo,wAp:()=>kt,xp6:()=>jm,z2F:()=>Qv,zSh:()=>du,zs3:()=>hu});var p=L(7579),j=L(727),P=L(8306),ae=L(6451),oe=L(3099);function Ee(i){for(let s in i)if(i[s]===Ee)return s;throw Error("Could not find renamed property on target object.")}function ge(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function pe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(pe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ve(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const K=Ee({__forward_ref__:Ee});function W(i){return i.__forward_ref__=W,i.toString=function(){return pe(this())},i}function se(i){return We(i)?i():i}function We(i){return"function"==typeof i&&i.hasOwnProperty(K)&&i.__forward_ref__===W}class Ve extends Error{constructor(s,a){super(function Ue(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function we(i){return"string"==typeof i?i:null==i?"":String(i)}function Ae(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():we(i)}function Pe(i,s){const a=s?` in ${s}`:"";throw new Ve(-201,`No provider for ${Ae(i)} found${a}`)}function sn(i,s){null==i&&function Ge(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function qt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Yt(i){return{providers:i.providers||[],imports:i.imports||[]}}function An(i){return Wn(i,xr)||Wn(i,fr)}function Wn(i,s){return i.hasOwnProperty(s)?i[s]:null}function Qr(i){return i&&(i.hasOwnProperty(qn)||i.hasOwnProperty(Mr))?i[qn]:null}const xr=Ee({\u0275prov:Ee}),qn=Ee({\u0275inj:Ee}),fr=Ee({ngInjectableDef:Ee}),Mr=Ee({ngInjectorDef:Ee});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let Sn;function Vt(i){const s=Sn;return Sn=i,s}function Pn(i,s,a){const l=An(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&rt.Optional?null:void 0!==s?s:void Pe(pe(i),"Injector")}function On(i){return{toString:i}.toString()}var _t=(()=>((_t=_t||{})[_t.OnPush=0]="OnPush",_t[_t.Default=1]="Default",_t))(),Lt=(()=>{return(i=Lt||(Lt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Lt;var i})();const it="undefined"!=typeof globalThis&&globalThis,Ze="undefined"!=typeof window&&window,Rr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ct=it||"undefined"!=typeof global&&global||Ze||Rr,on={},yt=[],jn=Ee({\u0275cmp:Ee}),Kt=Ee({\u0275dir:Ee}),Ye=Ee({\u0275pipe:Ee}),le=Ee({\u0275mod:Ee}),ot=Ee({\u0275fac:Ee}),gt=Ee({__NG_ELEMENT_ID__:Ee});let Bt=0;function Ut(i){return On(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===_t.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||yt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Lt.Emulated,id:"c",styles:i.styles||yt,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,h=i.features,y=i.pipes;return l.id+=Bt++,l.inputs=H(i.inputs,a),l.outputs=H(i.outputs),h&&h.forEach(_=>_(l)),l.directiveDefs=c?()=>("function"==typeof c?c():c).map($):null,l.pipeDefs=y?()=>("function"==typeof y?y():y).map(Q):null,l})}function $(i){return Je(i)||function wt(i){return i[Kt]||null}(i)}function Q(i){return function ut(i){return i[Ye]||null}(i)}const ye={};function F(i){return On(()=>{const s={type:i.type,bootstrap:i.bootstrap||yt,declarations:i.declarations||yt,imports:i.imports||yt,exports:i.exports||yt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(ye[i.id]=i.type),s})}function H(i,s){if(null==i)return on;const a={};for(const l in i)if(i.hasOwnProperty(l)){let c=i[l],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),a[c]=l,s&&(s[c]=h)}return a}const fe=Ut;function je(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Je(i){return i[jn]||null}function Rt(i,s){const a=i[le]||null;if(!a&&!0===s)throw new Error(`Type ${pe(i)} does not have '\u0275mod' property.`);return a}function Wr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Si(i){return Array.isArray(i)&&!0===i[1]}function ia(i){return 0!=(8&i.flags)}function no(i){return 2==(2&i.flags)}function ro(i){return 1==(1&i.flags)}function pi(i){return null!==i.template}function Ba(i){return 0!=(512&i[2])}function Jr(i,s){return i.hasOwnProperty(ot)?i[ot]:null}class Sl{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function so(){return oa}function oa(i){return i.type.prototype.ngOnChanges&&(i.setInput=ko),xl}function xl(){const i=gi(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===on)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function ko(i,s,a,l){const c=gi(i)||function Mi(i,s){return i[oo]=s}(i,{previous:on,current:null}),h=c.current||(c.current={}),y=c.previous,_=this.declaredInputs[a],D=y[_];h[_]=new Sl(D&&D.currentValue,s,y===on),i[l]=s}so.ngInherit=!0;const oo="__ngSimpleChanges__";function gi(i){return i[oo]||null}let ua;function fs(i){ua=i}function En(i){return!!i.listen}const Ki={createRenderer:(i,s)=>function Ms(){return void 0!==ua?ua:"undefined"!=typeof document?document:void 0}()};function fn(i){for(;Array.isArray(i);)i=i[0];return i}function Xr(i,s){return fn(s[i])}function pr(i,s){return fn(s[i.index])}function la(i,s){return i.data[s]}function Ir(i,s){const a=s[i];return Wr(a)?a:a[0]}function Zi(i){return 4==(4&i[2])}function Yi(i){return 128==(128&i[2])}function yi(i,s){return null==s?null:i[s]}function ki(i){i[18]=0}function Qi(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const It={lFrame:Fo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ji(){return It.bindingsEnabled}function ke(){return It.lFrame.lView}function Ft(){return It.lFrame.tView}function kl(i){return It.lFrame.contextLView=i,i[8]}function In(){let i=ca();for(;null!==i&&64===i.type;)i=i.parent;return i}function ca(){return It.lFrame.currentTNode}function ti(i,s){const a=It.lFrame;a.currentTNode=i,a.isParent=s}function da(){return It.lFrame.isParent}function lo(){return It.isInCheckNoChangesMode}function co(i){It.isInCheckNoChangesMode=i}function fo(){return It.lFrame.bindingIndex++}function ha(i,s){const a=It.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ga(s)}function Ga(i){It.lFrame.currentDirectiveIndex=i}function Pl(){return It.lFrame.currentQueryIndex}function fa(i){It.lFrame.currentQueryIndex=i}function za(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function go(i,s,a){if(a&rt.SkipSelf){let c=s,h=i;for(;!(c=c.parent,null!==c||a&rt.Host||(c=za(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;s=c,i=h}const l=It.lFrame=gs();return l.currentTNode=s,l.lView=i,!0}function mo(i){const s=gs(),a=i[1];It.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function gs(){const i=It.lFrame,s=null===i?null:i.child;return null===s?Fo(i):s}function Fo(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Ol(){const i=It.lFrame;return It.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Ru=Ol;function Ns(){const i=Ol();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Pr(){return It.lFrame.selectedIndex}function ms(i){It.lFrame.selectedIndex=i}function $n(){const i=It.lFrame;return la(i.tView,i.selectedIndex)}function yo(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const h=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:_,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:k}=h;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),_&&((i.contentHooks||(i.contentHooks=[])).push(a,_),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,_)),D&&(i.viewHooks||(i.viewHooks=[])).push(-a,D),S&&((i.viewHooks||(i.viewHooks=[])).push(a,S),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,S)),null!=k&&(i.destroyHooks||(i.destroyHooks=[])).push(a,k)}}function Ka(i,s,a){Za(i,s,3,a)}function pa(i,s,a,l){(3&i[2])===a&&Za(i,s,a,l)}function Xn(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Za(i,s,a,l){const h=null!=l?l:-1,y=s.length-1;let _=0;for(let D=void 0!==l?65535&i[18]:0;D<y;D++)if("number"==typeof s[D+1]){if(_=s[D],null!=l&&_>=l)break}else s[D]<0&&(i[18]+=65536),(_<h||-1==h)&&(ga(i,a,s,D),i[18]=(4294901760&i[18])+D+2),D++}function ga(i,s,a,l){const c=a[l]<0,h=a[l+1],_=i[c?-a[l]:a[l]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{h.call(_)}finally{}}}else try{h.call(_)}finally{}}class ma{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Et(i,s,a){const l=En(i);let c=0;for(;c<a.length;){const h=a[c];if("number"==typeof h){if(0!==h)break;c++;const y=a[c++],_=a[c++],D=a[c++];l?i.setAttribute(s,_,D,y):s.setAttributeNS(y,_,D)}else{const y=h,_=a[++c];mr(y)?l&&i.setProperty(s,y,_):l?i.setAttribute(s,y,_):s.setAttribute(y,_),c++}}return c}function ts(i){return 3===i||4===i||6===i}function mr(i){return 64===i.charCodeAt(0)}function w(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const c=s[l];"number"==typeof c?a=c:0===a||I(i,a,c,null,-1===a||2===a?s[++l]:null)}}return i}function I(i,s,a,l,c){let h=0,y=i.length;if(-1===s)y=-1;else for(;h<i.length;){const _=i[h++];if("number"==typeof _){if(_===s){y=-1;break}if(_>s){y=h-1;break}}}for(;h<i.length;){const _=i[h];if("number"==typeof _)break;if(_===a){if(null===l)return void(null!==c&&(i[h+1]=c));if(l===i[h+1])return void(i[h+2]=c)}h++,null!==l&&h++,null!==c&&h++}-1!==y&&(i.splice(y,0,s),h=y+1),i.splice(h++,0,a),null!==l&&i.splice(h++,0,l),null!==c&&i.splice(h++,0,c)}function x(i){return-1!==i}function z(i){return 32767&i}function lt(i,s){let a=function Me(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let vn=!0;function Bn(i){const s=vn;return vn=i,s}let Qa=0;function Yn(i,s){const a=Fl(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,vo(l.data,i),vo(s,null),vo(l.blueprint,null));const c=ni(i,s),h=i.injectorIndex;if(x(c)){const y=z(c),_=lt(c,s),D=_[1].data;for(let S=0;S<8;S++)s[h+S]=_[y+S]|D[y+S]}return s[h+8]=c,h}function vo(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Fl(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function ni(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,c=s;for(;null!==c;){const h=c[1],y=h.type;if(l=2===y?h.declTNode:1===y?c[6]:null,null===l)return-1;if(a++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Vo(i,s,a){!function Ja(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(gt)&&(l=a[gt]),null==l&&(l=a[gt]=Qa++);const c=255&l;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function _o(i,s,a){if(a&rt.Optional)return i;Pe(s,"NodeInjector")}function Xa(i,s,a,l){if(a&rt.Optional&&void 0===l&&(l=null),0==(a&(rt.Self|rt.Host))){const c=i[9],h=Vt(void 0);try{return c?c.get(s,l,a&rt.Optional):Pn(s,l,a&rt.Optional)}finally{Vt(h)}}return _o(l,s,a)}function Bo(i,s,a,l=rt.Default,c){if(null!==i){const h=function wa(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(gt)?i[gt]:void 0;return"number"==typeof s?s>=0?255&s:Ll:s}(a);if("function"==typeof h){if(!go(s,i,l))return l&rt.Host?_o(c,a,l):Xa(s,a,l,c);try{const y=h(l);if(null!=y||l&rt.Optional)return y;Pe(a)}finally{Ru()}}else if("number"==typeof h){let y=null,_=Fl(i,s),D=-1,S=l&rt.Host?s[16][6]:null;for((-1===_||l&rt.SkipSelf)&&(D=-1===_?ni(i,s):s[_+8],-1!==D&&Or(l,!1)?(y=s[1],_=z(D),s=lt(D,s)):_=-1);-1!==_;){const k=s[1];if(eu(h,_,k.data)){const V=yh(_,s,a,y,l,S);if(V!==Fs)return V}D=s[_+8],-1!==D&&Or(l,s[1].data[_+8]===S)&&eu(h,_,s)?(y=k,_=z(D),s=lt(D,s)):_=-1}}}return Xa(s,a,l,c)}const Fs={};function Ll(){return new Ls(In(),ke())}function yh(i,s,a,l,c,h){const y=s[1],_=y.data[i+8],k=wo(_,y,a,null==l?no(_)&&vn:l!=y&&0!=(3&_.type),c&rt.Host&&h===_);return null!==k?_a(s,y,k,_):Fs}function wo(i,s,a,l,c){const h=i.providerIndexes,y=s.data,_=1048575&h,D=i.directiveStart,k=h>>20,Z=c?_+k:i.directiveEnd;for(let ee=l?_:_+k;ee<Z;ee++){const Te=y[ee];if(ee<D&&a===Te||ee>=D&&Te.type===a)return ee}if(c){const ee=y[D];if(ee&&pi(ee)&&ee.type===a)return D}return null}function _a(i,s,a,l){let c=i[a];const h=s.data;if(function Lo(i){return i instanceof ma}(c)){const y=c;y.resolving&&function st(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Ve(-200,`Circular dependency in DI detected for ${i}${a}`)}(Ae(h[a]));const _=Bn(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?Vt(y.injectImpl):null;go(i,l,rt.Default);try{c=i[a]=y.factory(void 0,h,i,l),s.firstCreatePass&&a>=l.directiveStart&&function ys(i,s,a){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:h}=s.type.prototype;if(l){const y=oa(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),h&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,h),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,h))}(a,h[a],s)}finally{null!==D&&Vt(D),Bn(_),y.resolving=!1,Ru()}}return c}function eu(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Or(i,s){return!(i&rt.Self||i&rt.Host&&s)}class Ls{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return Bo(this._tNode,this._lView,s,l,a)}}function Vl(i){return On(()=>{const s=i.prototype.constructor,a=s[ot]||sr(s),l=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==l;){const h=c[ot]||sr(c);if(h&&h!==a)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function sr(i){return We(i)?()=>{const s=sr(se(i));return s&&s()}:Jr(i)}function tu(i){return function va(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let c=0;for(;c<l;){const h=a[c];if(ts(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<l&&"string"==typeof a[c];)c++;else{if(h===s)return a[c+1];c+=2}}}return null}(In(),i)}const Vs="__parameters__";function Hn(i,s,a){return On(()=>{const l=function _s(i){return function(...a){if(i){const l=i(...a);for(const c in l)this[c]=l[c]}}}(s);function c(...h){if(this instanceof c)return l.apply(this,h),this;const y=new c(...h);return _.annotation=y,_;function _(D,S,k){const V=D.hasOwnProperty(Vs)?D[Vs]:Object.defineProperty(D,Vs,{value:[]})[Vs];for(;V.length<=k;)V.push(null);return(V[k]=V[k]||[]).push(y),D}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class Qn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=qt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ap=new Qn("AnalyzeForEntryComponents");function ii(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),ii(l,s)):s!==i&&s.push(l)}return s}function rs(i,s){i.forEach(a=>Array.isArray(a)?rs(a,s):s(a))}function Ia(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function iu(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Dr(i,s,a){let l=Us(i,s);return l>=0?i[1|l]=a:(l=~l,function Ul(i,s,a,l){let c=i.length;if(c==s)i.push(a,l);else if(1===c)i.push(l,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function $l(i,s){const a=Us(i,s);if(a>=0)return i[1|a]}function Us(i,s){return function Lu(i,s,a){let l=0,c=i.length>>a;for(;c!==l;){const h=l+(c-l>>1),y=i[h<<a];if(s===y)return h<<a;y>s?c=h:l=h+1}return~(c<<a)}(i,s,1)}const bo={},Bu="__NG_DI_FLAG__",Ta="ngTempTokenPath",C=/\n/gm,R="__source",G=Ee({provide:String,useValue:Ee});let X;function ce(i){const s=X;return X=i,s}function De(i,s=rt.Default){if(void 0===X)throw new Ve(203,"");return null===X?Pn(i,void 0,s):X.get(i,s&rt.Optional?null:void 0,s)}function ze(i,s=rt.Default){return(function Un(){return Sn}()||De)(se(i),s)}const Tt=ze;function tn(i){const s=[];for(let a=0;a<i.length;a++){const l=se(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Ve(900,"");let c,h=rt.Default;for(let y=0;y<l.length;y++){const _=l[y],D=Yr(_);"number"==typeof D?-1===D?c=_.token:h|=D:c=_}s.push(ze(c,h))}else s.push(ze(l))}return s}function Mt(i,s){return i[Bu]=s,i.prototype[Bu]=s,i}function Yr(i){return i[Bu]}const bs=Mt(Hn("Inject",i=>({token:i})),-1),ss=Mt(Hn("Optional"),8),os=Mt(Hn("SkipSelf"),4);class Xc{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Aa(i){return i instanceof Xc?i.changingThisBreaksApplicationSecurity:i}const f=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,E=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Dn=(()=>((Dn=Dn||{})[Dn.NONE=0]="NONE",Dn[Dn.HTML=1]="HTML",Dn[Dn.STYLE=2]="STYLE",Dn[Dn.SCRIPT=3]="SCRIPT",Dn[Dn.URL=4]="URL",Dn[Dn.RESOURCE_URL=5]="RESOURCE_URL",Dn))();function nd(i){const s=function qu(){const i=ke();return i&&i[12]}();return s?s.sanitize(Dn.URL,i)||"":function zo(i,s){const a=function ql(i){return i instanceof Xc&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?Aa(i):function M(i){return(i=String(i)).match(f)||i.match(E)?i:"unsafe:"+i}(we(i))}const S_="__ngContext__";function Fi(i,s){i[S_]=s}function bm(i){const s=function kh(i){return i[S_]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Xl(i){return i.ngOriginalError}function xE(i,...s){i.error(...s)}class wp{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=function SE(i){return i&&i.ngErrorLogger||xE}(s);l(this._console,"ERROR",s),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Xl(s);for(;a&&Xl(a);)a=Xl(a);return a||null}}const VE=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ct))();function qo(i){return i instanceof Function?i():i}var xa=(()=>((xa=xa||{})[xa.Important=1]="Important",xa[xa.DashCase=2]="DashCase",xa))();function bp(i,s){return undefined(i,s)}function Ph(i){const s=i[3];return Si(s)?s[3]:s}function Oh(i){return V_(i[13])}function Ip(i){return V_(i[4])}function V_(i){for(;null!==i&&!Si(i);)i=i[4];return i}function rd(i,s,a,l,c){if(null!=l){let h,y=!1;Si(l)?h=l:Wr(l)&&(y=!0,l=l[0]);const _=fn(l);0===i&&null!==a?null==c?km(s,a,_):Hs(s,a,_,c||null,!0):1===i&&null!==a?Hs(s,a,_,c||null,!0):2===i?function Nm(i,s,a){const l=Ku(i,s);l&&function WE(i,s,a,l){En(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}(s,_,y):3===i&&s.destroyNode(_),null!=h&&function K_(i,s,a,l,c){const h=a[7];h!==fn(a)&&rd(s,i,l,h,c);for(let _=10;_<a.length;_++){const D=a[_];Tp(D[1],D,i,s,l,h)}}(s,i,h,a,c)}}function Tm(i,s,a){if(En(i))return i.createElement(s,a);{const l=null!==a?function xu(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?i.createElement(s):i.createElementNS(l,s)}}function U_(i,s){const a=i[9],l=a.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,Qi(c,-1)),a.splice(l,1)}function Sm(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const c=l[17];null!==c&&c!==i&&U_(c,l),s>0&&(i[a-1][4]=l[4]);const h=iu(i,10+s);!function $s(i,s){Tp(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const y=h[19];null!==y&&y.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function xm(i,s){if(!(256&s[2])){const a=s[11];En(a)&&a.destroyNode&&Tp(i,s,a,3,null,null),function Nh(i){let s=i[13];if(!s)return Mm(i[1],i);for(;s;){let a=null;if(Wr(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)Wr(s)&&Mm(s[1],s),s=s[3];null===s&&(s=i),Wr(s)&&Mm(s[1],s),a=s&&s[4]}s=a}}(s)}}function Mm(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function $_(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const c=s[a[l]];if(!(c instanceof ma)){const h=a[l+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const _=c[h[y]],D=h[y+1];try{D.call(_)}finally{}}else try{h.call(c)}finally{}}}}(i,s),function j_(i,s){const a=i.cleanup,l=s[7];let c=-1;if(null!==a)for(let h=0;h<a.length-1;h+=2)if("string"==typeof a[h]){const y=a[h+1],_="function"==typeof y?y(s):fn(s[y]),D=l[c=a[h+2]],S=a[h+3];"boolean"==typeof S?_.removeEventListener(a[h],D,S):S>=0?l[c=S]():l[c=-S].unsubscribe(),h+=2}else{const y=l[c=a[h+1]];a[h].call(y)}if(null!==l){for(let h=c+1;h<l.length;h++)l[h]();s[7]=null}}(i,s),1===s[1].type&&En(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Si(s[3])){a!==s[3]&&U_(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function Dp(i,s,a){return function zE(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const c=i.data[l.directiveStart].encapsulation;if(c===Lt.None||c===Lt.Emulated)return null}return pr(l,a)}(i,s.parent,a)}function Hs(i,s,a,l,c){En(i)?i.insertBefore(s,a,l,c):s.insertBefore(a,l,c)}function km(i,s,a){En(i)?i.appendChild(s,a):s.appendChild(a)}function H_(i,s,a,l,c){null!==l?Hs(i,s,a,l,c):km(i,s,a)}function Ku(i,s){return En(i)?i.parentNode(s):s.parentNode}let Rm=function z_(i,s,a){return 40&i.type?pr(i,a):null};function Cp(i,s,a,l){const c=Dp(i,l,s),h=s[11],_=function G_(i,s,a){return Rm(i,s,a)}(l.parent||s[6],l,s);if(null!=c)if(Array.isArray(a))for(let D=0;D<a.length;D++)H_(h,c,a[D],_,!1);else H_(h,c,a,_,!1)}function sd(i,s){if(null!==s){const a=s.type;if(3&a)return pr(s,i);if(4&a)return Om(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return sd(i,l);{const c=i[s.index];return Si(c)?Om(-1,c):fn(c)}}if(32&a)return bp(s,i)()||fn(i[s.index]);{const l=q_(i,s);return null!==l?Array.isArray(l)?l[0]:sd(Ph(i[16]),l):sd(i,s.next)}}return null}function q_(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Om(i,s){const a=10+i+1;if(a<s.length){const l=s[a],c=l[1].firstChild;if(null!==c)return sd(l,c)}return s[7]}function Fm(i,s,a,l,c,h,y){for(;null!=a;){const _=l[a.index],D=a.type;if(y&&0===s&&(_&&Fi(fn(_),l),a.flags|=4),64!=(64&a.flags))if(8&D)Fm(i,s,a.child,l,c,h,!1),rd(s,i,c,_,h);else if(32&D){const S=bp(a,l);let k;for(;k=S();)rd(s,i,c,k,h);rd(s,i,c,_,h)}else 16&D?Lm(i,s,l,a,c,h):rd(s,i,c,_,h);a=y?a.projectionNext:a.next}}function Tp(i,s,a,l,c,h){Fm(a,l,i.firstChild,s,c,h,!1)}function Lm(i,s,a,l,c,h){const y=a[16],D=y[6].projection[l.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)rd(s,i,c,D[S],h);else Fm(i,s,D,y[3],c,h,!0)}function Vm(i,s,a){En(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function lu(i,s,a){En(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function Ko(i,s,a){let l=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const h=s.length;if(c+h===l||i.charCodeAt(c+h)<=32)return c}a=c+1}}const Bm="ng-template";function YE(i,s,a){let l=0;for(;l<i.length;){let c=i[l++];if(a&&"class"===c){if(c=i[l],-1!==Ko(c.toLowerCase(),s,0))return!0}else if(1===c){for(;l<i.length&&"string"==typeof(c=i[l++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function Z_(i){return 4===i.type&&i.value!==Bm}function QE(i,s,a){return s===(4!==i.type||a?i.value:Bm)}function Ap(i,s,a){let l=4;const c=i.attrs||[],h=function JE(i){for(let s=0;s<i.length;s++)if(ts(i[s]))return s;return i.length}(c);let y=!1;for(let _=0;_<s.length;_++){const D=s[_];if("number"!=typeof D){if(!y)if(4&l){if(l=2|1&l,""!==D&&!QE(i,D,a)||""===D&&1===s.length){if(oi(l))return!1;y=!0}}else{const S=8&l?D:s[++_];if(8&l&&null!==i.attrs){if(!YE(i.attrs,S,a)){if(oi(l))return!1;y=!0}continue}const V=Y_(8&l?"class":D,c,Z_(i),a);if(-1===V){if(oi(l))return!1;y=!0;continue}if(""!==S){let Z;Z=V>h?"":c[V+1].toLowerCase();const ee=8&l?Z:null;if(ee&&-1!==Ko(ee,S,0)||2&l&&S!==Z){if(oi(l))return!1;y=!0}}}}else{if(!y&&!oi(l)&&!oi(D))return!1;if(y&&oi(D))continue;y=!1,l=D|1&l}}return oi(l)||y}function oi(i){return 0==(1&i)}function Y_(i,s,a,l){if(null===s)return-1;let c=0;if(l||!a){let h=!1;for(;c<s.length;){const y=s[c];if(y===i)return c;if(3===y||6===y)h=!0;else{if(1===y||2===y){let _=s[++c];for(;"string"==typeof _;)_=s[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=h?1:2}return-1}return function XT(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function Ei(i,s,a=!1){for(let l=0;l<s.length;l++)if(Ap(i,s[l],a))return!0;return!1}function Um(i,s){return i?":not("+s.trim()+")":s}function J_(i){let s=i[0],a=1,l=2,c="",h=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&l){const _=i[++a];c+="["+y+(_.length>0?'="'+_+'"':"")+"]"}else 8&l?c+="."+y:4&l&&(c+=" "+y);else""!==c&&!oi(y)&&(s+=Um(h,c),c=""),l=y,h=h||!oi(l);a++}return""!==c&&(s+=Um(h,c)),s}const zt={};function jm(i){$m(Ft(),ke(),Pr()+i,lo())}function $m(i,s,a,l){if(!l)if(3==(3&s[2])){const h=i.preOrderCheckHooks;null!==h&&Ka(s,h,a)}else{const h=i.preOrderHooks;null!==h&&pa(s,h,0,a)}ms(a)}function Lh(i,s){return i<<17|s<<2}function Eo(i){return i>>17&32767}function Gm(i){return 2|i}function Ma(i){return(131068&i)>>2}function Sp(i,s){return-131069&i|s<<2}function Mp(i){return 1|i}function dw(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const c=a[l],h=a[l+1];if(-1!==h){const y=i.data[h];fa(c),y.contentQueries(2,s[h],h)}}}function cd(i,s,a,l,c,h,y,_,D,S){const k=s.blueprint.slice();return k[0]=c,k[2]=140|l,ki(k),k[3]=k[15]=i,k[8]=a,k[10]=y||i&&i[10],k[11]=_||i&&i[11],k[12]=D||i&&i[12]||null,k[9]=S||i&&i[9]||null,k[6]=h,k[16]=2==s.type?i[16]:k,k}function Hh(i,s,a,l,c){let h=i.data[s];if(null===h)h=function Gh(i,s,a,l,c){const h=ca(),y=da(),D=i.data[s]=function Lp(i,s,a,l,c,h){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,a,s,l,c);return null===i.firstChild&&(i.firstChild=D),null!==h&&(y?null==h.child&&null!==D.parent&&(h.child=D):null===h.next&&(h.next=D)),D}(i,s,a,l,c),function Rl(){return It.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=a,h.value=l,h.attrs=c;const y=function Xi(){const i=It.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return ti(h,!0),h}function dd(i,s,a,l){if(0===a)return-1;const c=s.length;for(let h=0;h<a;h++)s.push(l),i.blueprint.push(l),i.data.push(null);return c}function hd(i,s,a){mo(s);try{const l=i.viewQuery;null!==l&&Kh(1,l,a);const c=i.template;null!==c&&sI(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&dw(i,s),i.staticViewQueries&&Kh(2,i.viewQuery,a);const h=i.components;null!==h&&function iI(i,s){for(let a=0;a<s.length;a++)gI(i,s[a])}(s,h)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Ns()}}function Xu(i,s,a,l){const c=s[2];if(256==(256&c))return;mo(s);const h=lo();try{ki(s),function ho(i){return It.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&sI(i,s,a,2,l);const y=3==(3&c);if(!h)if(y){const S=i.preOrderCheckHooks;null!==S&&Ka(s,S,null)}else{const S=i.preOrderHooks;null!==S&&pa(s,S,0,null),Xn(s,0)}if(function pI(i){for(let s=Oh(i);null!==s;s=Ip(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const c=a[l],h=c[3];0==(1024&c[2])&&Qi(h,1),c[2]|=1024}}}(s),function bw(i){for(let s=Oh(i);null!==s;s=Ip(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1];Yi(l)&&Xu(c,l,c.template,l[8])}}(s),null!==i.contentQueries&&dw(i,s),!h)if(y){const S=i.contentCheckHooks;null!==S&&Ka(s,S)}else{const S=i.contentHooks;null!==S&&pa(s,S,1),Xn(s,1)}!function cw(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const c=a[l];if(c<0)ms(~c);else{const h=c,y=a[++l],_=a[++l];ha(y,h),_(2,s[h])}}}finally{ms(-1)}}(i,s);const _=i.components;null!==_&&function iA(i,s){for(let a=0;a<s.length;a++)Ew(i,s[a])}(s,_);const D=i.viewQuery;if(null!==D&&Kh(2,D,l),!h)if(y){const S=i.viewCheckHooks;null!==S&&Ka(s,S)}else{const S=i.viewHooks;null!==S&&pa(s,S,2),Xn(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),h||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Qi(s[3],-1))}finally{Ns()}}function Zm(i,s,a,l){const c=s[10],h=!lo(),y=Zi(s);try{h&&!y&&c.begin&&c.begin(),y&&hd(i,s,l),Xu(i,s,a,l)}finally{h&&!y&&c.end&&c.end()}}function sI(i,s,a,l,c){const h=Pr(),y=2&l;try{ms(-1),y&&s.length>20&&$m(i,s,20,lo()),a(l,c)}finally{ms(h)}}function tc(i,s,a){!Ji()||(function oA(i,s,a,l){const c=a.directiveStart,h=a.directiveEnd;i.firstCreatePass||Yn(a,s),Fi(l,s);const y=a.initialInputs;for(let _=c;_<h;_++){const D=i.data[_],S=pi(D);S&&_w(s,a,D);const k=_a(s,i,_,a);Fi(k,s),null!==y&&hI(0,_-c,k,D,0,y),S&&(Ir(a.index,s)[8]=k)}}(i,s,a,pr(a,s)),128==(128&a.flags)&&function aA(i,s,a){const l=a.directiveStart,c=a.directiveEnd,y=a.index,_=function po(){return It.lFrame.currentDirectiveIndex}();try{ms(y);for(let D=l;D<c;D++){const S=i.data[D],k=s[D];Ga(D),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&cI(S,k)}}finally{ms(-1),Ga(_)}}(i,s,a))}function fd(i,s,a=pr){const l=s.localNames;if(null!==l){let c=s.index+1;for(let h=0;h<l.length;h+=2){const y=l[h+1],_=-1===y?a(s,i):i[y];i[c++]=_}}}function nc(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=el(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function el(i,s,a,l,c,h,y,_,D,S){const k=20+l,V=k+c,Z=function oI(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:zt);return a}(k,V),ee="function"==typeof S?S():S;return Z[1]={type:i,blueprint:Z,template:a,queries:null,viewQuery:_,declTNode:s,data:Z.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:ee,incompleteFirstPass:!1}}function Ym(i,s,a,l){const c=Tw(s);null===a?c.push(l):(c.push(a),i.firstCreatePass&&$p(i).push(l,c.length-1))}function Qm(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const c=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,c):a[l]=[s,c]}return a}function rc(i,s,a,l){let c=!1;if(Ji()){const h=function uA(i,s,a){const l=i.directiveRegistry;let c=null;if(l)for(let h=0;h<l.length;h++){const y=l[h];Ei(a,y.selectors,!1)&&(c||(c=[]),Vo(Yn(a,s),i,y.type),pi(y)?(yw(i,a),c.unshift(y)):c.push(y))}return c}(i,s,a),y=null===l?null:{"":-1};if(null!==h){c=!0,Xm(a,i.data.length,h.length);for(let k=0;k<h.length;k++){const V=h[k];V.providersResolver&&V.providersResolver(V)}let _=!1,D=!1,S=dd(i,s,h.length,null);for(let k=0;k<h.length;k++){const V=h[k];a.mergedAttrs=w(a.mergedAttrs,V.hostAttrs),ey(i,a,s,S,V),dI(S,V,y),null!==V.contentQueries&&(a.flags|=8),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(a.flags|=128);const Z=V.type.prototype;!_&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),_=!0),!D&&(Z.ngOnChanges||Z.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),D=!0),S++}!function Jm(i,s){const l=s.directiveEnd,c=i.data,h=s.attrs,y=[];let _=null,D=null;for(let S=s.directiveStart;S<l;S++){const k=c[S],V=k.inputs,Z=null===h||Z_(s)?null:lA(V,h);y.push(Z),_=Qm(V,S,_),D=Qm(k.outputs,S,D)}null!==_&&(_.hasOwnProperty("class")&&(s.flags|=16),_.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=_,s.outputs=D}(i,a)}y&&function vw(i,s,a){if(s){const l=i.localNames=[];for(let c=0;c<s.length;c+=2){const h=a[s[c+1]];if(null==h)throw new Ve(-301,!1);l.push(s[c],h)}}}(a,l,y)}return a.mergedAttrs=w(a.mergedAttrs,a.attrs),c}function Vp(i,s,a,l,c,h){const y=h.hostBindings;if(y){let _=i.hostBindingOpCodes;null===_&&(_=i.hostBindingOpCodes=[]);const D=~s.index;(function mw(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(_)!=D&&_.push(D),_.push(l,c,y)}}function cI(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function yw(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function dI(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;pi(s)&&(a[""]=i)}}function Xm(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function ey(i,s,a,l,c){i.data[l]=c;const h=c.factory||(c.factory=Jr(c.type)),y=new ma(h,pi(c),null);i.blueprint[l]=y,a[l]=y,Vp(i,s,0,l,dd(i,a,c.hostVars,zt),c)}function _w(i,s,a){const l=pr(s,i),c=nc(a),h=i[10],y=Up(i,cd(i,c,null,a.onPush?64:16,l,s,h,h.createRenderer(l,a),null,null));i[s.index]=y}function ka(i,s,a,l,c,h){const y=pr(i,s);!function Bp(i,s,a,l,c,h,y){if(null==h)En(i)?i.removeAttribute(s,c,a):s.removeAttribute(c);else{const _=null==y?we(h):y(h,l||"",c);En(i)?i.setAttribute(s,c,_,a):a?s.setAttributeNS(a,c,_):s.setAttribute(c,_)}}(s[11],y,h,i.value,a,l,c)}function hI(i,s,a,l,c,h){const y=h[s];if(null!==y){const _=l.setInput;for(let D=0;D<y.length;){const S=y[D++],k=y[D++],V=y[D++];null!==_?l.setInput(a,V,S,k):a[k]=V}}}function lA(i,s){let a=null,l=0;for(;l<s.length;){const c=s[l];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[l+1])),l+=2}else l+=2;else l+=4}return a}function ww(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function Ew(i,s){const a=Ir(s,i);if(Yi(a)){const l=a[1];80&a[2]?Xu(l,a,l.template,a[8]):a[5]>0&&Wh(a)}}function Wh(i){for(let l=Oh(i);null!==l;l=Ip(l))for(let c=10;c<l.length;c++){const h=l[c];if(1024&h[2]){const y=h[1];Xu(y,h,y.template,h[8])}else h[5]>0&&Wh(h)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const c=Ir(a[l],i);Yi(c)&&c[5]>0&&Wh(c)}}function gI(i,s){const a=Ir(s,i),l=a[1];(function Iw(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),hd(l,a,a[8])}function Up(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function pd(i){for(;i;){i[2]|=64;const s=Ph(i);if(Ba(i)&&!s)return i;i=s}return null}function ty(i,s,a){const l=s[10];l.begin&&l.begin();try{Xu(i,s,i.template,a)}catch(c){throw Sw(s,c),c}finally{l.end&&l.end()}}function jp(i){!function qh(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=bm(a),c=l[1];Zm(c,l,c.template,a)}}(i[8])}function Kh(i,s,a){fa(0),s(i,a)}const Cw=(()=>Promise.resolve(null))();function Tw(i){return i[7]||(i[7]=[])}function $p(i){return i.cleanup||(i.cleanup=[])}function Sw(i,s){const a=i[9],l=a?a.get(wp,null):null;l&&l.handleError(s)}function ny(i,s,a,l,c){for(let h=0;h<a.length;){const y=a[h++],_=a[h++],D=s[y],S=i.data[y];null!==S.setInput?S.setInput(D,c,l,_):D[_]=c}}function cu(i,s,a){const l=Xr(s,i);!function Cm(i,s,a){En(i)?i.setValue(s,a):s.textContent=a}(i[11],l,a)}function ry(i,s,a){let l=a?i.styles:null,c=a?i.classes:null,h=0;if(null!==s)for(let y=0;y<s.length;y++){const _=s[y];"number"==typeof _?h=_:1==h?c=ve(c,_):2==h&&(l=ve(l,_+": "+s[++y]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=c:i.classesWithoutHost=c}const sy=new Qn("INJECTOR",-1);class oy{get(s,a=bo){if(a===bo){const l=new Error(`NullInjectorError: No provider for ${pe(s)}!`);throw l.name="NullInjectorError",l}return a}}const du=new Qn("Set Injector scope."),Zh={},xw={};let ay;function uy(){return void 0===ay&&(ay=new oy),ay}function Mw(i,s=null,a=null,l){const c=kw(i,s,a,l);return c._resolveInjectorDefTypes(),c}function kw(i,s=null,a=null,l){return new ly(i,a,s||uy(),l)}class ly{constructor(s,a,l,c=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];a&&rs(a,_=>this.processProvider(_,s,a)),rs([s],_=>this.processInjectorType(_,[],h)),this.records.set(sy,ic(void 0,this));const y=this.records.get(du);this.scope=null!=y?y.value:null,this.source=c||("object"==typeof s?null:pe(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=bo,l=rt.Default){this.assertNotDestroyed();const c=ce(this),h=Vt(void 0);try{if(!(l&rt.SkipSelf)){let _=this.records.get(s);if(void 0===_){const D=function EI(i){return"function"==typeof i||"object"==typeof i&&i instanceof Qn}(s)&&An(s);_=D&&this.injectableDefInScope(D)?ic(Hp(s),Zh):null,this.records.set(s,_)}if(null!=_)return this.hydrate(s,_)}return(l&rt.Self?uy():this.parent).get(s,a=l&rt.Optional&&a===bo?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Ta]=y[Ta]||[]).unshift(pe(s)),c)throw y;return function yr(i,s,a,l){const c=i[Ta];throw s[R]&&c.unshift(s[R]),i.message=function js(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=pe(s);if(Array.isArray(s))c=s.map(pe).join(" -> ");else if("object"==typeof s){let h=[];for(let y in s)if(s.hasOwnProperty(y)){let _=s[y];h.push(y+":"+("string"==typeof _?JSON.stringify(_):pe(_)))}c=`{${h.join(", ")}}`}return`${a}${l?"("+l+")":""}[${c}]: ${i.replace(C,"\n  ")}`}("\n"+i.message,c,a,l),i.ngTokenPath=c,i[Ta]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{Vt(h),ce(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,c)=>s.push(pe(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ve(205,!1)}processInjectorType(s,a,l){if(!(s=se(s)))return!1;let c=Qr(s);const h=null==c&&s.ngModule||void 0,y=void 0===h?s:h,_=-1!==l.indexOf(y);if(void 0!==h&&(c=Qr(h)),null==c)return!1;if(null!=c.imports&&!_){let k;l.push(y);try{rs(c.imports,V=>{this.processInjectorType(V,a,l)&&(void 0===k&&(k=[]),k.push(V))})}finally{}if(void 0!==k)for(let V=0;V<k.length;V++){const{ngModule:Z,providers:ee}=k[V];rs(ee,Te=>this.processProvider(Te,Z,ee||yt))}}this.injectorDefTypes.add(y);const D=Jr(y)||(()=>new y);this.records.set(y,ic(D,Zh));const S=c.providers;if(null!=S&&!_){const k=s;rs(S,V=>this.processProvider(V,k,S))}return void 0!==h&&void 0!==s.providers}processProvider(s,a,l){let c=sc(s=se(s))?s:se(s&&s.provide);const h=function Rw(i,s,a){return Ow(i)?ic(void 0,i.useValue):ic(Pw(i),Zh)}(s);if(sc(s)||!0!==s.multi)this.records.get(c);else{let y=this.records.get(c);y||(y=ic(void 0,Zh,!0),y.factory=()=>tn(y.multi),this.records.set(c,y)),c=s,y.multi.push(s)}this.records.set(c,h)}hydrate(s,a){return a.value===Zh&&(a.value=xw,a.value=a.factory()),"object"==typeof a.value&&a.value&&function fA(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=se(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Hp(i){const s=An(i),a=null!==s?s.factory:Jr(i);if(null!==a)return a;if(i instanceof Qn)throw new Ve(204,!1);if(i instanceof Function)return function wI(i){const s=i.length;if(s>0)throw function wi(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?"),new Ve(204,!1);const a=function ur(i){const s=i&&(i[xr]||i[fr]);if(s){const a=function hr(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Ve(204,!1)}function Pw(i,s,a){let l;if(sc(i)){const c=se(i);return Jr(c)||Hp(c)}if(Ow(i))l=()=>se(i.useValue);else if(function bI(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...tn(i.deps||[]));else if(function Nw(i){return!(!i||!i.useExisting)}(i))l=()=>ze(se(i.useExisting));else{const c=se(i&&(i.useClass||i.provide));if(!function hA(i){return!!i.deps}(i))return Jr(c)||Hp(c);l=()=>new c(...tn(i.deps))}return l}function ic(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Ow(i){return null!==i&&"object"==typeof i&&G in i}function sc(i){return"function"==typeof i}let hu=(()=>{class i{static create(a,l){var c;if(Array.isArray(a))return Mw({name:""},l,a,"");{const h=null!==(c=a.name)&&void 0!==c?c:"";return Mw({name:h},a.parent,a.providers,h)}}}return i.THROW_IF_NOT_FOUND=bo,i.NULL=new oy,i.\u0275prov=qt({token:i,providedIn:"any",factory:()=>ze(sy)}),i.__NG_ELEMENT_ID__=-1,i})();function MI(i,s){yo(bm(i)[1],In())}function Jh(i){let s=function dt(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let c;if(pi(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ve(903,"");c=s.\u0275dir}if(c){if(a){l.push(c);const y=i;y.inputs=gd(i.inputs),y.declaredInputs=gd(i.declaredInputs),y.outputs=gd(i.outputs);const _=c.hostBindings;_&&kI(i,_);const D=c.viewQuery,S=c.contentQueries;if(D&&fy(i,D),S&&Xh(i,S),ge(i.inputs,c.inputs),ge(i.declaredInputs,c.declaredInputs),ge(i.outputs,c.outputs),pi(c)&&c.data.animation){const k=i.data;k.animation=(k.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let y=0;y<h.length;y++){const _=h[y];_&&_.ngInherit&&_(i),_===Jh&&(a=!1)}}s=Object.getPrototypeOf(s)}!function Wt(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const c=i[l];c.hostVars=s+=c.hostVars,c.hostAttrs=w(c.hostAttrs,a=w(a,c.hostAttrs))}}(l)}function gd(i){return i===on?{}:i===yt?[]:i}function fy(i,s){const a=i.viewQuery;i.viewQuery=a?(l,c)=>{s(l,c),a(l,c)}:s}function Xh(i,s){const a=i.contentQueries;i.contentQueries=a?(l,c,h)=>{s(l,c,h),a(l,c,h)}:s}function kI(i,s){const a=i.hostBindings;i.hostBindings=a?(l,c)=>{s(l,c),a(l,c)}:s}let Gp=null;function vr(){if(!Gp){const i=Ct.Symbol;if(i&&i.iterator)Gp=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Gp=l)}}}return Gp}function Cr(i){return!!gy(i)&&(Array.isArray(i)||!(i instanceof Map)&&vr()in i)}function gy(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Li(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Wp(i,s,a,l){const c=ke();return Li(c,fo(),s)&&(Ft(),ka($n(),c,i,s,a,l)),Wp}function Yp(i,s,a,l,c,h,y,_){const D=ke(),S=Ft(),k=i+20,V=S.firstCreatePass?function Zp(i,s,a,l,c,h,y,_,D){const S=s.consts,k=Hh(s,i,4,y||null,yi(S,_));rc(s,a,k,yi(S,D)),yo(s,k);const V=k.tViews=el(2,k,l,c,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S);return null!==s.queries&&(s.queries.template(s,k),V.queries=s.queries.embeddedTView(k)),k}(k,S,D,s,a,l,c,h,y):S.data[k];ti(V,!1);const Z=D[11].createComment("");Cp(S,D,Z,V),Fi(Z,D),Up(D,D[k]=ww(Z,D,Z,V)),ro(V)&&tc(S,D,V),null!=y&&fd(D,V,_)}function _d(i,s=rt.Default){const a=ke();return null===a?ze(i,s):Bo(In(),a,se(i),s)}function e0(){throw new Error("invalid")}function wd(i,s,a){const l=ke();return Li(l,fo(),s)&&function Es(i,s,a,l,c,h,y,_){const D=pr(s,a);let k,S=s.inputs;!_&&null!=S&&(k=S[l])?(ny(i,a,k,l,c),no(s)&&function hw(i,s){const a=Ir(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function uI(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),c=null!=y?y(c,s.value||"",l):c,En(h)?h.setProperty(D,l,c):mr(l)||(D.setProperty?D.setProperty(l,c):D[l]=c))}(Ft(),$n(),l,i,s,l[11],a,!1),wd}function rf(i,s,a,l,c){const y=c?"class":"style";ny(i,a,s.inputs[y],y,l)}function sf(i,s,a,l){const c=ke(),h=Ft(),y=20+i,_=c[11],D=c[y]=Tm(_,s,function Ou(){return It.lFrame.currentNamespace}()),S=h.firstCreatePass?function Ny(i,s,a,l,c,h,y){const _=s.consts,S=Hh(s,i,2,c,yi(_,h));return rc(s,a,S,yi(_,y)),null!==S.attrs&&ry(S,S.attrs,!1),null!==S.mergedAttrs&&ry(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(y,h,c,0,s,a,l):h.data[y];ti(S,!0);const k=S.mergedAttrs;null!==k&&Et(_,D,k);const V=S.classes;null!==V&&lu(_,D,V);const Z=S.styles;return null!==Z&&Vm(_,D,Z),64!=(64&S.flags)&&Cp(h,c,D,S),0===function Mu(){return It.lFrame.elementDepthCount}()&&Fi(D,c),function Rs(){It.lFrame.elementDepthCount++}(),ro(S)&&(tc(h,c,S),function Op(i,s,a){if(ia(s)){const c=s.directiveEnd;for(let h=s.directiveStart;h<c;h++){const y=i.data[h];y.contentQueries&&y.contentQueries(1,a[h],h)}}}(h,S,c)),null!==l&&fd(c,S),sf}function ng(){let i=In();da()?function No(){It.lFrame.isParent=!1}():(i=i.parent,ti(i,!1));const s=i;!function ku(){It.lFrame.elementDepthCount--}();const a=Ft();return a.firstCreatePass&&(yo(a,i),ia(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Nl(i){return 0!=(16&i.flags)}(s)&&rf(a,s,ke(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function mh(i){return 0!=(32&i.flags)}(s)&&rf(a,s,ke(),s.stylesWithoutHost,!1),ng}function hc(i,s,a,l){return sf(i,s,a,l),ng(),hc}function r0(){return ke()}function al(i){return!!i&&"function"==typeof i.then}function s0(i){return!!i&&"function"==typeof i.subscribe}const o0=s0;function pu(i,s,a,l){const c=ke(),h=Ft(),y=In();return function Ly(i,s,a,l,c,h,y,_){const D=ro(l),k=i.firstCreatePass&&$p(i),V=s[8],Z=Tw(s);let ee=!0;if(3&l.type||_){const nt=pr(l,s),ht=_?_(nt):nt,Re=Z.length,Dt=_?rn=>_(fn(rn[l.index])):l.index;if(En(a)){let rn=null;if(!_&&D&&(rn=function ig(i,s,a,l){const c=i.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const y=c[h];if(y===a&&c[h+1]===l){const _=s[7],D=c[h+2];return _.length>D?_[D]:null}"string"==typeof y&&(h+=2)}return null}(i,s,c,l.index)),null!==rn)(rn.__ngLastListenerFn__||rn).__ngNextListenerFn__=h,rn.__ngLastListenerFn__=h,ee=!1;else{h=sg(l,s,V,h,!1);const wn=a.listen(ht,c,h);Z.push(h,wn),k&&k.push(c,Dt,Re,Re+1)}}else h=sg(l,s,V,h,!0),ht.addEventListener(c,h,y),Z.push(h),k&&k.push(c,Dt,Re,y)}else h=sg(l,s,V,h,!1);const Te=l.outputs;let He;if(ee&&null!==Te&&(He=Te[c])){const nt=He.length;if(nt)for(let ht=0;ht<nt;ht+=2){const $i=s[He[ht]][He[ht+1]].subscribe(h),ta=Z.length;Z.push(h,$i),k&&k.push(c,l.index,ta,-(ta+1))}}}(h,c,c[11],y,i,s,!!a,l),pu}function Ed(i,s,a,l){try{return!1!==a(l)}catch(c){return Sw(i,c),!1}}function sg(i,s,a,l,c){return function h(y){if(y===Function)return l;const _=2&i.flags?Ir(i.index,s):s;0==(32&s[2])&&pd(_);let D=Ed(s,0,l,y),S=h.__ngNextListenerFn__;for(;S;)D=Ed(s,0,S,y)&&D,S=S.__ngNextListenerFn__;return c&&!1===D&&(y.preventDefault(),y.returnValue=!1),D}}function Bi(i=1){return function vi(i){return(It.lFrame.contextLView=function Wa(i,s){for(;i>0;)s=s[15],i--;return s}(i,It.lFrame.contextLView))[8]}(i)}function lf(i,s,a,l,c){const h=i[a+1],y=null===s;let _=l?Eo(h):Ma(h),D=!1;for(;0!==_&&(!1===D||y);){const k=i[_+1];$y(i[_],s)&&(D=!0,i[_+1]=l?Mp(k):Gm(k)),_=l?Eo(k):Ma(k)}D&&(i[a+1]=l?Gm(h):Mp(h))}function $y(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Us(i,s)>=0}function Wy(i,s){return function Is(i,s,a,l){const c=ke(),h=Ft(),y=function Zr(i){const s=It.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);h.firstUpdatePass&&function df(i,s,a,l){const c=i.data;if(null===c[a+1]){const h=c[Pr()],y=function er(i,s){return s>=i.expandoStartIndex}(i,a);(function Ky(i,s){return 0!=(i.flags&(s?16:32))})(h,l)&&null===s&&!y&&(s=!1),s=function zI(i,s,a,l){const c=function Os(i){const s=It.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let h=l?s.residualClasses:s.residualStyles;if(null===c)0===(l?s.classBindings:s.styleBindings)&&(a=xd(a=qy(null,i,s,a,l),s.attrs,l),h=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==c)if(a=qy(c,i,s,a,l),null===h){let D=function WI(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==Ma(l))return i[Eo(l)]}(i,s,l);void 0!==D&&Array.isArray(D)&&(D=qy(null,i,s,D[1],l),D=xd(D,s.attrs,l),function hf(i,s,a,l){i[Eo(a?s.classBindings:s.styleBindings)]=l}(i,s,l,D))}else h=function ff(i,s,a){let l;const c=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<c;h++)l=xd(l,i[h].hostAttrs,a);return xd(l,s.attrs,a)}(i,s,l)}return void 0!==h&&(l?s.residualClasses=h:s.residualStyles=h),a}(c,h,s,l),function $I(i,s,a,l,c,h){let y=h?s.classBindings:s.styleBindings,_=Eo(y),D=Ma(y);i[l]=a;let k,S=!1;if(Array.isArray(a)){const V=a;k=V[1],(null===k||Us(V,k)>0)&&(S=!0)}else k=a;if(c)if(0!==D){const Z=Eo(i[_+1]);i[l+1]=Lh(Z,_),0!==Z&&(i[Z+1]=Sp(i[Z+1],l)),i[_+1]=function tw(i,s){return 131071&i|s<<17}(i[_+1],l)}else i[l+1]=Lh(_,0),0!==_&&(i[_+1]=Sp(i[_+1],l)),_=l;else i[l+1]=Lh(D,0),0===_?_=l:i[D+1]=Sp(i[D+1],l),D=l;S&&(i[l+1]=Gm(i[l+1])),lf(i,k,l,!0),lf(i,k,l,!1),function jy(i,s,a,l,c){const h=c?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&Us(h,s)>=0&&(a[l+1]=Mp(a[l+1]))}(s,k,i,l,h),y=Lh(_,D),h?s.classBindings=y:s.styleBindings=y}(c,h,s,a,y,l)}}(h,i,y,l),s!==zt&&Li(c,y,s)&&function d0(i,s,a,l,c,h,y,_){if(!(3&s.type))return;const D=i.data,S=D[_+1];Qo(function xp(i){return 1==(1&i)}(S)?Md(D,s,a,c,Ma(S),y):void 0)||(Qo(h)||function Hm(i){return 2==(2&i)}(S)&&(h=Md(D,null,a,c,_,y)),function ZE(i,s,a,l,c){const h=En(i);if(s)c?h?i.addClass(a,l):a.classList.add(l):h?i.removeClass(a,l):a.classList.remove(l);else{let y=-1===l.indexOf("-")?void 0:xa.DashCase;if(null==c)h?i.removeStyle(a,l,y):a.style.removeProperty(l);else{const _="string"==typeof c&&c.endsWith("!important");_&&(c=c.slice(0,-10),y|=xa.Important),h?i.setStyle(a,l,c,y):a.style.setProperty(l,c,_?"important":"")}}}(l,y,Xr(Pr(),a),c,h))}(h,h.data[Pr()],c,c[11],i,c[y+1]=function h0(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=pe(Aa(i)))),i}(s,a),l,y)}(i,s,null,!0),Wy}function qy(i,s,a,l,c){let h=null;const y=a.directiveEnd;let _=a.directiveStylingLast;for(-1===_?_=a.directiveStart:_++;_<y&&(h=s[_],l=xd(l,h.hostAttrs,c),h!==i);)_++;return null!==i&&(a.directiveStylingLast=_),l}function xd(i,s,a){const l=a?1:2;let c=-1;if(null!==s)for(let h=0;h<s.length;h++){const y=s[h];"number"==typeof y?c=y:c===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Dr(i,y,!!a||s[++h]))}return void 0===i?null:i}function Md(i,s,a,l,c,h){const y=null===s;let _;for(;c>0;){const D=i[c],S=Array.isArray(D),k=S?D[1]:D,V=null===k;let Z=a[c+1];Z===zt&&(Z=V?yt:void 0);let ee=V?$l(Z,l):k===l?Z:void 0;if(S&&!Qo(ee)&&(ee=$l(D,l)),Qo(ee)&&(_=ee,y))return _;const Te=i[c+1];c=y?Eo(Te):Ma(Te)}if(null!==s){let D=h?s.residualClasses:s.residualStyles;null!=D&&(_=$l(D,l))}return _}function Qo(i){return void 0!==i}function Zy(i,s=""){const a=ke(),l=Ft(),c=i+20,h=l.firstCreatePass?Hh(l,c,1,s,null):l.data[c],y=a[c]=function Dm(i,s){return En(i)?i.createText(s):i.createTextNode(s)}(a[11],s);Cp(l,a,y,h),ti(h,!1)}function ul(i){return fg("",i,""),ul}function fg(i,s,a){const l=ke(),c=function sl(i,s,a,l){return Li(i,fo(),a)?s+we(a)+l:zt}(l,i,s,a);return c!==zt&&cu(l,Pr(),c),fg}const ll=void 0;var _g=["en",[["a","p"],["AM","PM"],ll],[["AM","PM"],ll,ll],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ll,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ll,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ll,"{1} 'at' {0}",ll],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function av(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let fc={};function Rd(i){const s=function lv(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Pd(s);if(a)return a;const l=s.split("-")[0];if(a=Pd(l),a)return a;if("en"===l)return _g;throw new Error(`Missing locale data for the locale "${i}".`)}function uv(i){return Rd(i)[kt.PluralCase]}function Pd(i){return i in fc||(fc[i]=Ct.ng&&Ct.ng.common&&Ct.ng.common.locales&&Ct.ng.common.locales[i]),fc[i]}var kt=(()=>((kt=kt||{})[kt.LocaleId=0]="LocaleId",kt[kt.DayPeriodsFormat=1]="DayPeriodsFormat",kt[kt.DayPeriodsStandalone=2]="DayPeriodsStandalone",kt[kt.DaysFormat=3]="DaysFormat",kt[kt.DaysStandalone=4]="DaysStandalone",kt[kt.MonthsFormat=5]="MonthsFormat",kt[kt.MonthsStandalone=6]="MonthsStandalone",kt[kt.Eras=7]="Eras",kt[kt.FirstDayOfWeek=8]="FirstDayOfWeek",kt[kt.WeekendRange=9]="WeekendRange",kt[kt.DateFormat=10]="DateFormat",kt[kt.TimeFormat=11]="TimeFormat",kt[kt.DateTimeFormat=12]="DateTimeFormat",kt[kt.NumberSymbols=13]="NumberSymbols",kt[kt.NumberFormats=14]="NumberFormats",kt[kt.CurrencyCode=15]="CurrencyCode",kt[kt.CurrencySymbol=16]="CurrencySymbol",kt[kt.CurrencyName=17]="CurrencyName",kt[kt.Currencies=18]="Currencies",kt[kt.Directionality=19]="Directionality",kt[kt.PluralCase=20]="PluralCase",kt[kt.ExtraData=21]="ExtraData",kt))();const pc="en-US";let dv=pc;function Df(i,s,a,l,c){if(i=se(i),Array.isArray(i))for(let h=0;h<i.length;h++)Df(i[h],s,a,l,c);else{const h=Ft(),y=ke();let _=sc(i)?i:se(i.provide),D=Pw(i);const S=In(),k=1048575&S.providerIndexes,V=S.directiveStart,Z=S.providerIndexes>>20;if(sc(i)||!i.multi){const ee=new ma(D,c,_d),Te=Ig(_,s,c?k:k+Z,V);-1===Te?(Vo(Yn(S,y),h,_),Ec(h,i,s.length),s.push(_),S.directiveStart++,S.directiveEnd++,c&&(S.providerIndexes+=1048576),a.push(ee),y.push(ee)):(a[Te]=ee,y[Te]=ee)}else{const ee=Ig(_,s,k+Z,V),Te=Ig(_,s,k,k+Z),He=ee>=0&&a[ee],nt=Te>=0&&a[Te];if(c&&!nt||!c&&!He){Vo(Yn(S,y),h,_);const ht=function gD(i,s,a,l,c){const h=new ma(i,a,_d);return h.multi=[],h.index=s,h.componentProviders=0,_v(h,c,l&&!a),h}(c?Cf:Dg,a.length,c,l,D);!c&&nt&&(a[Te].providerFactory=ht),Ec(h,i,s.length,0),s.push(_),S.directiveStart++,S.directiveEnd++,c&&(S.providerIndexes+=1048576),a.push(ht),y.push(ht)}else Ec(h,i,ee>-1?ee:Te,_v(a[c?Te:ee],D,!c&&l));!c&&l&&nt&&a[Te].componentProviders++}}}function Ec(i,s,a,l){const c=sc(s),h=function dA(i){return!!i.useClass}(s);if(c||h){const D=(h?se(s.useClass):s).prototype.ngOnDestroy;if(D){const S=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const k=S.indexOf(a);-1===k?S.push(a,[l,D]):S[k+1].push(l,D)}else S.push(a,D)}}}function _v(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Ig(i,s,a,l){for(let c=a;c<l;c++)if(s[c]===i)return c;return-1}function Dg(i,s,a,l){return Cg(this.multi,[])}function Cf(i,s,a,l){const c=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,_=_a(a,a[1],this.providerFactory.index,l);h=_.slice(0,y),Cg(c,h);for(let D=y;D<_.length;D++)h.push(_[D])}else h=[],Cg(c,h);return h}function Cg(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function V0(i,s=[]){return a=>{a.providersResolver=(l,c)=>function bc(i,s,a){const l=Ft();if(l.firstCreatePass){const c=pi(i);Df(a,l.data,l.blueprint,c,!0),Df(s,l.data,l.blueprint,c,!1)}}(l,c?c(i):i,s)}}class wv{}class Tg{resolveComponentFactory(s){throw function ji(i){const s=Error(`No component factory found for ${pe(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Bd=(()=>{class i{}return i.NULL=new Tg,i})();function Ic(){return yu(In(),ke())}function yu(i,s){return new vu(pr(i,s))}let vu=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Ic,i})();function U0(i){return i instanceof vu?i.nativeElement:i}class Oa{}let mD=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function j0(){const i=ke(),a=Ir(In().index,i);return function yD(i){return i[11]}(Wr(a)?a:i)}(),i})(),Dc=(()=>{class i{}return i.\u0275prov=qt({token:i,providedIn:"root",factory:()=>null}),i})();class $0{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Ud=new $0("13.3.4"),jd={};function Cc(i,s,a,l,c=!1){for(;null!==a;){const h=s[a.index];if(null!==h&&l.push(fn(h)),Si(h))for(let _=10;_<h.length;_++){const D=h[_],S=D[1].firstChild;null!==S&&Cc(D[1],D,S,l)}const y=a.type;if(8&y)Cc(i,s,a.child,l);else if(32&y){const _=bp(a,s);let D;for(;D=_();)l.push(D)}else if(16&y){const _=q_(s,a);if(Array.isArray(_))l.push(..._);else{const D=Ph(s[16]);Cc(D[1],D,_,l,!0)}}a=c?a.projectionNext:a.next}return l}class $d{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Cc(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Si(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(Sm(s,l),iu(a,l))}this._attachedToViewContainer=!1}xm(this._lView[1],this._lView)}onDestroy(s){Ym(this._lView[1],this._lView,null,s)}markForCheck(){pd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ty(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Dw(i,s,a){co(!0);try{ty(i,s,a)}finally{co(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ve(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function B_(i,s){Tp(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ve(902,"");this._appRef=s}}class H0 extends $d{constructor(s){super(s),this._view=s}detectChanges(){jp(this._view)}checkNoChanges(){!function yI(i){co(!0);try{jp(i)}finally{co(!1)}}(this._view)}get context(){return null}}class ci extends Bd{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Je(s);return new Ag(a,this.ngModule)}}function G0(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class Ag extends wv{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function X_(i){return i.map(J_).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return G0(this.componentDef.inputs)}get outputs(){return G0(this.componentDef.outputs)}create(s,a,l,c){const h=(c=c||this.ngModule)?function _D(i,s){return{get:(a,l,c)=>{const h=i.get(a,jd,c);return h!==jd||l===jd?h:s.get(a,l,c)}}}(s,c.injector):s,y=h.get(Oa,Ki),_=h.get(Dc,null),D=y.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",k=l?function Fp(i,s,a){if(En(i))return i.selectRootElement(s,a===Lt.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(D,l,this.componentDef.encapsulation):Tm(y.createRenderer(null,this.componentDef),S,function vD(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(S)),V=this.componentDef.onPush?576:528,Z=function nn(i,s){return{components:[],scheduler:i||VE,clean:Cw,playerHandler:s||null,flags:0}}(),ee=el(0,null,null,1,0,null,null,null,null,null),Te=cd(null,ee,Z,V,null,null,y,D,_,h);let He,nt;mo(Te);try{const ht=function Qh(i,s,a,l,c,h){const y=a[1];a[20]=i;const D=Hh(y,20,2,"#host",null),S=D.mergedAttrs=s.hostAttrs;null!==S&&(ry(D,S,!0),null!==i&&(Et(c,i,S),null!==D.classes&&lu(c,i,D.classes),null!==D.styles&&Vm(c,i,D.styles)));const k=l.createRenderer(i,s),V=cd(a,nc(s),null,s.onPush?64:16,a[20],D,l,k,h||null,null);return y.firstCreatePass&&(Vo(Yn(D,a),y,s.type),yw(y,D),Xm(D,a.length,1)),Up(a,V),a[20]=V}(k,this.componentDef,Te,y,D);if(k)if(l)Et(D,k,["ng-version",Ud.full]);else{const{attrs:Re,classes:Dt}=function ew(i){const s=[],a=[];let l=1,c=2;for(;l<i.length;){let h=i[l];if("string"==typeof h)2===c?""!==h&&s.push(h,i[++l]):8===c&&a.push(h);else{if(!oi(c))break;c=h}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Re&&Et(D,k,Re),Dt&&Dt.length>0&&lu(D,k,Dt.join(" "))}if(nt=la(ee,20),void 0!==a){const Re=nt.projection=[];for(let Dt=0;Dt<this.ngContentSelectors.length;Dt++){const rn=a[Dt];Re.push(null!=rn?Array.from(rn):null)}}He=function fu(i,s,a,l,c){const h=a[1],y=function lI(i,s,a){const l=In();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),ey(i,l,s,dd(i,s,1,null),a));const c=_a(s,i,l.directiveStart,l);Fi(c,s);const h=pr(l,s);return h&&Fi(h,s),c}(h,a,s);if(l.components.push(y),i[8]=y,c&&c.forEach(D=>D(y,s)),s.contentQueries){const D=In();s.contentQueries(1,y,D.directiveStart)}const _=In();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ms(_.index),Vp(a[1],_,0,_.directiveStart,_.directiveEnd,s),cI(s,y)),y}(ht,this.componentDef,Te,Z,[MI]),hd(ee,Te,null)}finally{Ns()}return new bD(this.componentType,He,yu(nt,Te),Te,nt)}}class bD extends class B0{}{constructor(s,a,l,c,h){super(),this.location=l,this._rootLView=c,this._tNode=h,this.instance=a,this.hostView=this.changeDetectorRef=new H0(c),this.componentType=s}get injector(){return new Ls(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Ws{}class Tc{}const Hd=new Map;class Tf extends Ws{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ci(this);const l=Rt(s);this._bootstrapComponents=qo(l.bootstrap),this._r3Injector=kw(s,a,[{provide:Ws,useValue:this},{provide:Bd,useValue:this.componentFactoryResolver}],pe(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=hu.THROW_IF_NOT_FOUND,l=rt.Default){return s===hu||s===Ws||s===sy?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Af extends Tc{constructor(s){super(),this.moduleType=s,null!==Rt(s)&&function _u(i){const s=new Set;!function a(l){const c=Rt(l,!0),h=c.id;null!==h&&(function Ev(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${pe(s)} vs ${pe(s.name)}`)}(h,Hd.get(h),l),Hd.set(h,l));const y=qo(c.imports);for(const _ of y)s.has(_)||(s.add(_),a(_))}(i)}(s)}create(s){return new Tf(this.moduleType,s)}}function K0(i,s,a,l,c,h){const y=s+a;return Li(i,y,c)?function Yo(i,s,a){return i[s]=a}(i,y+1,h?l.call(h,c):l(c)):function zd(i,s){const a=i[s];return a===zt?void 0:a}(i,y+1)}function Z0(i,s){const a=Ft();let l;const c=i+20;a.firstCreatePass?(l=function CD(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}}(s,a.pipeRegistry),a.data[c]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(c,l.onDestroy)):l=a.data[c];const h=l.factory||(l.factory=Jr(l.type)),y=Vt(_d);try{const _=Bn(!1),D=h();return Bn(_),function _y(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,ke(),c,D),D}finally{Vt(y)}}function kv(i,s,a){const l=i+20,c=ke(),h=function ei(i,s){return i[s]}(c,l);return function qd(i,s){return i[1].data[s].pure}(c,l)?K0(c,function ir(){const i=It.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),s,h.transform,a,h):h.transform(a)}function Sg(i){return s=>{setTimeout(i,void 0,s)}}const Xo=class Kd extends p.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var c,h,y;let _=s,D=a||(()=>null),S=l;if(s&&"object"==typeof s){const V=s;_=null===(c=V.next)||void 0===c?void 0:c.bind(V),D=null===(h=V.error)||void 0===h?void 0:h.bind(V),S=null===(y=V.complete)||void 0===y?void 0:y.bind(V)}this.__isAsync&&(D=Sg(D),_&&(_=Sg(_)),S&&(S=Sg(S)));const k=super.subscribe({next:_,error:D,complete:S});return s instanceof j.w0&&s.add(k),k}};function Mf(){return this._results[vr()]()}class Rv{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=vr(),l=Rv.prototype;l[a]||(l[a]=Mf)}get changes(){return this._changes||(this._changes=new Xo)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const c=ii(s);(this._changesDetected=!function ru(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let c=i[l],h=s[l];if(a&&(c=a(c),h=a(h)),h!==c)return!1}return!0}(l._results,c,a))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let kf=(()=>{class i{}return i.__NG_ELEMENT_ID__=Mg,i})();const jr=kf,xg=class extends jr{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=cd(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(l[19]=h.createEmbeddedView(a)),hd(a,l,s),new $d(l)}};function Mg(){return kg(In(),ke())}function kg(i,s){return 4&i.type?new xg(s,i,yu(i,s)):null}let Zd=(()=>{class i{}return i.__NG_ELEMENT_ID__=TD,i})();function TD(){return Ov(In(),ke())}const Q0=Zd,Pv=class extends Q0{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return yu(this._hostTNode,this._hostLView)}get injector(){return new Ls(this._hostTNode,this._hostLView)}get parentInjector(){const s=ni(this._hostTNode,this._hostLView);if(x(s)){const a=lt(s,this._hostLView),l=z(s);return new Ls(a[1].data[l+8],a)}return new Ls(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Yd(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const c=s.createEmbeddedView(a||{});return this.insert(c,l),c}createComponent(s,a,l,c,h){const y=s&&!function Fu(i){return"function"==typeof i}(s);let _;if(y)_=a;else{const V=a||{};_=V.index,l=V.injector,c=V.projectableNodes,h=V.ngModuleRef}const D=y?s:new Ag(Je(s)),S=l||this.parentInjector;if(!h&&null==D.ngModule){const Z=(y?S:this.parentInjector).get(Ws,null);Z&&(h=Z)}const k=D.create(S,c,void 0,h);return this.insert(k.hostView,_),k}insert(s,a){const l=s._lView,c=l[1];if(function ks(i){return Si(i[3])}(l)){const k=this.indexOf(s);if(-1!==k)this.detach(k);else{const V=l[3],Z=new Pv(V,V[6],V[3]);Z.detach(Z.indexOf(s))}}const h=this._adjustIndex(a),y=this._lContainer;!function Am(i,s,a,l){const c=10+l,h=a.length;l>0&&(a[c-1][4]=s),l<h-10?(s[4]=a[c],Ia(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function id(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(y,s);const _=s[19];null!==_&&_.insertView(i),s[2]|=128}(c,l,y,h);const _=Om(h,y),D=l[11],S=Ku(D,y[7]);return null!==S&&function GE(i,s,a,l,c,h){l[0]=c,l[6]=s,Tp(i,l,a,1,c,h)}(c,y[6],D,l,S,_),s.attachToViewContainerRef(),Ia(wu(y),h,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Yd(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=Sm(this._lContainer,a);l&&(iu(wu(this._lContainer),a),xm(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=Sm(this._lContainer,a);return l&&null!=iu(wu(this._lContainer),a)?new $d(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function Yd(i){return i[8]}function wu(i){return i[8]||(i[8]=[])}function Ov(i,s){let a;const l=s[i.index];if(Si(l))a=l;else{let c;if(8&i.type)c=fn(l);else{const h=s[11];c=h.createComment("");const y=pr(i,s);Hs(h,Ku(h,y),c,function qE(i,s){return En(i)?i.nextSibling(s):s.nextSibling}(h,y),!1)}s[i.index]=a=ww(l,s,c,i),Up(s,a)}return new Pv(a,i,s)}class Rf{constructor(s){this.queryList=s,this.matches=null}clone(){return new Rf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nv{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let h=0;h<l;h++){const y=a.getByIndex(h);c.push(this.queries[y.indexInDeclarationView].clone())}return new Nv(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==nb(s,a).matches&&this.queries[a].setDirty()}}class Ar{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class an{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const c=null!==a?a.length:0,h=this.getByIndex(l).embeddedTView(s,c);h&&(h.indexInDeclarationView=l,null!==a?a.push(h):a=[h])}return null!==a?new an(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Pg{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Pg(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const h=l[c];this.matchTNodeWithReadOption(s,a,eb(a,h)),this.matchTNodeWithReadOption(s,a,wo(a,s,h,!1,!1))}else l===kf?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,wo(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===vu||c===Zd||c===kf&&4&a.type)this.addMatch(a.index,-2);else{const h=wo(a,s,c,!1,!1);null!==h&&this.addMatch(a.index,h)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function eb(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function Sr(i,s,a,l){return-1===a?function gl(i,s){return 11&i.type?yu(i,s):4&i.type?kg(i,s):null}(s,i):-2===a?function Og(i,s,a){return a===vu?yu(s,i):a===kf?kg(s,i):a===Zd?Ov(s,i):void 0}(i,s,l):_a(i,i[1],a,s)}function di(i,s,a,l){const c=s[19].queries[l];if(null===c.matches){const h=i.data,y=a.matches,_=[];for(let D=0;D<y.length;D+=2){const S=y[D];_.push(S<0?null:Sr(s,h[S],y[D+1],a.metadata.read))}c.matches=_}return c.matches}function zn(i,s,a,l){const c=i.queries.getByIndex(a),h=c.matches;if(null!==h){const y=di(i,s,c,a);for(let _=0;_<h.length;_+=2){const D=h[_];if(D>0)l.push(y[_/2]);else{const S=h[_+1],k=s[-D];for(let V=10;V<k.length;V++){const Z=k[V];Z[17]===Z[3]&&zn(Z[1],Z,S,l)}if(null!==k[9]){const V=k[9];for(let Z=0;Z<V.length;Z++){const ee=V[Z];zn(ee[1],ee,S,l)}}}}}return l}function Fv(i){const s=ke(),a=Ft(),l=Pl();fa(l+1);const c=nb(a,l);if(i.dirty&&Zi(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const h=c.crossesNgTemplate?zn(a,s,l,[]):di(a,s,c,l);i.reset(h,U0),i.notifyOnChanges()}return!0}return!1}function tb(i,s,a,l){const c=Ft();if(c.firstCreatePass){const h=In();(function Jd(i,s,a){null===i.queries&&(i.queries=new an),i.queries.track(new Pg(s,a))})(c,new Ar(s,a,l),h.index),function SD(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}!function Ng(i,s,a){const l=new Rv(4==(4&a));Ym(i,s,l,l.destroy),null===s[19]&&(s[19]=new Nv),s[19].queries.push(new Rf(l))}(c,ke(),a)}function qs(){return function AD(i,s){return i[19].queries[s].queryList}(ke(),Pl())}function nb(i,s){return i.queries.getByIndex(s)}function Ug(...i){}const yb=new Qn("Application Initializer");let zv=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Ug,this.reject=Ug,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(al(h))a.push(h);else if(o0(h)){const y=new Promise((_,D)=>{h.subscribe({complete:_,error:D})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(c=>{this.reject(c)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(ze(yb,8))},i.\u0275prov=qt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const vb=new Qn("AppId",{providedIn:"root",factory:function _b(){return`${Wv()}${Wv()}${Wv()}`}});function Wv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wb=new Qn("Platform Initializer"),VD=new Qn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bb=new Qn("appBootstrapListener");let BD=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=qt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const jg=new Qn("LocaleId",{providedIn:"root",factory:()=>Tt(jg,rt.Optional|rt.SkipSelf)||function UD(){return"undefined"!=typeof $localize&&$localize.locale||pc}()}),jD=new Qn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Eb{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Ie=(()=>{class i{compileModuleSync(a){return new Af(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),h=qo(Rt(a).declarations).reduce((y,_)=>{const D=Je(_);return D&&y.push(new Ag(D)),y},[]);return new Eb(l,h)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=qt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const GD=(()=>Promise.resolve(0))();function Pc(i){"undefined"==typeof Zone?GD.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ea{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xo(!1),this.onMicrotaskEmpty=new Xo(!1),this.onStable=new Xo(!1),this.onError=new Xo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&a,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function Oc(){let i=Ct.requestAnimationFrame,s=Ct.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Ib(i){const s=()=>{!function qv(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Ct,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,$r(i),i.isCheckStableRunning=!0,Hg(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),$r(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,c,h,y,_)=>{try{return Gg(i),a.invokeTask(c,h,y,_)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),zg(i)}},onInvoke:(a,l,c,h,y,_,D)=>{try{return Gg(i),a.invoke(c,h,y,_,D)}finally{i.shouldCoalesceRunChangeDetection&&s(),zg(i)}},onHasTask:(a,l,c,h)=>{a.hasTask(c,h),l===c&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,$r(i),Hg(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(a,l,c,h)=>(a.handleError(c,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ea.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ea.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,c){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+c,s,Nc,Ug,Ug);try{return h.runTask(y,a,l)}finally{h.cancelTask(y)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const Nc={};function Hg(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function $r(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Gg(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function zg(i){i._nesting--,Hg(i)}class Kv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xo,this.onMicrotaskEmpty=new Xo,this.onStable=new Xo,this.onError=new Xo}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,c){return s.apply(a,l)}}let Iu=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ea.assertNotInAngularZone(),Pc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pc(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,c){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:h,updateCb:c})}whenStable(a,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(ze(ea))},i.\u0275prov=qt({token:i,factory:i.\u0275fac}),i})(),Db=(()=>{class i{constructor(){this._applications=new Map,rh.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return rh.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=qt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();class zD{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function Cb(i){rh=i}let rh=new zD,Zs=null;const ml=new Qn("AllowMultipleToken"),Fc=new Qn("PlatformOnDestroy");class Yv{constructor(s,a){this.name=s,this.token=a}}function Ab(i,s,a=[]){const l=`Platform: ${s}`,c=new Qn(l);return(h=[])=>{let y=Lc();if(!y||y.injector.get(ml,!1)){const _=[...a,...h,{provide:c,useValue:!0}];i?i(_):function Tb(i){if(Zs&&!Zs.get(ml,!1))throw new Ve(400,"");Zs=i;const s=i.get(yl),a=i.get(wb,null);a&&a.forEach(l=>l())}(function xb(i=[],s){return hu.create({name:s,providers:[{provide:du,useValue:"platform"},{provide:Fc,useValue:()=>Zs=null},...i]})}(_,l))}return function Sb(i){const s=Lc();if(!s)throw new Ve(401,"");return s}()}}function Lc(){var i;return null!==(i=null==Zs?void 0:Zs.get(yl))&&void 0!==i?i:null}let yl=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const _=function qD(i,s){let a;return a="noop"===i?new Kv:("zone.js"===i?void 0:i)||new ea({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),D=[{provide:ea,useValue:_}];return _.run(()=>{const S=hu.create({providers:D,parent:this.injector,name:a.moduleType.name}),k=a.create(S),V=k.injector.get(wp,null);if(!V)throw new Ve(402,"");return _.runOutsideAngular(()=>{const Z=_.onError.subscribe({next:ee=>{V.handleError(ee)}});k.onDestroy(()=>{Jv(this._modules,k),Z.unsubscribe()})}),function kb(i,s,a){try{const l=a();return al(l)?l.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(V,_,()=>{const Z=k.injector.get(zv);return Z.runInitializers(),Z.donePromise.then(()=>(function I0(i){sn(i,"Expected localeId to be defined"),"string"==typeof i&&(dv=i.toLowerCase().replace(/_/g,"-"))}(k.injector.get(jg,pc)||pc),this._moduleDoBootstrap(k),k))})})}bootstrapModule(a,l=[]){const c=Rb({},l);return function Ff(i,s,a){const l=new Af(a);return Promise.resolve(l)}(0,0,a).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(a){const l=a.injector.get(Qv);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new Ve(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ve(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(Fc,null);null==a||a(),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(ze(hu))},i.\u0275prov=qt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Rb(i,s){return Array.isArray(s)?s.reduce(Rb,i):Object.assign(Object.assign({},i),s)}let Qv=(()=>{class i{constructor(a,l,c,h){this._zone=a,this._injector=l,this._exceptionHandler=c,this._initStatus=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new P.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),_=new P.y(D=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{ea.assertNotInAngularZone(),Pc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{ea.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{S.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ae.T)(y,_.pipe((0,oe.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Ve(405,"");let c;c=a instanceof wv?a:this._injector.get(Bd).resolveComponentFactory(a),this.componentTypes.push(c.componentType);const h=function Zv(i){return i.isBoundToModule}(c)?void 0:this._injector.get(Ws),_=c.create(hu.NULL,[],l||c.selector,h),D=_.location.nativeElement,S=_.injector.get(Iu,null),k=S&&_.injector.get(Db);return S&&k&&k.registerApplication(D,S),_.onDestroy(()=>{this.detachView(_.hostView),Jv(this.components,_),k&&k.unregisterApplication(D)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new Ve(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Jv(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(bb,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(ze(ea),ze(hu),ze(wp),ze(zv))},i.\u0275prov=qt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Jv(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let _l=!0,Xv=!1;function KD(){return Xv=!0,_l}function ZD(){if(Xv)throw new Error("Cannot enable prod mode after platform setup.");_l=!1}let Nb=(()=>{class i{}return i.__NG_ELEMENT_ID__=Vf,i})();function Vf(i){return function Wg(i,s,a){if(no(i)&&!a){const l=Ir(i.index,s);return new $d(l,l)}return 47&i.type?new $d(s[16],s):null}(In(),ke(),16==(16&i))}class $f{constructor(){}supports(s){return Cr(s)}create(s){return new JD(s)}}const Lb=(i,s)=>s;class JD{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Lb}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,c=0,h=null;for(;a||l;){const y=!l||a&&a.currentIndex<oh(l,c,h)?a:l,_=oh(y,c,h),D=y.currentIndex;if(y===l)c--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)c++;else{h||(h=[]);const S=_-c,k=D-c;if(S!=k){for(let Z=0;Z<S;Z++){const ee=Z<h.length?h[Z]:h[Z]=0,Te=ee+Z;k<=Te&&Te<S&&(h[Z]=ee+1)}h[y.previousIndex]=k-S}}_!==D&&s(y,_,D)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Cr(s))throw new Ve(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,h,y,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let _=0;_<this.length;_++)h=s[_],y=this._trackByFn(_,h),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,h,y,_)),Object.is(a.item,h)||this._addIdentityChange(a,h)):(a=this._mismatch(a,h,y,_),l=!0),a=a._next}else c=0,function OI(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[vr()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,_=>{y=this._trackByFn(c,_),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,_,y,c)),Object.is(a.item,_)||this._addIdentityChange(a,_)):(a=this._mismatch(a,_,y,c),l=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,c){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,h,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,h,c)):s=this._addAfter(new XD(a,l),h,c),s}_verifyReinsertion(s,a,l,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?s=this._reinsertAfter(h,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,h=s._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Il),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Il),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class XD{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Vb{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class Il{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new Vb,this.map.set(a,l)),l.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function oh(i,s,a){const l=i.previousIndex;if(null===l)return l;let c=0;return a&&l<a.length&&(c=a[l]),l+s+c}class i_{constructor(){}supports(s){return s instanceof Map||gy(s)}create(){return new Bb}}class Bb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||gy(s)))throw new Ve(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const h=this._getOrCreateRecordForKey(c,l);a=this._insertBeforeOrAppend(a,h)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const h=c._prev,y=c._next;return h&&(h._next=y),y&&(y._prev=h),c._next=null,c._prev=null,c}const l=new eC(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class eC{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function s_(){return new Hf([new $f])}let Hf=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||s_()),deps:[[i,new os,new ss]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(null!=l)return l;throw new Ve(901,"")}}return i.\u0275prov=qt({token:i,providedIn:"root",factory:s_}),i})();function ah(){return new uh([new i_])}let uh=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||ah()),deps:[[i,new os,new ss]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new Ve(901,"")}}return i.\u0275prov=qt({token:i,providedIn:"root",factory:ah}),i})();const rC=Ab(null,"core",[]);let $b=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(ze(Qv))},i.\u0275mod=F({type:i}),i.\u0275inj=Yt({}),i})()},3942:(mt,xe,L)=>{"use strict";L.d(xe,{Z:()=>Ve});var p=L(2090),j=L(4859),P=L(9681),ae=L(1877);class oe{constructor(we,Ae){this._delegate=we,this.firebase=Ae,(0,P._addComponent)(we,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(we,Ae=P._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const qe=this._delegate.container.getProvider(we);return!qe.isInitialized()&&"EXPLICIT"===(null===(st=qe.getComponent())||void 0===st?void 0:st.instantiationMode)&&qe.initialize(),qe.getImmediate({identifier:Ae})}_removeServiceInstance(we,Ae=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(Ae)}_addComponent(we){(0,P._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,P._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function ve(){const Ue=function pe(Ue){const we={},Ae={__esModule:!0,initializeApp:function Oe(re,Y={}){const Qe=P.initializeApp(re,Y);if((0,p.r3)(we,Qe.name))return we[Qe.name];const ne=new Ue(Qe,Ae);return we[Qe.name]=ne,ne},app:qe,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Ce(re){const Y=re.name,Qe=Y.replace("-compat","");if(P._registerComponent(re)&&"PUBLIC"===re.type){const ne=(ue=qe())=>{if("function"!=typeof ue[Qe])throw ge.create("invalid-app-argument",{appName:Y});return ue[Qe]()};void 0!==re.serviceProps&&(0,p.ZB)(ne,re.serviceProps),Ae[Qe]=ne,Ue.prototype[Qe]=function(...ue){return this._getService.bind(this,Y).apply(this,re.multipleInstances?ue:[])}}return"PUBLIC"===re.type?Ae[Qe]:null},removeApp:function st(re){delete we[re]},useAsService:function Xe(re,Y){return"serverAuth"===Y?null:Y},modularAPIs:P}};function qe(re){if(!(0,p.r3)(we,re=re||P._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:re});return we[re]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function Pe(){return Object.keys(we).map(re=>we[re])}}),qe.App=Ue,Ae}(oe);return Ue.INTERNAL=Object.assign(Object.assign({},Ue.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function we(Ae){(0,p.ZB)(Ue,Ae)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),Ue}(),W=new ae.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ue=self.firebase.SDK_VERSION;Ue&&Ue.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ve=K;!function Fe(Ue){(0,P.registerVersion)("@firebase/app-compat","0.1.22",Ue)}()},9681:(mt,xe,L)=>{"use strict";L.r(xe),L.d(xe,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Qr,_DEFAULT_ENTRY_NAME:()=>Xt,_addComponent:()=>bn,_addOrOverwriteComponent:()=>Rn,_apps:()=>Ge,_clearComponents:()=>An,_components:()=>Ot,_getProvider:()=>$t,_registerComponent:()=>qt,_removeServiceInstance:()=>Yt,deleteApp:()=>Mr,getApp:()=>qn,getApps:()=>fr,initializeApp:()=>xr,onLog:()=>Un,registerVersion:()=>Sn,setLogLevel:()=>Vt});var p=L(5861),j=L(4859),P=L(1877),ae=L(2090);class oe{constructor(le){this.container=le}getPlatformInfoString(){return this.container.getProviders().map(ot=>{if(function Ee(Ye){const le=Ye.getComponent();return"VERSION"===(null==le?void 0:le.type)}(ot)){const gt=ot.getImmediate();return`${gt.library}/${gt.version}`}return null}).filter(ot=>ot).join(" ")}}const ge="@firebase/app",ve=new P.Yd("@firebase/app"),Xt="[DEFAULT]",sn={[ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ge=new Map,Ot=new Map;function bn(Ye,le){try{Ye.container.addComponent(le)}catch(ot){ve.debug(`Component ${le.name} failed to register with FirebaseApp ${Ye.name}`,ot)}}function Rn(Ye,le){Ye.container.addOrOverwriteComponent(le)}function qt(Ye){const le=Ye.name;if(Ot.has(le))return ve.debug(`There were multiple attempts to register component ${le}.`),!1;Ot.set(le,Ye);for(const ot of Ge.values())bn(ot,Ye);return!0}function $t(Ye,le){const ot=Ye.container.getProvider("heartbeat").getImmediate({optional:!0});return ot&&ot.triggerHeartbeat(),Ye.container.getProvider(le)}function Yt(Ye,le,ot=Xt){$t(Ye,le).clearInstance(ot)}function An(){Ot.clear()}const ur=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class hr{constructor(le,ot,gt){this._isDeleted=!1,this._options=Object.assign({},le),this._config=Object.assign({},ot),this._name=ot.name,this._automaticDataCollectionEnabled=ot.automaticDataCollectionEnabled,this._container=gt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this.checkDestroyed(),this._automaticDataCollectionEnabled=le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(le){this._isDeleted=le}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}const Qr="9.6.11";function xr(Ye,le={}){"object"!=typeof le&&(le={name:le});const ot=Object.assign({name:Xt,automaticDataCollectionEnabled:!1},le),gt=ot.name;if("string"!=typeof gt||!gt)throw ur.create("bad-app-name",{appName:String(gt)});const Bt=Ge.get(gt);if(Bt){if((0,ae.vZ)(Ye,Bt.options)&&(0,ae.vZ)(ot,Bt.config))return Bt;throw ur.create("duplicate-app",{appName:gt})}const Ut=new j.H0(gt);for(const $ of Ot.values())Ut.addComponent($);const q=new hr(Ye,ot,Ut);return Ge.set(gt,q),q}function qn(Ye=Xt){const le=Ge.get(Ye);if(!le)throw ur.create("no-app",{appName:Ye});return le}function fr(){return Array.from(Ge.values())}function Mr(Ye){return rt.apply(this,arguments)}function rt(){return(rt=(0,p.Z)(function*(Ye){const le=Ye.name;Ge.has(le)&&(Ge.delete(le),yield Promise.all(Ye.container.getProviders().map(ot=>ot.delete())),Ye.isDeleted=!0)})).apply(this,arguments)}function Sn(Ye,le,ot){var gt;let Bt=null!==(gt=sn[Ye])&&void 0!==gt?gt:Ye;ot&&(Bt+=`-${ot}`);const Ut=Bt.match(/\s|\//),q=le.match(/\s|\//);if(Ut||q){const $=[`Unable to register library "${Bt}" with version "${le}":`];return Ut&&$.push(`library name "${Bt}" contains illegal characters (whitespace or "/")`),Ut&&q&&$.push("and"),q&&$.push(`version name "${le}" contains illegal characters (whitespace or "/")`),void ve.warn($.join(" "))}qt(new j.wA(`${Bt}-version`,()=>({library:Bt,version:le}),"VERSION"))}function Un(Ye,le){if(null!==Ye&&"function"!=typeof Ye)throw ur.create("invalid-log-argument");(0,P.Am)(Ye,le)}function Vt(Ye){(0,P.Ub)(Ye)}const On="firebase-heartbeat-store";let _t=null;function xn(){return _t||(_t=(0,ae.X3)("firebase-heartbeat-database",1,(Ye,le)=>{0===le&&Ye.createObjectStore(On)}).catch(Ye=>{throw ur.create("storage-open",{originalErrorMessage:Ye.message})})),_t}function Lt(){return(Lt=(0,p.Z)(function*(Ye){try{return(yield xn()).transaction(On).objectStore(On).get(Rr(Ye))}catch(le){throw ur.create("storage-get",{originalErrorMessage:le.message})}})).apply(this,arguments)}function it(Ye,le){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,p.Z)(function*(Ye,le){try{const gt=(yield xn()).transaction(On,"readwrite");return yield gt.objectStore(On).put(le,Rr(Ye)),gt.complete}catch(ot){throw ur.create("storage-set",{originalErrorMessage:ot.message})}})).apply(this,arguments)}function Rr(Ye){return`${Ye.name}!${Ye.options.appId}`}class Ti{constructor(le){this.container=le,this._heartbeatsCache=null;const ot=this.container.getProvider("app").getImmediate();this._storage=new yt(ot),this._heartbeatsCachePromise=this._storage.read().then(gt=>(this._heartbeatsCache=gt,gt))}triggerHeartbeat(){var le=this;return(0,p.Z)(function*(){const gt=le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Bt=Nn();if(null===le._heartbeatsCache&&(le._heartbeatsCache=yield le._heartbeatsCachePromise),le._heartbeatsCache.lastSentHeartbeatDate!==Bt&&!le._heartbeatsCache.heartbeats.some(Ut=>Ut.date===Bt))return le._heartbeatsCache.heartbeats.push({date:Bt,agent:gt}),le._heartbeatsCache.heartbeats=le._heartbeatsCache.heartbeats.filter(Ut=>{const q=new Date(Ut.date).valueOf();return Date.now()-q<=2592e6}),le._storage.overwrite(le._heartbeatsCache)})()}getHeartbeatsHeader(){var le=this;return(0,p.Z)(function*(){if(null===le._heartbeatsCache&&(yield le._heartbeatsCachePromise),null===le._heartbeatsCache||0===le._heartbeatsCache.heartbeats.length)return"";const ot=Nn(),{heartbeatsToSend:gt,unsentEntries:Bt}=function on(Ye,le=1024){const ot=[];let gt=Ye.slice();for(const Bt of Ye){const Ut=ot.find(q=>q.agent===Bt.agent);if(Ut){if(Ut.dates.push(Bt.date),jn(ot)>le){Ut.dates.pop();break}}else if(ot.push({agent:Bt.agent,dates:[Bt.date]}),jn(ot)>le){ot.pop();break}gt=gt.slice(1)}return{heartbeatsToSend:ot,unsentEntries:gt}}(le._heartbeatsCache.heartbeats),Ut=(0,ae.L)(JSON.stringify({version:2,heartbeats:gt}));return le._heartbeatsCache.lastSentHeartbeatDate=ot,Bt.length>0?(le._heartbeatsCache.heartbeats=Bt,yield le._storage.overwrite(le._heartbeatsCache)):(le._heartbeatsCache.heartbeats=[],le._storage.overwrite(le._heartbeatsCache)),Ut})()}}function Nn(){return(new Date).toISOString().substring(0,10)}class yt{constructor(le){this.app=le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var le=this;return(0,p.Z)(function*(){return(yield le._canUseIndexedDBPromise)&&(yield function kr(Ye){return Lt.apply(this,arguments)}(le.app))||{heartbeats:[]}})()}overwrite(le){var ot=this;return(0,p.Z)(function*(){var gt;if(yield ot._canUseIndexedDBPromise){const Ut=yield ot.read();return it(ot.app,{lastSentHeartbeatDate:null!==(gt=le.lastSentHeartbeatDate)&&void 0!==gt?gt:Ut.lastSentHeartbeatDate,heartbeats:le.heartbeats})}})()}add(le){var ot=this;return(0,p.Z)(function*(){var gt;if(yield ot._canUseIndexedDBPromise){const Ut=yield ot.read();return it(ot.app,{lastSentHeartbeatDate:null!==(gt=le.lastSentHeartbeatDate)&&void 0!==gt?gt:Ut.lastSentHeartbeatDate,heartbeats:[...Ut.heartbeats,...le.heartbeats]})}})()}}function jn(Ye){return(0,ae.L)(JSON.stringify({version:2,heartbeats:Ye})).length}!function Kt(Ye){qt(new j.wA("platform-logger",le=>new oe(le),"PRIVATE")),qt(new j.wA("heartbeat",le=>new Ti(le),"PRIVATE")),Sn(ge,"0.7.21",Ye),Sn(ge,"0.7.21","esm2017"),Sn("fire-js","")}("")},4859:(mt,xe,L)=>{"use strict";L.d(xe,{H0:()=>pe,wA:()=>P});var p=L(5861),j=L(2090);class P{constructor(K,W,se){this.name=K,this.instanceFactory=W,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const ae="[DEFAULT]";class oe{constructor(K,W){this.name=K,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const W=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(W)){const se=new j.BH;if(this.instancesDeferred.set(W,se),this.isInitialized(W)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:W});We&&se.resolve(We)}catch(We){}}return this.instancesDeferred.get(W).promise}getImmediate(K){var W;const se=this.normalizeInstanceIdentifier(null==K?void 0:K.identifier),We=null!==(W=null==K?void 0:K.optional)&&void 0!==W&&W;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(Fe){if(We)return null;throw Fe}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function ge(ve){return"EAGER"===ve.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:ae})}catch(W){}for(const[W,se]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(W);try{const Fe=this.getOrInitializeService({instanceIdentifier:We});se.resolve(Fe)}catch(Fe){}}}}clearInstance(K=ae){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,p.Z)(function*(){const W=Array.from(K.instances.values());yield Promise.all([...W.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...W.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=ae){return this.instances.has(K)}getOptions(K=ae){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:W={}}=K,se=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:se,options:W});for(const[Fe,Ve]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(Fe)&&Ve.resolve(We);return We}onInit(K,W){var se;const We=this.normalizeInstanceIdentifier(W),Fe=null!==(se=this.onInitCallbacks.get(We))&&void 0!==se?se:new Set;Fe.add(K),this.onInitCallbacks.set(We,Fe);const Ve=this.instances.get(We);return Ve&&K(Ve,We),()=>{Fe.delete(K)}}invokeOnInitCallbacks(K,W){const se=this.onInitCallbacks.get(W);if(se)for(const We of se)try{We(K,W)}catch(Fe){}}getOrInitializeService({instanceIdentifier:K,options:W={}}){let se=this.instances.get(K);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=K,ve===ae?void 0:ve),options:W}),this.instances.set(K,se),this.instancesOptions.set(K,W),this.invokeOnInitCallbacks(se,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,se)}catch(We){}var ve;return se||null}normalizeInstanceIdentifier(K=ae){return this.component?this.component.multipleInstances?K:ae:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const W=this.getProvider(K.name);if(W.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);W.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const W=new oe(K,this);return this.providers.set(K,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(mt,xe,L)=>{"use strict";L.d(xe,{Am:()=>ve,Ub:()=>pe,Yd:()=>ge,in:()=>j});const p=[];var j=(()=>{return(K=j||(j={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",j;var K})();const P={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},ae=j.INFO,oe={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},Ee=(K,W,...se)=>{if(W<K.logLevel)return;const We=(new Date).toISOString(),Fe=oe[W];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Fe](`[${We}]  ${K.name}:`,...se)};class ge{constructor(W){this.name=W,this._logLevel=ae,this._logHandler=Ee,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in j))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?P[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...W),this._logHandler(this,j.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...W),this._logHandler(this,j.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,j.INFO,...W),this._logHandler(this,j.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,j.WARN,...W),this._logHandler(this,j.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...W),this._logHandler(this,j.ERROR,...W)}}function pe(K){p.forEach(W=>{W.setLogLevel(K)})}function ve(K,W){for(const se of p){let We=null;W&&W.level&&(We=P[W.level]),se.userLogHandler=null===K?null:(Fe,Ve,...Ue)=>{const we=Ue.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch(st){return null}}).filter(Ae=>Ae).join(" ");Ve>=(null!=We?We:Fe.logLevel)&&K({level:j[Ve].toLowerCase(),message:we,args:Ue,type:Fe.name})}}}},5861:(mt,xe,L)=>{"use strict";function p(P,ae,oe,Ee,ge,pe,ve){try{var K=P[pe](ve),W=K.value}catch(se){return void oe(se)}K.done?ae(W):Promise.resolve(W).then(Ee,ge)}function j(P){return function(){var ae=this,oe=arguments;return new Promise(function(Ee,ge){var pe=P.apply(ae,oe);function ve(W){p(pe,Ee,ge,ve,K,"next",W)}function K(W){p(pe,Ee,ge,ve,K,"throw",W)}ve(void 0)})}}L.d(xe,{Z:()=>j})}},mt=>{mt(mt.s=7719)}]);